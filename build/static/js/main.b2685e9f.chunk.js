(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{349:function(e,t,a){e.exports=a.p+"static/media/profile.b6681619.png"},388:function(e,t,a){e.exports=a(776)},776:function(e,t,a){"use strict";a.r(t);for(var n=a(0),r=a.n(n),o=a(19),l=a.n(o),i=a(5),s=a(6),c=a(8),m=a(7),d=a(9),u=a(50),h=a(78),p=a(14),g=a(26),f=null,v=null,E={addBrandToList:function(e){delete e.role.created_at,delete e.role.updated_at,delete e.role.deleted_at,f.push(e),localStorage.setItem("userBrandList",JSON.stringify(f))},setBrandList:function(e){f=e,localStorage.setItem("userBrandList",JSON.stringify(e))},getBrandList:function(){return null==f&&(f=JSON.parse(localStorage.getItem("userBrandList"))),f},setSelectedBrand:function(e){v=f.find(function(t){return parseInt(t.id)===parseInt(e)}),localStorage.setItem("selectedbrand",JSON.stringify(v))},getSelectedBrand:function(){return null===v&&"undefined"!==localStorage.getItem("selectedbrand")&&(v=JSON.parse(localStorage.getItem("selectedbrand"))),v}},b=null,y={getUserToken:function(){return b.UserLogin.auth_token},getUser:function(){return null==b&&(b=JSON.parse(localStorage.getItem("user"))),b},setLoggedInUser:function(e){(b=e).token=b.UserLogin.auth_token,b.brands=b.UserOfUserBrand.map(function(e){var t={};return t.id=e.brand_id,t.name=e.UserBrandOfBrand.name,t.registered_name=e.UserBrandOfBrand.registered_name,t.logo_url=e.UserBrandOfBrand.logo_url,t.role={},t.role.id=e.UserBrandOfRole.id,t.role.display_name=e.UserBrandOfRole.display_name,t.role.name=e.UserBrandOfRole.name,t.role.description=e.UserBrandOfRole.description,t}),delete b.UserLogin,delete b.UserOfUserBrand,localStorage.setItem("userId",b.id),localStorage.setItem("token",b.token),localStorage.setItem("user",JSON.stringify(b)),E.setBrandList(b.brands)},logout:function(){localStorage.clear()},getAvatarURL:function(){return(b=localStorage.getItem("user")).avatar_url}},C=a(1),_=a.n(C),N=a(385),x={env:"dev",local:{url:"http://localhost:3000",RESTURL:"http://0985caaa.ngrok.io",MAINSITE:"http://localhost:8000"},dev:{url:"https://dev.dashboard.xwards.com",RESTURL:"https://dev.api.xwards.com",MAINSITE:"https://dev.xwards.com"},test:{url:"https://test.dashboard.xwards.com",RESTURL:"https://test.api.xwards.com",MAINSITE:"https://test.xwards.com"},prod:{url:"https://dashboard.xwards.com",RESTURL:"https://api.xwards.com",MAINSITE:"https://developer.xwards.com"}},w={},S=[{XPLAY_AUTH:function(e){return x[x.env].RESTURL+"/x-play"},XPLAY_REQUEST:function(){return x[x.env].RESTURL+"/x-play/request"},XPLAY_CREATE_CHANNEL:function(){return x[x.env].RESTURL+"/x-play/channel"},XPLAY_UPDATE_CHANNEL:function(e){return x[x.env].RESTURL+"/x-play/channel/"+e},XPLAY_GET_CHANNEL_LIST:function(){return x[x.env].RESTURL+"/x-play/channel"},XPLAY_GET_CHANNEL_DETAILS:function(e){return x[x.env].RESTURL+"/x-play/channel/"+e},XPLAY_UPDATE_CHANNEL_COVER_PHOTO:function(e){return x[x.env].RESTURL+"/x-play/channel/"+e+"/cover-photo"},XPLAY_DELETE_CHANNEL:function(e){return x[x.env].RESTURL+"/x-play/channel/"+e},XPLAY_UPLOAD_VIDEO:function(e){return x[x.env].RESTURL+"/x-play/channel/"+e+"/video"},XPLAY_VIDEO_DETAIL:function(e,t){return x[x.env].RESTURL+"/x-play/channel/"+e+"/video/"+t},XPLAY_GET_CHANNEL_VIDEOS:function(e,t){var a=t||"";return x[x.env].RESTURL+"/x-play/channel/"+e+"/video/"+a},XPLAY_DELETE_VIDEO:function(e,t){return x[x.env].RESTURL+"/x-play/channel/"+t+"/video/"+e},XPLAY_UPDATE_VIDEO_DETAILS:function(e,t){return x[x.env].RESTURL+"/x-play/channel/"+e+"/video/"+t},XPLAY_GET_LIVE_VIDEO_BY_ID:function(e){return x[x.env].RESTURL+"/x-play/video-neo/"+e},XPLAY_GET_CHANNEL_PLAYLISTS:function(e){return x[x.env].RESTURL+"/x-play/playlist/"+e},SEARCHPLAYLIST:function(e,t){return x[x.env].RESTURL+"/x-play/playlist/"+e+"/search/"+t},XPLAY_UPLOAD_PLAYLISTS:function(e){return x[x.env].RESTURL+"/x-play/playlist/"+e},XPLAY_DELETE_PLAYLIST:function(e,t){return x[x.env].RESTURL+"/x-play/playlist/"+e+"/"+t},XPLAY_PUBLISH_PLAYLIST:function(){return x[x.env].RESTURL+"/x-play/playlist/publish"},XPLAY_GET_PLAYLIST_BY_ID:function(e,t){return x[x.env].RESTURL+"/x-play/playlist/"+e+"/"+t},XPLAY_UPDATE_PLAYLIST:function(e,t){return x[x.env].RESTURL+"/x-play/playlist/"+e+"/"+t}},{XMUSIC_AUTH:function(e){return x[x.env].RESTURL+"/x-music"},XMUSIC_REQUEST:function(){return x[x.env].RESTURL+"/x-music/request"},XMUSIC_UPLOAD_SONG:function(){return x[x.env].RESTURL+"/x-music/music"},XMUSIC_GET_MUSIC_COUNT:function(){return x[x.env].RESTURL+"/x-music/count/music"},XMUSIC_GET_AUDIOS:function(e){var t=e||"";return x[x.env].RESTURL+"/x-music/music/"+t},XMUSIC_DELETE_AUDIO:function(e){return x[x.env].RESTURL+"/x-music/music/"+e},XMUSIC_GET_AUDIO_BY_ID:function(e){return x[x.env].RESTURL+"/x-music/music/"+e},XMUSIC_UPDATE_AUDIO:function(e){return x[x.env].RESTURL+"/x-music/music/"+e}},{GETUSERDATA:function(){return x[x.env].RESTURL+"/user/"+localStorage.getItem("userId")+"/user"},UPDATEUSERPROFILE:function(){return x[x.env].RESTURL+"/user/"+localStorage.getItem("userId")+"/profile"},UPDATEUSERIMAGE:function(){return x[x.env].RESTURL+"/user/"+localStorage.getItem("userId")+"/profile-pic"},UPDATEUSEREMAIL:function(){return x[x.env].RESTURL+"/user/"+localStorage.getItem("userId")+"/email"},UPDATEUSERPASSWORD:function(){return x[x.env].RESTURL+"/user/"+localStorage.getItem("userId")+"/password"}},{SEARCHMEMBER:function(e){return x[x.env].RESTURL+"/team/users/"+e},ROLE_DETAILS:function(){return x[x.env].RESTURL+"/team/roles/"},ADD_TEAM_MEMBER:function(){return x[x.env].RESTURL+"/team/member/"},GET_TEAM_MEMBERS:function(e){return x[x.env].RESTURL+"/team/brand/"+e},DELETE_TEAM_MEMBER:function(){return x[x.env].RESTURL+"/team/member"},INVITE_MEMBER:function(){return x[x.env].RESTURL+"/team/invite-member"}},{ADDBRAND:function(){return x[x.env].RESTURL+"/brand/"},GETBRAND:function(){return x[x.env].RESTURL+"/brand/"},GET_BRAND_BY_ID:function(e){return x[x.env].RESTURL+"/brand/"+e},DELETE_BRAND:function(e){return x[x.env].RESTURL+"/brand/"+e}},{LOGIN_VERIFY_URL:function(e){return x[x.env].RESTURL+"/user/login/verify/"+encodeURIComponent(e)},LOGIN_VERIFY_LOCAL:function(e,t){return x[x.env].RESTURL+"/user/"+e+"/verify/"+encodeURIComponent(t)},LOGOUT:function(){return x[x.env].RESTURL+"/user/"+localStorage.getItem("userId")+"/logout"}},{GET_CAMPAIGN_CATEGORY:function(e){return x[x.env].RESTURL+"/brand/"+e+"/campaign/categories"},ADD_CAMPAIGN:function(){return x[x.env].RESTURL+"/campaign/"},GET_CAMPAIGN:function(e){return x[x.env].RESTURL+"/brand/"+e+"/campaign/brand_id/"+e},UPDATE_CAMPAIGN_STATUS:function(e,t){return x[x.env].RESTURL+"/brand/"+e+"/campaign/"+t+"/status"},Create_Collection:function(e){return x[x.env].RESTURL+"/collection/brand/"+e},Get_All_Collections:function(e){return x[x.env].RESTURL+"/collection/brand/"+e},Get_Collection_By_Id:function(e,t){return x[x.env].RESTURL+"/collection/brand/"+e+"/collection/"+t},Update_Collection:function(e,t){return x[x.env].RESTURL+"/collection/brand/"+e+"/collection/"+t},Delete_Collection:function(e,t){return x[x.env].RESTURL+"/collection/brand/"+e+"/collection/"+t},Create_Creative:function(e,t){return x[x.env].RESTURL+"/collection/brand/"+e+"/collection/"+t},Get_All_Creatives:function(e,t){return x[x.env].RESTURL+"/collection/brand/"+e+"/collection/"+t+"/creative"},Get_Creative_By_Id:function(e,t,a){return x[x.env].RESTURL+"/collection/brand/"+e+"/collection/"+t+"/creative/"+a},Delete_Creative:function(e,t,a){return x[x.env].RESTURL+"/collection/brand/"+e+"/collection/"+t+"/creative/"+a},Update_Creative:function(e,t,a){return x[x.env].RESTURL+"/collection/brand/"+e+"/collection/"+t+"/creative/"+a}},{ADD_CONTENTS:function(){return x[x.env].RESTURL+"/content/"},GET_CONTENT:function(e){return x[x.env].RESTURL+"/content/"+e},GET_CONTENTS:function(){return x[x.env].RESTURL+"/content/"},GET_DRAFT_CONTENTS:function(){return x[x.env].RESTURL+"/content/draft/"},GET_INREVIEW_CONTENTS:function(){return x[x.env].RESTURL+"/content/in-review/"},DELETE_DRAFT_CONTENT:function(e){return x[x.env].RESTURL+"/content/"+e+"/draft/"},DELETE_INREVIEW_CONTENT:function(e){return x[x.env].RESTURL+"/content/"+e+"/in-review/"},SAVE_CONTENT_AS_DRAFT:function(e){return e?x[x.env].RESTURL+"/content/"+e+"/draft/":x[x.env].RESTURL+"/content/draft/"},CHANGE_CONTENT_STATUS:function(e){return x[x.env].RESTURL+"/content/"+e+"/status/"},GET_DRAFT_BY_ID:function(e){return x[x.env].RESTURL+"/content/draft/"+e},GET_INREVIEW_BY_ID:function(e){return x[x.env].RESTURL+"/content/in-review/"+e},SAVE_FINAL_CONTENT:function(e){return x[x.env].RESTURL+"/content/"+e}}],k=0;k<S.length;k++)for(var D=0,T=Object.entries(S[k]);D<T.length;D++){var I=T[D],F=Object(N.a)(I,2),A=F[0],O=F[1];w[A]=O}var M=w,P={get:function(e,t,a,n){a=a||null,t=t||null;var r="timeout"in(n=n||{})?n.timeout:3e4;return _.a.ajax({url:e,method:"GET",headers:{"x-auth":localStorage.getItem("token")},timeout:r,beforeSend:function(){_()("#main-spinner-content-holder").css("display","block"),"loader"in n&&(n.loader||_()("#main-spinner-content-holder").css("display","none")),"beforeSend"in n&&n.beforeSend()},complete:function(){_()("#main-spinner-content-holder").css("display","none"),"onComplete"in n&&n.onComplete()},error:function(e,t,n){a&&a(e,t,n)},success:function(e,a,n){t&&t(e,a,n)}})},post:function(e,t,a,n,r){t=t||{},n=n||null,a=a||null;var o="timeout"in(r=r||{})?r.timeout:3e4;return _.a.ajax({url:e,method:"POST",data:t,cache:!1,headers:{"x-auth":localStorage.getItem("token")},timeout:o,beforeSend:function(){_()("#main-spinner-content-holder").css("display","block"),"loader"in r&&(r.loader||_()("#main-spinner-content-holder").css("display","none")),"beforeSend"in r&&r.beforeSend()},complete:function(){_()("#main-spinner-content-holder").css("display","none"),"onComplete"in r&&r.onComplete()},error:function(e,t,a){n&&n(e,t,a)},success:function(e,t,n){a&&a(e,t,n)}})},put:function(e,t,a,n,r){t=t||{},n=n||null,a=a||null;var o="timeout"in(r=r||{})?r.timeout:3e4;return _.a.ajax({url:e,method:"PUT",data:t,headers:{"x-auth":localStorage.getItem("token")},timeout:o,beforeSend:function(){_()("#main-spinner-content-holder").css("display","block"),"loader"in r&&(r.loader||_()("#main-spinner-content-holder").css("display","none")),"beforeSend"in r&&r.beforeSend()},complete:function(){_()("#main-spinner-content-holder").css("display","none"),"onComplete"in r&&r.onComplete()},error:function(e,t,a){n&&n(e,t,a)},success:function(e,t,n){a&&a(e,t,n)}})},delete:function(e,t,a,n){a=a||null,t=t||null;var r="timeout"in(n=n||{})?n.timeout:3e4;return _.a.ajax({url:e,method:"DELETE",headers:{"x-auth":localStorage.getItem("token")},timeout:r,beforeSend:function(){_()("#main-spinner-content-holder").css("display","block"),"loader"in n&&(n.loader||_()("#main-spinner-content-holder").css("display","none")),"beforeSend"in n&&n.beforeSend()},complete:function(){_()("#main-spinner-content-holder").css("display","none"),"onComplete"in n&&n.onComplete()},error:function(e,t,n){a&&a(e,t,n)},success:function(e,a,n){t&&t(e,a,n)}})},postImageData:function(e,t,a,n,r){t=t||{},n=n||null,a=a||null;var o="timeout"in(r=r||{})?r.timeout:3e4;return _.a.ajax({url:e,method:"POST",processData:!1,contentType:!1,data:t,cache:!1,headers:{"x-auth":localStorage.getItem("token")},timeout:o,beforeSend:function(){_()("#main-spinner-content-holder").css("display","block"),"loader"in r&&(r.loader||_()("#main-spinner-content-holder").css("display","none")),"beforeSend"in r&&r.beforeSend()},complete:function(){_()("#main-spinner-content-holder").css("display","none"),"onComplete"in r&&r.onComplete()},error:function(e,t,a){n&&n(e,t,a)},success:function(e,t,n){a&&a(e,t,n)}})},putImageData:function(e,t,a,n,r){t=t||{},n=n||null,a=a||null;var o="timeout"in(r=r||{})?r.timeout:3e4;return _.a.ajax({url:e,method:"PUT",processData:!1,contentType:!1,data:t,cache:!1,headers:{"x-auth":localStorage.getItem("token")},timeout:o,beforeSend:function(){_()("#main-spinner-content-holder").css("display","block"),"loader"in r&&(r.loader||_()("#main-spinner-content-holder").css("display","none")),"beforeSend"in r&&r.beforeSend()},complete:function(){_()("#main-spinner-content-holder").css("display","none"),"onComplete"in r&&r.onComplete()},error:function(e,t,a){n&&n(e,t,a)},success:function(e,t,n){a&&a(e,t,n)}})}},U=function(e){this.setState({loaded:!0})},L=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={loaded:!1},U=U.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"logout",value:function(){P.get(M.LOGOUT(),function(e){localStorage.clear(),window.location.replace(x[x.env].MAINSITE)},function(e){localStorage.clear(),window.location.replace(x[x.env].MAINSITE)})}},{key:"render",value:function(){var e=this;return r.a.createElement(g.a,null,r.a.createElement(g.a.Toggle,{variant:"x-transparent",id:"user-dropdown",bsPrefix:"btn-sm btn-link text-x-default"},y.getUser()&&y.getUser().first_name," ",r.a.createElement("i",{className:"margin-left-5 fas fa-caret-down"})),r.a.createElement(g.a.Menu,{alignRight:!0},r.a.createElement(g.a.Item,{href:"/user/profile",bsPrefix:"dropdown-item"},r.a.createElement("i",{className:"far fa-id-card margin-right-10"})," Personal Info"),r.a.createElement(g.a.Item,{href:"/user/team",bsPrefix:"dropdown-item"},r.a.createElement("i",{className:"fas fa-user-friends margin-right-10"})," Team Management"),r.a.createElement(g.a.Item,{href:"/user/billing",bsPrefix:"dropdown-item"},r.a.createElement("i",{className:"fas fa-credit-card margin-right-10"})," Payment Modes"),r.a.createElement(g.a.Divider,null),r.a.createElement(g.a.Item,{href:"/help-and-support",bsPrefix:"dropdown-item"},r.a.createElement("i",{className:"fas fa-life-ring margin-right-10"})," Need Help?"),r.a.createElement(g.a.Divider,null),r.a.createElement(g.a.Item,{bsPrefix:"dropdown-item",onClick:function(){return e.logout()}},r.a.createElement("i",{className:"fas fa-power-off margin-right-10"})," Logout")))}}]),t}(n.Component),j=a(105),R=a(75),B=a(17),G=a(43),H={showLoader:function(){_()("#main-spinner-content-holder").css("display","block")},hideLoader:function(){_()("#main-spinner-content-holder").css("display","none")},getUrlParams:function(){var e=new URLSearchParams(window.location.search),t={},a=!0,n=!1,r=void 0;try{for(var o,l=e.keys()[Symbol.iterator]();!(a=(o=l.next()).done);a=!0){var i=o.value;t[i]=e.get(i)}}catch(s){n=!0,r=s}finally{try{a||null==l.return||l.return()}finally{if(n)throw r}}return t},secondsToHms:function(e){e=Number(e);var t=Math.floor(e/3600),a=Math.floor(e%3600/60),n=Math.floor(e%3600%60);return(t>0?t+(1===t?" H ":" Hrs "):"")+(a>0?a+(1===a?" Min ":" Mins "):"")+(n>0?n+(1===n?" Sec":" Secs"):"")},toDateFormat:function(e){var t=new Date(1e3*e);return t.getDate()+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]+" "+t.getFullYear()},toDateFormatForInput:function(e){return new Date(1e3*e).toISOString().substr(0,10)},getFormData:function(e){var t={};return e=e.map(function(e){return t[e.name]=e.value}),t},curday:function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1;return t<10&&(t="0"+t),a<10&&(a="0"+a),e.getFullYear()+"-"+a+"-"+t},addDays:function(e,t){var a=new Date(e);return new Date(a.getTime()+24*t*60*60*1e3)},b64toBlob:function(e,t,a){t=t||"",a=a||512;for(var n=atob(e),r=[],o=0;o<n.length;o+=a){for(var l=n.slice(o,o+a),i=new Array(l.length),s=0;s<l.length;s++)i[s]=l.charCodeAt(s);var c=new Uint8Array(i);r.push(c)}return new Blob(r,{type:t})},dateToEpoch:function(e){var t=new Date(e);return t=t.getTime()/1e3}},V=function(){this.setState({show:!0,successMessage:""})},X=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={show:!1,successMessage:""},V=V.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"hideModal",value:function(){this.setState({show:!1,successMessage:""})}},{key:"addBrand",value:function(){var e=H.getFormData(_()("form#addBrandForm").serializeArray());P.post(M.ADDBRAND(),e,function(e){_()("#brandAddModal #success-message").html(e.message),_()("#brandAddModal #addBrandForm__brandName").val(""),_()("#brandAddModal #addBrandForm__legalName").val(""),E.addBrandToList(e.brand),Y(),this.setState({show:!1}),window.location.reload()}.bind(this),function(e){_()("#brandAddModal #error-message").html(e)},{onComplete:function(){_()("button#addBrandForm__btnAddBrand").removeAttr("disabled"),_()("button#addBrandForm__btnAddBrand").html("Add"),_()("button#addBrandForm__btnAddBrand").prepend("<i class='fas fa-plus margin-right-10'></i>")},beforeSend:function(){_()("button#addBrandForm__btnAddBrand").html("Adding Brand..."),_()("button#addBrandForm__btnAddBrand").prepend("<span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true'></span>"),_()("button#addBrandForm__btnAddBrand").attr("disabled","disabled")}})}},{key:"render",value:function(){var e=this;return r.a.createElement(j.a,{show:this.state.show,id:"brandAddModal",centered:!0,onHide:function(){return e.hideModal()}},r.a.createElement(R.a,{closeButton:!0},r.a.createElement("h4",{className:"montserrat-light"},"Add a Brand")),r.a.createElement(j.a.Body,{className:"padding-top-0"},r.a.createElement(B.a,{name:"addBrandForm",id:"addBrandForm"},r.a.createElement(B.a.Group,{controlId:"addBrandForm__brandName"},r.a.createElement(B.a.Text,{className:"text-muted margin-bottom-10 padding-left-5"},"You can add brands related to your organization and maintain each campaign independently from the brands."),r.a.createElement(B.a.Label,{className:"padding-left-5"},"Brand Name"),r.a.createElement(B.a.Control,{type:"text",placeholder:"Brand Name",name:"brandName"})),r.a.createElement(B.a.Group,{controlId:"addBrandForm__legalName"},r.a.createElement(B.a.Label,{className:"padding-left-5"},"Legal Name"),r.a.createElement(B.a.Control,{type:"text",placeholder:"Legal Entity Name or Billing Name",name:"legalName"})),r.a.createElement("div",{className:"text-success font-weight-800 margin-bottom-10",id:"success-message"}),r.a.createElement("div",{className:"text-x-love font-weight-800 margin-bottom-10",id:"error-message"}),r.a.createElement(G.a,{variant:"x-dark-default",className:"right margin-left-5",id:"addBrandForm__btnAddBrand",onClick:function(){return e.addBrand()}},r.a.createElement("i",{className:"fas fa-plus margin-right-10"}),"Add"),r.a.createElement(G.a,{variant:"outline-x-love",className:"right margin-right-5",onClick:function(){return e.hideModal()}},"Close"))))}}]),t}(n.Component),Y=function(){null!==localStorage.getItem("selectedBrand")&&void 0!==localStorage.getItem("selectedBrand")&&E.setSelectedBrand(localStorage.getItem("selectedBrand").id),this.setState({loaded:!0})},q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={loaded:!1},Y=Y.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"changeBrand",value:function(e){E.setSelectedBrand(e.id),this.setState({loaded:!0}),window.location.reload()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,null,r.a.createElement(g.a.Toggle,{variant:"x-transparent",id:"brand-dropdown",bsPrefix:"btn-sm btn-link text-x-default"},r.a.createElement("i",{className:"fas fa-city margin-right-5"}),null===E.getSelectedBrand()&&"Choose a Brand",null!==E.getSelectedBrand()&&E.getSelectedBrand().name,r.a.createElement("i",{className:"margin-left-5 fas fa-caret-down"})),r.a.createElement(g.a.Menu,{alignRight:!0},(null===E.getBrandList()||0===E.getBrandList().length)&&r.a.createElement(g.a.Item,{bsPrefix:"dropdown-item",disabled:!0},"No Brands"),null!==E.getBrandList()&&E.getBrandList().map(function(t){return r.a.createElement(g.a.Item,{onSelect:function(){return e.changeBrand(t)},bsPrefix:"dropdown-item",key:t.id},t.name)}),r.a.createElement(g.a.Divider,null),r.a.createElement(g.a.Item,{onClick:function(){return V()},bsPrefix:"dropdown-item"},"Add Brand"),r.a.createElement(g.a.Item,{href:"/brands",bsPrefix:"dropdown-item"},"Manage Brands"))),r.a.createElement(X,null))}}]),t}(n.Component),z=function(e){this.setState({location:e}),J(e)},W=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={location:window.location.pathname},z=z.bind(Object(p.a)(e)),e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"updateListActive",value:function(e){this.setState({location:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"dashboard-sidemenu body-holder"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-12 padding-bottom-15 padding-left-0 padding-right-0 padding-top-5"},r.a.createElement("ul",{className:"list-group"},Z.map(function(t){return r.a.createElement(u.b,{key:t.route,to:t.route,onClick:function(){return e.updateListActive(t.route)}},r.a.createElement("li",{className:"list-group-item list-group-item-action cursor-pointer"+(e.state.location===t.route?" active":"")},r.a.createElement("i",{className:t.icon+" margin-right-15"})," ",t.name))})))))))}}]),t}(n.Component),J=function(e){this.setState({open:!1,location:e})},K=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={open:!1,location:window.location.pathname},a.ImageUrl=x[x.env].url,J=J.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"dontClose",value:function(e){e.stopPropagation()}},{key:"toggleSideBar",value:function(){this.setState({open:!this.state.open,location:this.state.location})}},{key:"updateListActive",value:function(e){this.setState({open:!1,location:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"btn btn-sm btn-outline-x-default margin-right-10 d-block d-md-none",onClick:function(){return e.toggleSideBar()}},r.a.createElement("i",{className:"fas fa-bars"})),r.a.createElement("div",{className:"slider "+(this.state.open?"":"hide"),onClick:function(){return e.toggleSideBar()}},r.a.createElement("div",{className:"sideMenu",onClick:function(t){return e.dontClose(t)}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-12 padding-bottom-15 padding-left-0 padding-right-0"},r.a.createElement("div",{className:"padding-top-15 padding-left-15 padding-right-15 padding-bottom-20"},r.a.createElement("img",{src:this.ImageUrl+"/images/xds-nav.svg",alt:"Xwards"})),r.a.createElement("ul",{className:"list-group"},Z.map(function(t){return r.a.createElement(u.b,{key:t.route,to:t.route,onClick:function(){return e.updateListActive(t.route)}},r.a.createElement("li",{className:"list-group-item list-group-item-action cursor-pointer"+(e.state.location===t.route?" active":"")},r.a.createElement("i",{className:t.icon+" margin-right-15"})," ",t.name))}))))))))}}]),t}(n.Component),Z=[{name:"My Dashboard",route:"/",icon:"fas fa-business-time"},{name:"Manage Brands",route:"/brands",icon:"fas fa-city"},{name:"Campaigns Manager",route:"/brands/campaigns",icon:"fas fa-bullhorn"},{name:"Content Marketing",route:"/content-marketing",icon:"fas fa-newspaper"},{name:"X-Play",route:"/xplay",icon:"fab fa-youtube"},{name:"Billing Management",route:"/user/billing",icon:"fas fa-credit-card"},{name:"Developer Options",route:"/developer-options",icon:"fas fa-code"},{name:"Help and Support",route:"/help-and-support",icon:"fas fa-life-ring"}],Q=a(67),$=(a(176),function(e,t){switch(e){case"success":Q.b.success(t,{position:Q.b.POSITION.TOP_RIGHT});break;case"error":case"err":Q.b.error(t,{position:Q.b.POSITION.TOP_RIGHT});break;case"warn":case"warning":Q.b.warn(t,{position:Q.b.POSITION.TOP_RIGHT});break;case"info":case"log":default:Q.b.info(t,{position:Q.b.POSITION.TOP_RIGHT})}}),ee=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).ImageUrl=x[x.env].url,$=$.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{autoClose:4e3}),r.a.createElement("div",{className:"container-fluid bg-white nav-container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-12"},r.a.createElement("nav",{className:"navbar navbar-expand-lg"},r.a.createElement(K,null),r.a.createElement("a",{className:"navbar-brand mr-auto",href:"/"},r.a.createElement("img",{className:"logo",src:this.ImageUrl+"/images/xds-nav.svg",height:"30",alt:"logo"})),r.a.createElement(q,null),r.a.createElement(L,null))))))}}]),t}(n.Component),te=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-12"},r.a.createElement("h4",{className:"margin-top-10 margin-bottom-20 margin-left-5"},"Advertisement Stats"),r.a.createElement("iframe",{src:"https://dev.kibana.xwards.com/app/kibana#/dashboard/AXFOCp7VFhkZamSxNqMF?embed=true&_g=(refreshInterval%3A('%24%24hashKey'%3A'object%3A493'%2Cdisplay%3A'10%20seconds'%2Cpause%3A!f%2Csection%3A1%2Cvalue%3A10000)%2Ctime%3A(from%3Anow%2Fy%2Cmode%3Aquick%2Cto%3Anow))",height:"650",width:"100%",frameBorder:"0"}),r.a.createElement("h4",{className:"margin-top-10 margin-bottom-20 margin-left-5"},"Overall Stats"),r.a.createElement("iframe",{src:"https://dev.kibana.xwards.com/app/kibana#/dashboard/AXF96CQMXp6I2F5ImlPh?embed=true&_g=(refreshInterval%3A('%24%24hashKey'%3A'object%3A493'%2Cdisplay%3A'10%20seconds'%2Cpause%3A!f%2Csection%3A1%2Cvalue%3A10000)%2Ctime%3A(from%3Anow%2Fy%2Cmode%3Aquick%2Cto%3Anow))",height:"400",width:"100%",frameBorder:"0"}))))}}]),t}(n.Component),ae=a(97),ne=a(106),re=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={brandListLength:E.getBrandList().length},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"deleteBrand",value:function(e){console.log(e),window.confirm("Do you really want to remove this Brand?")&&P.delete(M.DELETE_BRAND(e),function(e){console.log(e.data),window.location.reload()},function(e){console.error(e.response)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-12"},0!==this.state.brandListLength?r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:"margin-top-10 margin-bottom-20 margin-left-5"},"Summary of Brands"),r.a.createElement(ae.a,{striped:!0,bordered:!0,hover:!0,className:"text-center"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Brand Name"),r.a.createElement("th",null,"Registered Name"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,E.getBrandList().map(function(t){return r.a.createElement("tr",{key:t.id},"Owner"===t.role.name?r.a.createElement("td",null,r.a.createElement(u.b,{to:"/brands/"+t.id,className:"text-x-default"},t.name)):r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.registered_name),"Owner"===t.role.name?r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-link",onClick:function(){return e.deleteBrand(t.id)}},"Delete")):r.a.createElement("td",null,r.a.createElement("strong",null,"NA")," as You are ",r.a.createElement("strong",null,t.role.name)))})))):r.a.createElement(ne.a,{className:"text-center margin-top-20"},r.a.createElement(ne.a.Body,null,r.a.createElement("h2",{className:"text-x-love margin-bottom-20"},"No Brands Created"),r.a.createElement("h6",{className:"text-x-default max-width-70 margin-auto"},"To create your own brand, please visit the dropdown of the brands and add brand there. Creating a brand will make you brand owner."))))))}}]),t}(n.Component),oe=a(22),le=a(21),ie=a(51),se=a.n(ie),ce=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).gotoCreativeManagement=function(t){t.preventDefault(),e.props.history.push({pathname:"/brands/campaigns/creative-managements/collections/"})},e.addCampaignManager=function(t){t.preventDefault(),e.props.history.push({pathname:"/campaign/create/"})},e.changeCampaignStatus=function(t,a){if("CONFIRM"!==window.prompt("Type 'CONFIRM' to change the status."))return $("err",'ERR. Please type "CONFIRM"...'),!1;var n={checkedValue:t.target.checked};P.put(M.UPDATE_CAMPAIGN_STATUS(e.state.selectedBrand.id,a),n,function(e){console.log(e),window.location.reload(),$("success","Campaign Status Updated.")},function(e){console.log(e),$("err","Error occured while updating your campaign status.")})},e.state={campaignList:[],userBrandListLength:E.getBrandList().length,selectedBrand:E.getSelectedBrand(),totalItemsCount:"",activePage:1},z("/brands/campaigns"),e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){null!==this.state.selectedBrand?P.get(M.GET_CAMPAIGN(this.state.selectedBrand.id)+"?page="+this.state.activePage,function(e){this.setState({campaignList:e.campaign,totalItemsCount:e.campaignCount})}.bind(this),function(e){console.log(e),$("err","Some error occured while fetching your campaigns.")}):$("info","Please select a brand to go for a campaign.")}},{key:"handlePageChange",value:function(e){this.setState({activePage:e}),P.get(M.GET_CAMPAIGN(this.state.selectedBrand.id)+"?page="+e,function(e){this.setState({campaignList:e.campaign,totalItemsCount:e.campaignCount})}.bind(this),function(e){console.log(e),$("err","Some error occured while fetching your campaigns.")})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,0===this.state.userBrandListLength&&r.a.createElement(ne.a,{className:"text-center margin-top-20"},r.a.createElement(ne.a.Body,null,r.a.createElement("h2",{className:"text-x-love margin-bottom-20"},"No Brands Created"),r.a.createElement("h6",{className:"text-x-default max-width-70 margin-auto"},"To create your own brand, please visit the dropdown of the brands and add brand there. Creating a brand will make you brand owner."))),0!==this.state.userBrandListLength&&(null!==this.state.selectedBrand?r.a.createElement("div",{className:"container-fluid margin-bottom-50"},r.a.createElement("div",{className:"row margin-top-5"},r.a.createElement("div",{className:"col col-3"},r.a.createElement(G.a,{variant:"x-love",type:"submit",id:"add_campaign_manager",sm:"4",onClick:function(t){return e.addCampaignManager(t)}},r.a.createElement("i",{className:"fas fa-plus"})," Campaign Manager")),r.a.createElement("div",{className:"col col-3"},r.a.createElement(G.a,{variant:"x-default",type:"submit",id:"creative_management",sm:"4",onClick:function(t){return e.gotoCreativeManagement(t)}},r.a.createElement("i",{className:"fas fa-plus"})," Creative Management"))),0!==this.state.campaignList.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row margin-top-20"},r.a.createElement("div",{className:"col col-12"},r.a.createElement("h4",null,"Summary of Campaigns"),r.a.createElement(ae.a,{striped:!0,bordered:!0,hover:!0,id:"campaign-summary",className:"center-align"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"Campaign Name"),r.a.createElement("th",null,"Brand"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Starts"),r.a.createElement("th",null,"Validity"))),r.a.createElement("tbody",null,this.state.campaignList.map(function(t){return r.a.createElement("tr",{key:t.id},"Terminated"!==t.status&&r.a.createElement("td",null,r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Pause or Resume your Campaign from live")},r.a.createElement("label",{className:"switch margin-top-5"},r.a.createElement("input",{type:"checkbox",checked:"Paused"!==t.status,onChange:function(a){return e.changeCampaignStatus(a,t.id)}}),r.a.createElement("span",{className:"slider round"})))),"Terminated"===t.status&&r.a.createElement("td",{className:"font-weight-700 text-x-love"},"NA"),r.a.createElement("td",{className:"text-x-default"},t.name),r.a.createElement("td",null,e.state.selectedBrand.name),"Paused"===t.status&&r.a.createElement("td",{className:"font-weight-700",style:{color:"#FFC300"}},t.status),"Running"===t.status&&r.a.createElement("td",{className:"font-weight-700",style:{color:"green"}},t.status),"Terminated"===t.status&&r.a.createElement("td",{className:"font-weight-700",style:{color:"red"}},t.status),r.a.createElement("td",null,H.toDateFormat(t.start_date)),r.a.createElement("td",null,t.total_days," days"))}))))),r.a.createElement("div",{className:"row margin-top-20 margin-bottom-20"},r.a.createElement(se.a,{activePage:this.state.activePage,itemsCountPerPage:10,totalItemsCount:this.state.totalItemsCount,pageRangeDisplayed:5,itemClass:"page-item",linkClass:"page-link",onChange:function(t){return e.handlePageChange(t)}}))):r.a.createElement("div",{className:"row margin-top-30 margin-left-5"},r.a.createElement(ne.a,{className:"text-center w-100"},r.a.createElement(ne.a.Body,null,r.a.createElement("h2",{className:"text-x-love margin-bottom-20"},"No Campaign Created under ",this.state.selectedBrand.name,"."),r.a.createElement("h6",{className:"text-x-default max-width-70 margin-auto"},"To create a campaign, please click on the ",r.a.createElement("strong",null,"Campaign Manager")," button."))))):r.a.createElement(ne.a,{className:"text-center margin-top-20"},r.a.createElement(ne.a.Body,null,r.a.createElement("h2",{className:"text-x-love margin-bottom-20"},"No Brands Selected"),r.a.createElement("h6",{className:"text-x-default max-width-70 margin-auto"},"To create a campaign, please select a brand to proceed further.")))))}}]),t}(n.Component),me=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-12"},"BillingManager")))}}]),t}(n.Component),de=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-12"},"Developers API Enable")))}}]),t}(n.Component),ue=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-12"},"Help and support")))}}]),t}(n.Component),he=a(782),pe=a(345),ge=a(783),fe=a(349),ve=a.n(fe),Ee=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).fileSelectHandler=function(t){var a=e.refs.fileInput.files[0],n=new FileReader;n.readAsDataURL(a),n.onloadend=function(e){this.setState({imgSrc:[n.result]})}.bind(Object(p.a)(e)),console.log(e.state.imgSrc)},e.uploadUserImage=function(t){t.preventDefault();var a={userImage:e.state.imgSrc};P.put(M.UPDATEUSERIMAGE(),a,function(e){},function(e){},{onComplete:function(){_()("button#uploadImageForm__btnUpdateUserImage").removeAttr("disabled"),_()("button#uploadImageForm__btnUpdateUserImage").html("Upload")},beforeSend:function(){_()("button#uploadImageForm__btnUpdateUserImage").html("Uploading..."),_()("button#uploadImageForm__btnUpdateUserImage").prepend("<span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true'></span>"),_()("button#uploadImageForm__btnUpdateUserImage").attr("disabled","disabled")}})},e.state={imgSrc:ve.a},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("user"),t=JSON.parse(e);this.setState({imgSrc:t.avatar_url})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(B.a,{name:"uploadImageForm",id:"uploadImageForm",onSubmit:this.uploadUserImage},r.a.createElement(B.a.Group,{as:he.a,controlId:"myProfileForm__userImage"},r.a.createElement(B.a.Label,{column:!0,sm:"3",className:""},"Profile Picture"),r.a.createElement(pe.a,{className:"text-left"},r.a.createElement(ge.a,{src:this.state.imgSrc,alt:"",style:{width:100,height:100},rounded:!0}),r.a.createElement("div",{className:"display-block margin-top-10"},r.a.createElement("input",{style:{display:"none"},name:"userImage",ref:"fileInput",type:"file",onChange:this.fileSelectHandler}),r.a.createElement(G.a,{variant:"x-default",className:"btn-sm",onClick:function(){return e.refs.fileInput.click()}},"Change"),r.a.createElement(G.a,{variant:"x-dark-default",className:"btn-sm margin-left-10",id:"uploadImageForm__btnUpdateUserImage",type:"submit"},"Upload")),r.a.createElement("div",{className:"text-success font-weight-800 margin-top-10 margin-bottom-10",id:"success-message"}),r.a.createElement("div",{className:"text-x-love font-weight-800 margin-top-10 margin-bottom-10",id:"error-message"})))))}}]),t}(n.Component),be=a(76),ye=a(386),Ce=a(350),_e=a.n(Ce),Ne=function(){function e(t){Object(i.a)(this,e),this.validations=t}return Object(s.a)(e,[{key:"validate",value:function(e){var t=this.valid();return this.validations.forEach(function(a){if(!t[a.field].isInvalid){console.log(e),console.log(a.field),console.log(typeof e[a.field]);var n=e[a.field],r=a.args||[];("string"===typeof a.method?_e.a[a.method]:a.method).apply(void 0,[n].concat(Object(ye.a)(r),[e]))!==a.validWhen&&(t[a.field]={isInvalid:!0,message:a.message},t.isValid=!1)}}),t}},{key:"valid",value:function(){var e={};return this.validations.map(function(t){return e[t.field]={isInvalid:!1,message:""}}),Object(be.a)({isValid:!0},e)}}]),e}(),xe={email_rules:[{field:"newEmail",method:"isEmpty",validWhen:!1,message:"Please enter the new email address."},{field:"newEmail",method:"isEmail",validWhen:!0,message:"Please enter a valid email address."}],password_rules:[{field:"password",method:"isEmpty",validWhen:!1,message:"Please enter the current password."},{field:"newPassword",method:"isEmpty",validWhen:!1,message:"Please enter the new password."},{field:"newPassword",method:"isLength",args:[{min:8,max:void 0}],validWhen:!0,message:"Password should have at least 8 characters"},{field:"confirmPassword",method:"isEmpty",validWhen:!1,message:"Please confirm the new password."},{field:"confirmPassword",method:function(e,t){return t.newPassword===e},validWhen:!0,message:"Passwords do not match."}]},we=function(){this.setState({show:!0})},Se=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).handleClose=function(){e.setState({show:!1})},e.changePassword=function(t){t.preventDefault();var a=H.getFormData(_()("form#changePasswordModalForm").serializeArray()),n=e.validator.validate(a);n.isValid?P.put(M.UPDATEUSERPASSWORD(),a,function(e){_()("#myProfile__changePasswordModal #success-message").html(e.message),_()("#changePasswordModalForm__password__msg").html(""),_()("#changePasswordModalForm__newPassword__msg").html(""),_()("#changePasswordModalForm__confirmPassword__msg").html(""),_()("#myProfile__changePasswordModal #error-message").html("")},function(e){console.log(e),_()("#myProfile__changePasswordModal #error-message").html(e.responseText),_()("#changePasswordModalForm__password__msg").html(""),_()("#changePasswordModalForm__newPassword__msg").html(""),_()("#changePasswordModalForm__confirmPassword__msg").html(""),_()("#myProfile__changePasswordModal #success-message").html("")},{onComplete:function(){_()("button#changePasswordModalForm__btnChangePassword").removeAttr("disabled"),_()("button#changePasswordModalForm__btnChangePassword").html("Change Password")},beforeSend:function(){_()("button#changePasswordModalForm__btnChangePassword").html("Changing Password..."),_()("button#changePasswordModalForm__btnChangePassword").prepend("<span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true'></span>"),_()("button#changePasswordModalForm__btnChangePassword").attr("disabled","disabled")}}):(n.password.isInvalid&&_()("#changePasswordModalForm__password__msg").html(n.password.message),n.newPassword.isInvalid&&_()("#changePasswordModalForm__newPassword__msg").html(n.newPassword.message),n.confirmPassword.isInvalid&&_()("#changePasswordModalForm__confirmPassword__msg").html(n.confirmPassword.message))},e.validator=new Ne(xe.password_rules),e.state={show:!1},we=we.bind(Object(p.a)(e)),e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(j.a,{id:"myProfile__changePasswordModal",centered:!0,show:this.state.show,onHide:this.handleClose.bind(this)},r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement("h4",{className:"montserrat-light"},"Change password")),r.a.createElement(j.a.Body,{className:"padding-top-0"},r.a.createElement(B.a,{name:"changePasswordModalForm",id:"changePasswordModalForm"},r.a.createElement(B.a.Group,{controlId:"changePasswordModalForm__userPassword"},r.a.createElement(B.a.Label,null,"Enter current password"),r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Please enter the current password.")},r.a.createElement(B.a.Control,{name:"password",type:"password"})),r.a.createElement("span",{className:"text-x-love text-md",id:"changePasswordModalForm__password__msg"})),r.a.createElement(B.a.Group,{controlId:"changePasswordModalForm__newPassword"},r.a.createElement(B.a.Label,null,"Enter new password"),r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Please enter the new password.")},r.a.createElement(B.a.Control,{name:"newPassword",type:"password"})),r.a.createElement("span",{className:"text-x-love text-md",id:"changePasswordModalForm__newPassword__msg"})),r.a.createElement(B.a.Group,{controlId:"changePasswordModalForm__confirmPassword"},r.a.createElement(B.a.Label,null,"Confirm new password"),r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Please confirm the new password.")},r.a.createElement(B.a.Control,{name:"confirmPassword",type:"password"})),r.a.createElement("span",{className:"text-x-love text-md",id:"changePasswordModalForm__confirmPassword__msg"})),r.a.createElement("div",{className:"text-success font-weight-800 margin-bottom-10",id:"success-message"}),r.a.createElement("div",{className:"text-x-love font-weight-800 margin-bottom-10",id:"error-message"}),r.a.createElement(G.a,{variant:"x-dark-default",type:"submit",id:"changePasswordModalForm__btnChangePassword",className:"right margin-left-5",onClick:this.changePassword},"Change password"),r.a.createElement(G.a,{variant:"outline-x-love",className:"right margin-right-5",onClick:this.handleClose},"Close"))))}}]),t}(n.Component),ke=function(){this.setState({show:!0})},De=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).changeEmail=function(t){t.preventDefault();var a=H.getFormData(_()("form#emailUpdateModalForm").serializeArray()),n=e.validator.validate(a);n.isValid?P.put(M.UPDATEUSEREMAIL(),a,function(e){_()("#myProfile__emailUpdateModal #success-message").html(e.message),_()("#emailUpdateModalForm__newEmail__msg").html(""),_()("#myProfile__emailUpdateModal #error-message").html("")},function(e){_()("#myProfile__emailUpdateModal #error-message").html(e.responseJSON.message),_()("#emailUpdateModalForm__newEmail__msg").html(""),_()("#myProfile__emailUpdateModal #success-message").html("")},{onComplete:function(){_()("button#emailUpdateModalForm__btnVerifyEmail").removeAttr("disabled"),_()("button#emailUpdateModalForm__btnVerifyEmail").html("Send Request")},beforeSend:function(){_()("button#emailUpdateModalForm__btnVerifyEmail").html("Sending request..."),_()("button#emailUpdateModalForm__btnVerifyEmail").prepend("<span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true'></span>"),_()("button#emailUpdateModalForm__btnVerifyEmail").attr("disabled","disabled")}}):n.newEmail.isInvalid&&_()("#emailUpdateModalForm__newEmail__msg").html(n.newEmail.message)},e.handleClose=function(){e.setState({show:!1})},e.validator=new Ne(xe.email_rules),e.state={show:!1},ke=ke.bind(Object(p.a)(e)),e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(j.a,{id:"myProfile__emailUpdateModal",centered:!0,show:this.state.show,onHide:this.handleClose.bind(this)},r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement("h4",{className:"montserrat-light"},"Update Email Address")),r.a.createElement(j.a.Body,{className:"padding-top-0"},r.a.createElement(B.a,{name:"emailUpdateModalForm",id:"emailUpdateModalForm"},r.a.createElement(B.a.Group,{controlId:"emailUpdateModalForm__newEmail"},r.a.createElement(B.a.Label,null,"Enter new email address"),r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Please enter new email address.")},r.a.createElement(B.a.Control,{name:"newEmail",type:"text"})),r.a.createElement("span",{className:"text-x-love text-md",id:"emailUpdateModalForm__newEmail__msg"})),r.a.createElement("div",{className:"text-success font-weight-800 margin-bottom-10",id:"success-message"}),r.a.createElement("div",{className:"text-x-love font-weight-800 margin-bottom-10",id:"error-message"}),r.a.createElement(G.a,{variant:"x-dark-default",type:"submit",id:"emailUpdateModalForm__btnVerifyEmail",className:"right margin-left-5",onClick:this.changeEmail},"Send Request"),r.a.createElement(G.a,{variant:"outline-x-love",className:"right margin-right-5",onClick:this.handleClose},"Close"))))}}]),t}(n.Component),Te=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).updateProfileForm=function(e){e.preventDefault();var t=H.getFormData(_()("form#myProfileForm").serializeArray());console.log(t),P.put(M.UPDATEUSERPROFILE(),t,function(e){_()("#myProfileForm #success-message").html(e.message),_()("#myProfileForm #error-message").html("")},function(e){_()("#myProfileForm #error-message").html(e.responseJSON.message),_()("#myProfileForm #success-message").html("")},{onComplete:function(){_()("button#myProfileForm__btnUpdateUserProfile").removeAttr("disabled"),_()("button#myProfileForm__btnUpdateUserProfile").html("Update User Profile")},beforeSend:function(){_()("button#myProfileForm__btnUpdateUserProfile").html("Updating User Profile..."),_()("button#myProfileForm__btnUpdateUserProfile").prepend("<span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true'></span>"),_()("button#myProfileForm__btnUpdateUserProfile").attr("disabled","disabled")}})},e.state={userData:{},fullName:""},P.get(M.GETUSERDATA(),function(e){this.setState({userData:e}),this.setState({fullName:this.state.userData.first_name+" "+this.state.userData.last_name})}.bind(Object(p.a)(e)),function(e){console.log(e)}),e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid margin-top-5  padding-bottom-20",id:"myProfile"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-12"},r.a.createElement("h4",null,"My profile")),r.a.createElement("div",{className:"col col-8"},r.a.createElement(Ee,null),r.a.createElement(B.a,{name:"myProfileForm",id:"myProfileForm",onSubmit:this.updateProfileForm},r.a.createElement(B.a.Group,{as:he.a,controlId:"myProfileForm__userName",required:!0},r.a.createElement(B.a.Label,{column:!0,sm:"3",className:""},"Name"),r.a.createElement(pe.a,{className:"text-left"},r.a.createElement(B.a.Control,{name:"userName",defaultValue:this.state.fullName,type:"text"}))),r.a.createElement(B.a.Group,{as:he.a,controlId:"myProfileForm__userEmail",required:!0},r.a.createElement(B.a.Label,{column:!0,sm:"3",className:""},"Email Address"),r.a.createElement(pe.a,{className:"text-left"},r.a.createElement(B.a.Control,{name:"userEmail",plaintext:!0,readOnly:!0,defaultValue:this.state.userData.email,className:"max-width-80 display-inline"}),r.a.createElement(G.a,{variant:"outline-secondary",size:"sm",className:"right",onClick:function(){return ke()}},r.a.createElement("i",{className:"fas fa-edit"})))),r.a.createElement(B.a.Group,{as:he.a,controlId:"myProfileForm__userPassword",required:!0},r.a.createElement(B.a.Label,{column:!0,sm:"3",className:""},"Password"),r.a.createElement(pe.a,{className:"text-left"},r.a.createElement(B.a.Control,{name:"password",plaintext:!0,readOnly:!0,value:"password",type:"password",className:"max-width-80 display-inline"}),r.a.createElement(G.a,{variant:"outline-secondary",size:"sm",className:"right",onClick:function(){return we()}},r.a.createElement("i",{className:"fas fa-edit"})))),r.a.createElement(B.a.Group,{as:he.a,controlId:"myProfileForm__userNumber",required:!0},r.a.createElement(B.a.Label,{column:!0,sm:"3",className:""},"Phone Number"),r.a.createElement(pe.a,{className:"text-left"},r.a.createElement(B.a.Control,{name:"userNumber",defaultValue:this.state.userData.phone_number,type:"tel"}))),r.a.createElement(B.a.Group,{as:he.a,controlId:"myProfileForm__websiteURL"},r.a.createElement(B.a.Label,{column:!0,sm:"3",className:""},"Website URL"),r.a.createElement(pe.a,{className:"text-left"},r.a.createElement(B.a.Control,{name:"websiteURL",defaultValue:this.state.userData.website_url,type:"url"}))),r.a.createElement(B.a.Group,{as:he.a,controlId:"myProfileForm__userOrganization",required:!0},r.a.createElement(B.a.Label,{column:!0,sm:"3",className:""},"Organization"),r.a.createElement(pe.a,{className:"text-left"},r.a.createElement(B.a.Control,{name:"userOrganization",defaultValue:this.state.userData.organization,type:"text"}))),r.a.createElement(B.a.Group,{as:he.a,controlId:"myProfileForm__userLocation",required:!0},r.a.createElement(B.a.Label,{column:!0,sm:"3",className:""},"Location"),r.a.createElement(pe.a,{className:"text-left"},r.a.createElement(B.a.Control,{name:"userLocation",defaultValue:this.state.userData.location,type:"text"}))),r.a.createElement(G.a,{variant:"x-dark-default",type:"submit",id:"myProfileForm__btnUpdateUserProfile",sm:"2",className:"right"},"Update User Profile"),r.a.createElement("div",{className:"right text-success font-weight-800 margin-right-20 margin-top-10 margin-bottom-10",id:"success-message"}),r.a.createElement("div",{className:"right text-x-love font-weight-800 margin-right-20 margin-top-10 margin-bottom-10",id:"error-message"})),r.a.createElement(De,null),r.a.createElement(Se,null))))}}]),t}(n.Component),Ie=a(104),Fe=null,Ae={control:function(e,t){return Object(be.a)({},e)},option:function(e,t){return Object(be.a)({},e,{background:t.isFocused?"#0350a4":"#fff",fontWeight:t.isFocused?"bold":"",color:t.isFocused?"#fff":"#000","&:hover":{background:t.isFocused?"#0350a4":"#fff",fontWeight:t.isFocused?"bold":"",color:t.isFocused?"#fff":"#000",cursor:t.isFocused?"pointer":"initial"}})}},Oe=function(e){this.setState({members:e})},Me=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={members:[]},Oe=Oe.bind(Object(p.a)(e)),e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"searchUser",value:function(){var e=this.props.id,t=_()("#"+e).val();Fe&&clearTimeout(Fe),t.length>2&&(Fe=setTimeout(function(){P.get(M.SEARCHMEMBER(t),function(e){e=e.map(function(e){return{value:e.id,label:e.first_name+" ("+e.email+")"}}),Oe(e)},function(e){})},1500))}},{key:"render",value:function(){var e=this;return r.a.createElement(Ie.a,{inputId:this.props.id,name:this.props.name,onInputChange:function(){return e.searchUser()},options:this.state.members,classNamePrefix:"react-select",styles:Ae,isClearable:!0,isSearchable:!0})}}]),t}(n.Component),Pe=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row margin-top-20"},null===E.getSelectedBrand()&&r.a.createElement("h6",{className:"text-x-love font-weight-bold margin-top-20"},"First Create a new Brand and becomes the owner of the created brand. Then Manage your team!."),null!==E.getSelectedBrand()&&r.a.createElement("div",{className:"col col-12 margin-top-10"},r.a.createElement("h3",null,"Team Management for ",E.getSelectedBrand().name),r.a.createElement("div",{className:"margin-top-20"},"Manage your team here. Add new team members, allocate them their roles on Xwards Platform. We have below mentioned roles:",r.a.createElement("ul",{className:"margin-top-10"},r.a.createElement("li",null,r.a.createElement("span",{className:"strong text-x-default"},"Owner:")," Team member, who created the brand. This user, can manage everything related to this brand - creating campaign, adding new team members, view analytics etc."),r.a.createElement("li",null,r.a.createElement("span",{className:"strong text-x-default"},"Manager:")," Managers, are like owners, but they cannot add new members to the team. They can perform all other operation as a campaign manager."),r.a.createElement("li",null,r.a.createElement("span",{className:"strong text-x-default"},"Analyst:")," An Analyst has only viewing rights to a brand. An analyst cannot create or run a campaign, or see billing options.")))))}}]),t}(n.Component),Ue=function(e){this.setState({roles:e})},Le=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={roles:[]},Ue=Ue.bind(Object(p.a)(e)),P.get(M.ROLE_DETAILS(),function(e){Ue(e)},function(e){console.log(e)}),e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"inviteMember",value:function(){_()("#inviteMemberForm #success-message").html(""),_()("#inviteMemberForm #error-message").html("");var e=H.getFormData(_()("form#inviteMemberForm").serializeArray()),t={brandId:E.getSelectedBrand().id,email:e.email,name:e.name};P.post(M.INVITE_MEMBER(),t,function(e){console.log(e),_()("#inviteMemberForm #success-message").html(e)},function(e){console.log(e),_()("#inviteMemberForm #error-message").html(e.responseText)},{onComplete:function(){_()("button#inviteMemberForm__btnInviteMember").removeAttr("disabled"),_()("button#inviteMemberForm__btnInviteMember").html("Invite Member"),_()("button#inviteMemberForm__btnInviteMember").prepend("<i class='fas fa-plus margin-right-10'></i>")},beforeSend:function(){_()("button#inviteMemberForm__btnInviteMember").html("Sending Invitation..."),_()("button#inviteMemberForm__btnInviteMember").prepend("<span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true'></span>"),_()("button#inviteMemberForm__btnInviteMember").attr("disabled","disabled")}})}},{key:"addMember",value:function(){var e=H.getFormData(_()("form#addMemberForm").serializeArray()),t={roleId:e.roleId,memberId:e.memberSearch,brandId:E.getSelectedBrand().id};P.post(M.ADD_TEAM_MEMBER(),t,function(e){window.location.reload()},function(e){console.error(e)},{onComplete:function(){_()("button#addMemberForm__btnAddMember").removeAttr("disabled"),_()("button#addMemberForm__btnAddMember").html("Add Member"),_()("button#addMemberForm__btnAddMember").prepend("<i class='fas fa-plus margin-right-10'></i>")},beforeSend:function(){_()("button#addMemberForm__btnAddMember").html("Adding Brand..."),_()("button#addMemberForm__btnAddMember").prepend("<span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true'></span>"),_()("button#addMemberForm__btnAddMember").attr("disabled","disabled")}})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-12"},r.a.createElement("h6",{className:"margin-top-20"},"Enter Details to Invite New Member in this Brand"),r.a.createElement(B.a,{className:"margin-top-5 width-100",name:"inviteMemberForm",id:"inviteMemberForm"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-6"},r.a.createElement(B.a.Group,{controlId:"inviteMemberForm__name"},r.a.createElement(B.a.Control,{type:"text",placeholder:"Enter Full Name",name:"name"}))),r.a.createElement("div",{className:"col col-6"},r.a.createElement(B.a.Group,{controlId:"inviteMemberForm__email"},r.a.createElement(B.a.Control,{type:"email",placeholder:"Enter email",name:"email"})))),r.a.createElement("div",{className:"text-success font-weight-800 margin-bottom-10",id:"success-message"}),r.a.createElement("div",{className:"text-x-love font-weight-800 margin-bottom-10",id:"error-message"}),r.a.createElement(G.a,{variant:"x-dark-default",className:"right margin-left-5 margin-top-10",id:"inviteMemberForm__btnInviteMember",onClick:function(){return e.inviteMember()}},"Invite Member ",r.a.createElement("i",{className:"far fa-share-square"})))),r.a.createElement("div",{className:"col col-12"},r.a.createElement(B.a,{className:"margin-top-20 width-100",name:"addMemberForm",id:"addMemberForm"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-8"},r.a.createElement(B.a.Group,{controlId:"addMemberForm__memberSearch"},r.a.createElement(B.a.Label,{className:"margin-bottom-10"},"Select Members to add"),r.a.createElement(Me,{id:"memberSearch",name:"memberSearch"}),r.a.createElement(B.a.Text,{className:"text-muted"},"Search by email address to add..."))),r.a.createElement("div",{className:"col col-4"},r.a.createElement(B.a.Group,{controlId:"addMemberForm__roleId"},r.a.createElement(B.a.Label,{className:"margin-bottom-10"},"Choose Role"),r.a.createElement(B.a.Control,{as:"select",name:"roleId"},this.state.roles.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id,name:e.id},e.name)}))))),r.a.createElement(G.a,{variant:"x-dark-default",className:"right margin-left-5",id:"addMemberForm__btnAddMember",onClick:function(){return e.addMember()}},r.a.createElement("i",{className:"fas fa-plus margin-right-10"}),"Add Member"))))}}]),t}(n.Component),je=a(169),Re=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={memberList:[],ownerMemberLength:0},P.get(M.GET_TEAM_MEMBERS(E.getSelectedBrand().id),function(e){var t=e.filter(function(e){return"Owner"===e.roleName});this.setState({memberList:e,ownerMemberLength:t.length})}.bind(Object(p.a)(e)),function(e){console.error(e)}),e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"deleteMember",value:function(e){var t={memberId:e,brandId:E.getSelectedBrand().id};window.confirm("Do you really want to remove him from your team?")&&P.put(M.DELETE_TEAM_MEMBER(),t,function(e){window.location.reload()},function(e){console.error(e)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid margin-top-30 margin-bottom-30"},this.state.memberList.length>0&&r.a.createElement("div",null,r.a.createElement("h5",{className:"margin-left-5"},"Existing Team Members"),r.a.createElement(je.a,null,r.a.createElement(je.a.Item,{variant:"secondary"}," Members of ",r.a.createElement("strong",null,E.getSelectedBrand().name," ")," ",r.a.createElement("span",{className:"badge badge-light member-count"},this.state.memberList.length)," "),this.state.memberList.map(function(t){return r.a.createElement(je.a.Item,{key:t.id},r.a.createElement("div",{className:"d-flex bd-highlight"},r.a.createElement("div",{className:"p-2 bd-highlight"},r.a.createElement("img",{className:"img-holder",src:t.avatar_url,alt:"Member-Display"})),r.a.createElement("div",{className:"p-2 flex-grow-1 bd-highlight"},r.a.createElement("div",{className:"font-weight-bolder text-md"},t.first_name," ",t.last_name," "),r.a.createElement("div",{className:"text-primary"},"@ ",t.email)),r.a.createElement("div",{className:"p-2 bd-highlight"},r.a.createElement("span",{className:"badge badge-light badge-pill role-holder"},t.roleName),("Owner"===E.getSelectedBrand().role.name&&e.state.ownerMemberLength>1||y.getUser().id!==t.id)&&r.a.createElement("button",{className:"btn btn-danger btn-sm margin-left-20",onClick:function(){return e.deleteMember(t.id)}},r.a.createElement("i",{className:"fas fa-trash-alt"})))))}))))}}]),t}(n.Component),Be=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement(Pe,null),null!==E.getSelectedBrand()&&"Owner"===E.getSelectedBrand().role.name&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Le,null),r.a.createElement(Re,null))))}}]),t}(n.Component),Ge=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Page Not Found!"))}}]),t}(n.Component),He=a(381),Ve=a.n(He),Xe=(a(478),a(787)),Ye=a(789),qe=a(788),ze=a(384),We=a(52),Je=a.n(We),Ke=a(152),Ze=a.n(Ke),Qe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={videoSrc:null,playPause:!1,playerTime:0,videoDuration:0,videoLapseTime:0,toolbar:!0,upload:!0},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.videoSrc===this.state.videoSrc||"onFileUpload"in this.state||this.setState({videoSrc:e.videoSrc})}},{key:"componentDidMount",value:function(){var e=!0,t=!0,a=null;"allowUpload"in this.props&&(t=this.props.upload),"toolbar"in this.props&&(e=this.props.toolbar),"videoSrc"in this.props&&(a=this.props.videoSrc),_()("input[type='file']#"+this.props.id).hover(function(){_()("div#"+this.props.id+"__changeVideoBtn").css("opacity","0.85")}.bind(this),function(){_()("div#"+this.props.id+"__changeVideoBtn").css("opacity","0.1")}.bind(this)),this.setState({upload:t,toolbar:e,videoSrc:a})}},{key:"bindRef",value:function(e){this.player=e,"Xref"in this.props&&this.props.Xref(e)}},{key:"playVideo",value:function(e){e.preventDefault(),this.setState({playPause:!this.state.playPause})}},{key:"stopVideo",value:function(e){e.preventDefault(),this.setState({playPause:!1}),this.player.seekTo(0)}},{key:"seekPlayer",value:function(e){this.player.seekTo(parseFloat(e.target.value))}},{key:"playerOnProgress",value:function(e){this.setState({playerTime:parseFloat(e.played)}),this.setState({videoLapseTime:parseFloat(e.playedSeconds)})}},{key:"onDurationLoad",value:function(e){this.setState({videoDuration:e})}},{key:"onFileUpload",value:function(e){if(e.target.files[0]){var t=e.target.files[0],a=new FileReader;a.onload=function(){var e=new Blob([a.result],{type:t.type}),n=URL.createObjectURL(e);this.setState({videoSrc:n,onFileUpload:!0}),"callBack"in this.props&&this.props.callBack(e)}.bind(this),t.size<=this.props.maxFileSize?a.readAsArrayBuffer(t):"errCallBack"in this.props&&this.props.errCallBack("MAX_FILE_SIZE")}}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"x-video-upload "+this.props.class,style:{height:this.props.height,width:this.props.width},id:this.props.id+"__holder"},"undefined"===typeof this.state.videoSrc&&r.a.createElement("button",{className:"x-video-upload-title btn "+this.props.titleClass,style:{height:this.props.height,width:this.props.width}},r.a.createElement("h1",{className:""},r.a.createElement("i",{className:"fas fa-upload"})),r.a.createElement("div",{className:""},this.props.title),r.a.createElement("div",{className:"text-xs"},this.props.subtitle)),r.a.createElement("input",{type:"file",disabled:"undefined"!==typeof this.state.videoSrc&&!this.state.upload,accept:"video/mp4,video/x-m4v,video/mkv,video/wmv",id:this.props.id,name:this.props.name,className:"x-video-upload-file",style:{height:this.props.height,width:this.props.width},onChange:function(t){return e.onFileUpload(t)}}),"undefined"!==typeof this.state.videoSrc&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze.a,{onProgress:function(t){return e.playerOnProgress(t)},ref:function(t){return e.bindRef(t)},url:this.state.videoSrc,height:this.props.height,width:this.props.width,volume:1,playing:this.state.playPause,onDuration:function(t){return e.onDurationLoad(t)}}),this.state.toolbar&&r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{onChange:function(t){return e.seekPlayer(t)},type:"range",value:this.state.playerTime,min:"0",step:"0.01",max:"1",className:"width-100 cursor-pointer"}),"undefined"!==typeof this.state.videoSrc&&this.state.upload?r.a.createElement("div",{className:"right btn btn-x-default cursor-pointer",id:this.props.id+"__changeVideoBtn",style:{position:"absolute",top:"50%",marginTop:"-19px",left:"50%",width:"300px",marginLeft:"-150px",opacity:"0.1"}},"Click to replace this video"):null,r.a.createElement("div",{className:"display-inline"},r.a.createElement(G.a,{onClick:function(t){return e.playVideo(t)},variant:"success",className:"margin-right-10 btn-sm",id:this.props.id+"__tool__playBtn"},r.a.createElement("i",{className:"fas fa-play margin-right-10"})," ",r.a.createElement("i",{className:"fas fa-pause"})),r.a.createElement(G.a,{onClick:function(t){return e.stopVideo(t)},variant:"danger",className:"margin-right-10 btn-sm",id:this.props.id+"__tool__pauseBtn"},r.a.createElement("i",{className:"fas fa-stop"}))),r.a.createElement("div",{className:"display-inline right text-sm text-secondary margin-top-5"},""!==H.secondsToHms(this.state.videoLapseTime)&&H.secondsToHms(this.state.videoLapseTime)+" /","\xa0",H.secondsToHms(this.state.videoDuration))))))}}]),t}(n.Component),$e=function(e,t){e&&e.preventDefault(),console.log(t),this.setState({show:!0,collectionId:t})},et=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleCreativeTitleChange=function(e){a.setState({creativeTitle:e.target.value})},a.addCreatives=function(e){e.preventDefault();var t=a.createDataForUploading();if(!1===t)return!1;var n=new FormData;for(var r in t)n.append(r,t[r]);var o=!0,l=!1,i=void 0;try{for(var s,c=n.entries()[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var m=s.value;console.log(m[0]+", "+m[1])}}catch(d){l=!0,i=d}finally{try{o||null==c.return||c.return()}finally{if(l)throw i}}n&&(H.showLoader(),P.postImageData(M.Create_Creative(a.state.brandId,a.state.collectionId),n,function(e){$("success","Successfully Created"),this.setState({show:!1,collectionId:null,creativeTitle:"",video:null,brandId:null}),window.location.reload()}.bind(Object(p.a)(a)),function(e){$("err","Some error while saving data")},{timeout:1e7,onComplete:function(){_()("button#addCreativeForm__btnAddCreative").removeAttr("disabled"),_()("button#addCreativeForm__backBtn").removeAttr("disabled"),_()("button#addCreativeForm__btnAddCreative").html("Create ")},beforeSend:function(){_()("button#addCreativeForm__btnAddCreative").html("Uploading your creative... it might take time."),_()("button#addCreativeForm__btnAddCreative").prepend("<span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true'></span>"),_()("button#addCreativeForm__btnAddCreative").attr("disabled","disabled"),_()("button#addCreativeForm__backBtn").attr("disabled","disabled")}}))},a.state={show:!1,collectionId:null,creativeTitle:"",video:null,brandId:E.getSelectedBrand().id},$e=$e.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=_()("#xVideoHolder").width(),t=720*e/1280;this.setState({videoUploadWidth:e+"px",videoUploadHeight:t+"px"}),_()("input[type='file']#newChannelModalForm__photo").hover(function(){_()("div#xPlay__btnUploadCoverPhoto").css("opacity","0.85")},function(){_()("div#xPlay__btnUploadCoverPhoto").css("opacity","0.1")})}},{key:"hideModal",value:function(){this.setState({show:!1,collectionId:null,creativeTitle:"",video:null})}},{key:"maxFileSize",value:function(e){$("err","File is too big to upload.")}},{key:"getVideo",value:function(e){this.setState({video:e})}},{key:"errorVideoUploading",value:function(e){switch(e){case"MAX_FILE_SIZE":$("err","File is too big to upload.")}}},{key:"createDataForUploading",value:function(){var e=this.state.creativeTitle;this.state.video;return null===e||void 0===e||""===e?($("err","Error. Title Cannot be Empty"),!1):null===this.state.video?($("err","Error. You must upload video"),!1):{title:e,file:this.state.video}}},{key:"render",value:function(){var e=this;return r.a.createElement(j.a,{show:this.state.show,id:"creativeAddModal",centered:!0,onHide:function(){return e.hideModal()}},r.a.createElement(R.a,{closeButton:!0},r.a.createElement("h4",{className:"montserrat-light"},"Add a Creative")),r.a.createElement(j.a.Body,{className:"padding-top-0"},r.a.createElement(B.a,{name:"addCreativeForm",id:"addCreativeForm"},r.a.createElement(B.a.Group,{controlId:"addCreativeForm__creativeTitle"},r.a.createElement(B.a.Text,{className:"text-muted margin-bottom-10 padding-left-5"},"You can add creatives related to your selected collection."),r.a.createElement(B.a.Label,{className:"padding-left-5"},"Creative Title"),r.a.createElement(B.a.Control,{type:"text",placeholder:"Creative Title",name:"creativeTitle",value:this.state.creativeTitle||"",onChange:function(t){return e.handleCreativeTitleChange(t)}})),r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Text,null,"Upload a video for creative"),r.a.createElement(B.a.Label,null),r.a.createElement("div",{className:"col col-12",id:"xVideoHolder"},r.a.createElement(Qe,{width:this.state.videoUploadWidth,height:this.state.videoUploadHeight,title:"Upload Video",subtitle:"Max 360dp MP4 Video Format (Max File Size: 400MB)",id:"addCreativeForm__video",name:"addCreativeForm__video",callBack:function(t){return e.getVideo(t)},maxFileSize:419430400,errCallBack:function(t){return e.errorVideoUploading(t)}}))),r.a.createElement(G.a,{variant:"x-dark-default",className:"right margin-left-5",id:"addCreativeForm__btnAddCreative",onClick:function(t){return e.addCreatives(t)}},r.a.createElement("i",{className:"fas fa-plus margin-right-10"}),"Add"),r.a.createElement(G.a,{variant:"outline-x-love",className:"right margin-right-5",onClick:function(){return e.hideModal()}},"Close"))))}}]),t}(n.Component),tt={control:function(e,t){return Object(be.a)({},e)},option:function(e,t){return Object(be.a)({},e,{background:t.isFocused?"#0350a4":"#fff",fontWeight:t.isFocused?"bold":"",color:t.isFocused?"#fff":"#000","&:hover":{background:t.isFocused?"#0350a4":"#fff",fontWeight:t.isFocused?"bold":"",color:t.isFocused?"#fff":"#000",cursor:t.isFocused?"pointer":"initial"}})}},at=function(e){this.setState({areas:this.state.areas,category:e,pictures:this.state.pictures})},nt=function(e){this.setState({areas:this.state.areas,category:this.state.category,subCategory:e,pictures:this.state.pictures})},rt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleCollectionSelect=function(e){a.setState({selectedCollection:e}),P.get(M.Get_All_Creatives(a.state.brandId,e.id),function(e){this.setState({creatives:e})}.bind(Object(p.a)(a)),function(e){console.log(e),$("err","Some error occured while fetching your creatives.")})},a.handleCreativeChange=function(e){a.setState({selectedCreative:e})},a.onChange=function(e){a.setState({chips:e})},a.handleDateChange=function(e){a.setState({startDate:e}),a.calculateEndDate(e,a.state.totalDays)},a.handleTotalDaysChange=function(e){a.setState({totalDays:e.target.value,date:a.state.date}),a.calculateEndDate(a.state.startDate,e.target.value)},a.goBack=function(e){e.preventDefault(),a.props.history.push({pathname:"/brands/campaigns/"})},a.state={areas:[],category:[],subCategory:[],pictures:[],categoryIds:[],subCategoryIds:[],brandName:E.getSelectedBrand().name,brandId:E.getSelectedBrand().id,startDate:"",totalDays:null,collections:[],selectedCollection:null,creatives:[],selectedCreative:null,campaignName:"",campaignDescription:"",minAge:"",maxAge:"",gender:""},z("/brands/campaigns"),at=at.bind(Object(p.a)(a)),nt=nt.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){P.get(M.GET_CAMPAIGN_CATEGORY(this.state.brandId),function(e){e=e.map(function(e){return{value:e.id,label:e.display_name,child:e.ChildCategory}}),at(e)},function(e){console.log(e),$("err","Some error while fetching data")}),P.get(M.Get_All_Collections(this.state.brandId),function(e){var t=e.map(function(e){return{value:e.collection_name,label:e.collection_name,id:e.id}});this.setState({collections:t})}.bind(this),function(e){console.log(e),$("err","Some error occured while fetching your collections.")})}},{key:"selectCategory",value:function(e){var t=this,a=[],n=[];null!==e&&e.length>0?e.forEach(function(e){n.push(e.value),t.setState({categoryIds:n});var r=e.child;r=r.map(function(e){return a.push({value:e.id,label:e.display_name}),e})}):a=[],nt(a)}},{key:"selectSubCategory",value:function(e){var t=this,a=[];null!==e&&e.length>0&&e.forEach(function(e){a.push(e.value),t.setState({subCategoryIds:a})})}},{key:"drawCircle",value:function(e){var t={};t.id=e.layer._leaflet_id,t.lat=e.layer._latlng.lat,t.lng=e.layer._latlng.lng,t.radius=e.layer._mRadius;var a=this.state.areas;a[e.layer._leaflet_id]=t,this.setState({areas:a,category:this.state.category,subCategory:this.state.subCategory,pictures:this.state.pictures})}},{key:"updateCircles",value:function(e){var t=this.state.areas;e.layers.eachLayer(function(e){var a={};a.id=e._leaflet_id,a.lat=e._latlng.lat,a.lng=e._latlng.lng,a.radius=e._mRadius,t[e._leaflet_id]=a}),this.setState({areas:t,category:this.state.category,subCategory:this.state.subCategory,pictures:this.state.pictures})}},{key:"deleteCircles",value:function(e){var t=this.state.areas;e.layers.eachLayer(function(e){delete t[e._leaflet_id]}),this.setState({areas:t,category:this.state.category,subCategory:this.state.subCategory,pictures:this.state.pictures})}},{key:"calculateEndDate",value:function(e,t){if(""!==e&&null!==t){var a=H.addDays(e,t);_()("#calculatedEndDate").html('<i class="fas fa-info-circle margin-right-10"></i> Your campaign will end by <span class="strong italics">'+a.toDateString()+"</span>"),_()("#calculatedEndDate").css("display","block")}}},{key:"addCampaign",value:function(){if(""===this.state.campaignName||null===this.state.campaignName)return $("err","Campaign Name Cannot be Null"),!1;if(""===this.state.campaignDescription||null===this.state.campaignDescription)return $("err","Campaign Description Cannot be Null"),!1;if(0===this.state.areas.length)return $("err","Please select an area for the campaign"),!1;if(""===this.state.totalDays||null===this.state.totalDays)return $("err","Total Days Cannot be Null"),!1;if(""===this.state.startDate||null===this.state.startDate)return $("err","Please Select a Date to start a campaign"),!1;if(this.state.chips===[]||void 0===this.state.chips||null===this.state.chips)return $("err","Please provide keywords to this campaign"),!1;if(null===this.state.selectedCollection.id||void 0===this.state.selectedCollection.id||""===this.state.selectedCollection.id)return $("err","Please select a collection"),!1;if(null===this.state.selectedCreative.id||void 0===this.state.selectedCreative.id||""===this.state.selectedCreative.id)return $("err","Please select a creative or create it"),!1;if(this.state.categoryIds===[]||void 0===this.state.categoryIds)return $("err","Please select a category for this campaign"),!1;if(""===this.state.minAge||void 0===this.state.minAge||null===this.state.minAge)return $("err","Please select Minimum Age Range"),!1;if(""===this.state.maxAge||void 0===this.state.maxAge||null===this.state.maxAge)return $("err","Please select Maximum Age Range"),!1;if(""===this.state.gender||void 0===this.state.gender||null===this.state.gender)return $("err","Please select Targeting Gender for this campaign"),!1;var e={brandId:this.state.brandId,areas:this.state.areas,description:this.state.campaignDescription,startDate:H.dateToEpoch(this.state.startDate),campaignName:this.state.campaignName,categories:this.state.categoryIds,subCategories:this.state.subCategoryIds,collectionId:this.state.selectedCollection.id,creativeId:this.state.selectedCreative.id,numberOfDays:this.state.totalDays,keywords:this.state.chips,minAge:this.state.minAge,maxAge:this.state.maxAge,gender:this.state.gender},t=e.areas.filter(function(e){return e.lat&&e.lng&&e.radius});e.areas=t,P.post(M.ADD_CAMPAIGN(),e,function(e){this.props.history.push({pathname:"/brands/campaigns/"}),$("success","Successfully Created")}.bind(this),function(e){console.log(e),$("err","Some error while saving data")},{timeout:1e7,onComplete:function(){_()("button#addCampaignForm__btnAddCampaign").removeAttr("disabled"),_()("button#addCampaignForm__btnGoBack").removeAttr("disabled"),_()("button#addCampaignForm__btnAddCampaign").html('<i className="fas fa-plus margin-right-10"> Create')},beforeSend:function(){_()("button#addCampaignForm__btnAddCampaign").html("Uploading your campaign... it might take time."),_()("button#addCampaignForm__btnAddCampaign").prepend("<span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true'></span>"),_()("button#addCampaignForm__btnAddCampaign").attr("disabled","disabled"),_()("button#addCampaignForm__btnGoBack").attr("disabled","disabled")}})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid margin-top-5",id:"addCampaign"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-12 margin-bottom-10"},r.a.createElement("h3",null,"Create Your Campaign for ",this.state.brandName)),r.a.createElement("div",{className:"col col-12"},r.a.createElement(B.a,{name:"addCampaignForm",id:"addCampaignForm"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-6"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-6"},r.a.createElement(B.a.Group,{controlId:"addCampaignForm__startDate"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Choose from when you want your campaign to start.")},r.a.createElement(B.a.Label,{className:"text-x-default cursor-pointer"},"Start Date")),r.a.createElement(Ve.a,{selected:this.state.startDate||"",autoComplete:"off",dateFormat:"dd/MM/yyyy",minDate:new Date,name:"startDate",value:this.state.startDate||"",onChange:function(t){return e.handleDateChange(t)}}))),r.a.createElement("div",{className:"col col-6"},r.a.createElement(B.a.Group,{controlId:"addCampaignForm__totalDays"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Choose total number of days you want campaign to run for.")},r.a.createElement(B.a.Label,{className:"text-x-default cursor-pointer"},"Total Days")),r.a.createElement("div",{className:"position-relative"},r.a.createElement(B.a.Control,{type:"number",placeholder:"Total Days",name:"totalDays",value:this.state.totalDays||"",onChange:function(t){return e.handleTotalDaysChange(t)}}),r.a.createElement("span",{id:"contentHolderDays"},"days")))),r.a.createElement("div",{className:"col col-12"},r.a.createElement("div",{id:"calculatedEndDate",className:"margin-bottom-10 text-x-default text-sm"})),r.a.createElement("div",{className:"col col-12"},r.a.createElement(B.a.Group,{controlId:"addCampaignForm__campaignName"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Name of the campaign. Every campaign has a name, this will later help you in identifying your campaign details.")},r.a.createElement(B.a.Label,{className:"text-x-default cursor-pointer"},"Campaign Name")),r.a.createElement(B.a.Control,{type:"text",placeholder:"Enter Campaign Name",name:"campaignName",value:this.state.campaignName||"",onChange:function(t){return e.setState({campaignName:t.target.value})}}))),r.a.createElement("div",{className:"col col-12"},r.a.createElement(B.a.Group,{controlId:"addCampaignForm__hashtags"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Add your Hashtags without using '#'")},r.a.createElement(B.a.Label,{className:"text-x-default cursor-pointer"},"Hashtags/Keywords"))),r.a.createElement(Je.a,{value:this.state.chips,onChange:this.onChange})),r.a.createElement("div",{className:"col col-12 margin-top-10"},r.a.createElement(B.a.Group,{controlId:"addCampaignForm__description"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Additional information about the campaign")},r.a.createElement(B.a.Label,{className:"text-x-default cursor-pointer"},"Descripion")),r.a.createElement(B.a.Control,{as:"textarea",rows:"2",name:"campaignDescription",value:this.state.campaignDescription||"",onChange:function(t){return e.setState({campaignDescription:t.target.value})}}))),r.a.createElement("div",{className:"col col-6"},r.a.createElement(B.a.Group,{controlId:"addCampaignForm__categories"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"The Xplore App hosts many different categories. Please select the best suitable category for your brand.")},r.a.createElement(B.a.Label,{className:"text-x-default cursor-pointer"},"Category")),r.a.createElement(Ie.a,{isMulti:!0,inputId:"addCampaignForm__categories",name:"addCampaignForm__categories",options:this.state.category,classNamePrefix:"react-select",styles:tt,isClearable:!0,isSearchable:!0,onChange:function(t){return e.selectCategory(t)}}))),r.a.createElement("div",{className:"col col-6"},r.a.createElement(B.a.Group,{controlId:"addCampaignForm__subCategories"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Based on the category. Please select the best suitable sub-category for your brand.")},r.a.createElement(B.a.Label,{className:"text-x-default cursor-pointer"},"Sub Category")),r.a.createElement(Ie.a,{isMulti:!0,inputId:"addCampaignForm__subCategories",name:"addCampaignForm__subCategories",options:this.state.subCategory,classNamePrefix:"react-select",styles:tt,isClearable:!0,isSearchable:!0,onChange:function(t){return e.selectSubCategory(t)}}))),r.a.createElement("div",{className:"col col-6"},r.a.createElement(B.a.Group,{controlId:"addCampaignForm__collections"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Select a collection. After that only, you can select a Creative from Dropdown.")},r.a.createElement(B.a.Label,{className:"text-x-default cursor-pointer"},"Collections")),r.a.createElement(Ie.a,{defaultValue:"Select",label:"Select",options:this.state.collections,onChange:this.handleCollectionSelect}))),r.a.createElement("div",{className:"col col-6"},r.a.createElement(B.a.Group,{controlId:"addCampaignForm__creatives"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Select a creative or create one.")},r.a.createElement(B.a.Label,{className:"text-x-default cursor-pointer"},"Creatives")),r.a.createElement(g.a,{className:"w-100"},r.a.createElement(g.a.Toggle,{variant:"light",id:"brand-dropdown",bsPrefix:"text-x-default"},null===this.state.selectedCreative&&"Choose a Creative",null!==this.state.selectedCreative&&this.state.selectedCreative.title,r.a.createElement("i",{className:"margin-left-5 fas fa-caret-down"})),r.a.createElement(g.a.Menu,null,(this.state.creatives===[]||0===this.state.creatives.length)&&r.a.createElement(g.a.Item,{bsPrefix:"dropdown-item",disabled:!0},"No Creatives"),this.state.creatives!==[]&&this.state.creatives.map(function(t){return r.a.createElement(g.a.Item,{onSelect:function(){return e.handleCreativeChange(t)},bsPrefix:"dropdown-item",key:t.id},t.title)}),r.a.createElement(g.a.Divider,null),null!==this.state.selectedCollection?r.a.createElement(g.a.Item,{onClick:function(t){return $e(t,e.state.selectedCollection.id)},bsPrefix:"dropdown-item"},"Add A Creative"):r.a.createElement(g.a.Item,{bsPrefix:"dropdown-item"},"Select Collection")),r.a.createElement(et,null)))),r.a.createElement("div",{className:"col col-6"},r.a.createElement(B.a.Group,{controlId:"addCampaignForm__minAge"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Select minimum age to target this campaign.(Min 13, Max 30).")},r.a.createElement(B.a.Label,{className:"text-x-default"},"Minimum Age: ",r.a.createElement("strong",null,this.state.minAge))),r.a.createElement(B.a.Control,{type:"range",name:"minAge",value:this.state.minAge||"",min:13,max:65,onChange:function(t){return e.setState({minAge:t.target.value})}}))),r.a.createElement("div",{className:"col col-6"},r.a.createElement(B.a.Group,{controlId:"addCampaignForm__maxAge"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Select maxmimum age to target this campaign.(Min 13, Max 65)")},r.a.createElement(B.a.Label,{className:"text-x-default"},"Maximum Age: ",r.a.createElement("strong",null,this.state.maxAge))),r.a.createElement(B.a.Control,{type:"range",name:"maxAge",value:this.state.maxAge||"",min:13,max:65,onChange:function(t){return e.setState({maxAge:t.target.value})}}))),r.a.createElement("div",{className:"col col-12"},r.a.createElement(B.a.Group,{controlId:"addCampaignForm__gender"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-12"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Select gender to target this campaign.")},r.a.createElement(B.a.Label,{className:"text-x-default"},"Targeting Gender"))),r.a.createElement("div",{className:"col col-12"},r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"targetGenger",id:"m",value:"m",onChange:function(t){return e.setState({gender:t.target.value})}}),r.a.createElement("label",{className:"form-check-label",htmlFor:"m"},"Male")),r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"targetGenger",id:"f",value:"f",onChange:function(t){return e.setState({gender:t.target.value})}}),r.a.createElement("label",{className:"form-check-label",htmlFor:"f"},"Female")),r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"targetGenger",id:"b",value:"b",onChange:function(t){return e.setState({gender:t.target.value})}}),r.a.createElement("label",{className:"form-check-label",htmlFor:"b"},"Both")))))),r.a.createElement("div",{className:"col col-12"},r.a.createElement("div",{id:"calculatedView",className:"margin-bottom-10 text-x-default text-sm"})),r.a.createElement("div",{className:"col col-12 margin-bottom-50"},r.a.createElement(G.a,{variant:"outline-x-love",className:"margin-right-20",id:"addCampaignForm__btnGoBack",onClick:function(t){return e.goBack(t)}},r.a.createElement("i",{className:"fas fa-chevron-left margin-right-10"}),"Go Back"),r.a.createElement(G.a,{variant:"x-dark-default",id:"addCampaignForm__btnAddCampaign",onClick:function(t){return e.addCampaign(t)}},r.a.createElement("i",{className:"fas fa-plus margin-right-10"}),"Create")))),r.a.createElement("div",{className:"col col-6"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-12"},r.a.createElement(B.a.Group,{controlId:"addCampaignForm__mapDisplay"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Point one or more regions, addresses or areas to show your campaign to people in those locations.")},r.a.createElement(B.a.Label,{className:"text-x-default cursor-pointer"},"Locations")),r.a.createElement(Xe.a,{center:[12.97,77.61],zoom:11},r.a.createElement(Ye.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"\xa9 Xwards. OpenStreetMaps"}),r.a.createElement(qe.a,null,r.a.createElement(ze.a,{position:"topleft",onEdited:function(t){return e.updateCircles(t)},onCreated:function(t){return e.drawCircle(t)},onDeleted:function(t){return e.deleteCircles(t)},draw:{rectangle:!1,polygon:!1,polyline:!1,marker:!1,circlemarker:!1}})))))))))))))}}]),t}(n.Component),ot=function(e){function t(){var e;return Object(i.a)(this,t),e=Object(c.a)(this,Object(m.a)(t).call(this)),P.get(M.XPLAY_AUTH(),function(e){window.location.replace(x[x.env].url+"/xplay/channel")},function(e){window.location.replace(x[x.env].url+"/xplay/request")}),e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null)}}]),t}(n.Component),lt=a(117),it=a(784),st=a(786),ct=a(785),mt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={imageSrc:e.imageSrc},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.imageSrc!==this.state.imageSrc&&this.setState({imageSrc:e.imageSrc})}},{key:"onFileUpload",value:function(e){var t=this,a=new Image(this.props.width,this.props.height),n=new FileReader;if(e.target.files[0]){if("maxFileSize"in this.props&&e.target.files[0].size>=this.props.maxFileSize&&"errCallBack"in this.props)return this.props.errCallBack("MAX_FILE_SIZE"),!1;"callBack"in this.props&&this.props.callBack(e.target.files[0]),n.readAsDataURL(e.target.files[0]),n.onload=function(e){a.src=e.srcElement.result,a.onload=function(){"onImage"in t.props&&t.props.onImage(e.srcElement.result),t.setState({imageSrc:e.srcElement.result})}}}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"x-image-upload "+this.props.class,style:{height:this.props.height,width:this.props.width}},("undefined"===typeof this.state.imageSrc||null===this.state.imageSrc)&&r.a.createElement("button",{className:"x-image-upload-title btn "+this.props.titleClass,style:{height:this.props.height,width:this.props.width}},r.a.createElement("h1",{className:""},r.a.createElement("i",{className:"fas fa-upload"})),r.a.createElement("div",{className:""},this.props.title),r.a.createElement("div",{className:"text-xs"},this.props.subtitle)),r.a.createElement("input",{type:"file",accept:"image/png,image/x-png,image/jpeg,image/jpg",id:this.props.id,name:this.props.name,className:"x-image-upload-file",style:{height:this.props.height,width:this.props.width},onChange:function(t){return e.onFileUpload(t)}}),("undefined"!==typeof this.state.imageSrc||null===this.state.imageSrc)&&r.a.createElement("img",{src:this.state.imageSrc,style:{height:this.props.height,width:this.props.width},className:"x-image-preview"}))}}]),t}(n.Component),dt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).getImage=function(e){var t=new FormData;t.append("coverPhoto",e),a.setState({coverPhoto:e}),P.putImageData(M.XPLAY_UPDATE_CHANNEL_COVER_PHOTO(a.props.channelId),t,function(e){$("success","Successfully updated the cover photo")},function(){$("err","Some error while uploading the cover photo")},{onComplete:function(){_()("button#xPlay__btnUploadCoverPhoto").html("Click to change the cover photo"),_()("button#xPlay__btnUploadCoverPhoto").removeAttr("disabled")},beforeSend:function(){_()("button#xPlay__btnUploadCoverPhoto").html("Uploading..."),_()("button#xPlay__btnUploadCoverPhoto").prepend("<span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true'></span>"),_()("button#xPlay__btnUploadCoverPhoto").attr("disabled","disabled")}})},a.state={imageUploadWidth:"856px",imageUploadHeight:"220px",coverPhoto:a.props.imageSrc},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.imageSrc!==this.state.coverPhoto&&this.setState({coverPhoto:e.imageSrc})}},{key:"componentDidMount",value:function(){var e=_()("#xImageHolder").width(),t=220*e/856;this.setState({imageUploadWidth:e+"px",imageUploadHeight:t+"px"}),_()("input[type='file']#newChannelModalForm__photo").hover(function(){_()("div#xPlay__btnUploadCoverPhoto").css("opacity","0.85")},function(){_()("div#xPlay__btnUploadCoverPhoto").css("opacity","0.1")})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row margin-top-5"},r.a.createElement("div",{id:"xImageHolder",className:"col col-12 position-relative"},r.a.createElement(mt,{width:this.state.imageUploadWidth,height:this.state.imageUploadHeight,title:"Cover Photo",subtitle:"Width X Height (856px X 220px)",class:"",name:"newChannelModalForm__photo",id:"newChannelModalForm__photo",callBack:function(t){return e.getImage(t)},imageSrc:this.state.coverPhoto}),null!==this.state.coverPhoto?r.a.createElement("div",{className:"right btn btn-x-default cursor-pointer",id:"xPlay__btnUploadCoverPhoto"},"Click to change the cover photo"):null)))}}]),t}(n.Component),ut=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={videoList:[],activePage:1,totalItemsCount:"",videoUploadWidth:"",videoUploadHeight:""},a.player={},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"bindPlayer",value:function(e,t){this.player["player"+t]=e,e&&e.seekTo(.3)}},{key:"componentDidMount",value:function(){var e=this.props.type,t=this.props.channelId;P.get(M.XPLAY_GET_CHANNEL_VIDEOS(t,e),function(e){this.setState({videoList:e.videos,totalItemsCount:e.count})}.bind(this),function(e){$("err","Some Error in Fetching Informations")});var a=_()("div.videoListContainer:first").width(),n=720*a/1280;this.setState({videoUploadWidth:a+"px",videoUploadHeight:n+"px"})}},{key:"handlePageChange",value:function(e){var t=this.props.type,a=this.props.channelId;this.setState({activePage:e}),P.get(M.XPLAY_GET_CHANNEL_VIDEOS(a,t)+"?page="+e,function(e){this.setState({videoList:e.videos,totalItemsCount:e.count})}.bind(this),function(e){$("err","Some error happened while fetching details")})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"padding-bottom-10"},this.state.videoList.length<=0&&r.a.createElement(ne.a,{className:"text-center margin-top-10"},r.a.createElement(ne.a.Body,null,r.a.createElement("h5",{className:"text-secondary"},"No videos uploaded on this channel"))),this.state.videoList.map(function(t){return r.a.createElement("div",{key:t.id,className:"row margin-top-10"},r.a.createElement("div",{className:"col col-4 videoListContainer",id:"videoList__video__container"+t.id},r.a.createElement(Qe,{width:e.state.videoUploadWidth,height:e.state.videoUploadHeight,id:"videoList__video"+t.id,name:"videoList__video"+t.id,videoSrc:t.url,allowUpload:!1,toolbar:!1,Xref:function(a){return e.bindPlayer(a,t.id)}})),r.a.createElement("div",{className:"col col-8"},"review"===e.props.type&&r.a.createElement("h4",{className:"text-x-default"},r.a.createElement("a",{href:"".concat(e.props.channelId,"/video/").concat(t.id)},t.title)),"live"===e.props.type&&r.a.createElement("a",{href:"".concat(e.props.channelId,"/live-video/").concat(t.neo_id)},t.title),r.a.createElement("p",{className:"text-black",style:{overflow:"hidden",maxHeight:e.state.videoUploadHeight},dangerouslySetInnerHTML:{__html:"".concat(t.description)}}),r.a.createElement("div",{className:"left-align text-sm italic text-secondary"},"Last Updated: ",H.toDateFormat(t.updated_at))))})),this.state.videoList.length>0&&r.a.createElement("div",{className:"padding-bottom-50"},r.a.createElement(se.a,{activePage:this.state.activePage,itemsCountPerPage:10,totalItemsCount:this.state.totalItemsCount,pageRangeDisplayed:5,itemClass:"page-item",linkClass:"page-link",onChange:function(t){return e.handlePageChange(t)}})))}}]),t}(n.Component),ht=function(){this.setState({show:!0})},pt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleCloseModal=function(){a.setState({show:!1})},a.getImage=function(e){var t=new Image,n=new FileReader;n.readAsDataURL(e),n.onload=function(e){t.src=e.srcElement.result,t.onload=function(){var n=e.srcElement.result;(new Image).src=n;var r=t.src.split(";"),o=r[0].split(":")[1],l=r[1].split(",")[1],i=H.b64toBlob(l,o);a.setState({photo:i})}}},a.handleUpdateChannel=function(e){e.preventDefault();var t=a.prepareDataForUpload();if(!1===t)return!1;var n=new FormData;for(var r in t)n.append(r,t[r]);P.putImageData(M.XPLAY_UPDATE_CHANNEL(a.props.channelId),n,function(e){console.log(e),$("success","Channel Updated"),this.setState({show:!1}),window.location.reload()}.bind(Object(p.a)(a)),function(e){console.log(e),$("err","Error. Some Error. Try Again")},{onComplete:function(){_()("button#editChannelModalForm__btnUpdateChannel").removeAttr("disabled"),_()("button#editChannelModalForm__btnUpdateChannel").html("Update Channel Details")},beforeSend:function(){_()("button#editChannelModalForm__btnUpdateChannel").html("Updating Channel Details..."),_()("button#editChannelModalForm__btnUpdateChannel").prepend("<span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true'></span>"),_()("button#editChannelModalForm__btnUpdateChannel").attr("disabled","disabled")}})},a.state={show:!1},ht=ht.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"prepareDataForUpload",value:function(){var e=H.getFormData(_()("form#editChannelModalForm").serializeArray()),t=e.channelName,a=e.description;return null===t||void 0===t||""===t?($("err","Error. Title must be between 10 to 30 characters."),!1):(t=t.trim().replace(/\s\s+/g," ")).length<10&&t.length<31?($("err","Error. Title must be between 10 to 30 characters."),!1):null===a.length||void 0===a||""===a?($("err","Error. Description is required"),!1):{channelName:t,channelDescription:a,image:void 0===this.state.photo?this.props.channel.photo:this.state.photo}}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{id:"xPlay__editChannelModal",centered:!0,show:this.state.show,onHide:function(){return e.handleCloseModal()}},r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement("h4",{className:"montserrat-light"},"Edit channel")),r.a.createElement(j.a.Body,{className:"padding-top-0"},r.a.createElement(B.a,{name:"editChannelModalForm",id:"editChannelModalForm",onSubmit:this.handleUpdateChannel},r.a.createElement(B.a.Group,{controlId:"editChannelModalForm__channelName"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Provide the channel name. This name will be used")},r.a.createElement(B.a.Label,{className:"text-x-default"},"Channel Name")),r.a.createElement(B.a.Control,{name:"channelName",type:"text",defaultValue:this.props.channel.name,maxLength:"30"}),r.a.createElement(B.a.Text,{className:"text-muted"},"Maximun 30 characters")),r.a.createElement(B.a.Group,{controlId:"editChannelModalForm__photo"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Provide the channel logo.")},r.a.createElement(B.a.Label,{className:"text-x-default"},"Channel Photo ")),r.a.createElement(mt,{width:"224px",height:"224px",title:"Channel Logo",subtitle:"Width X Height (224px X 224px)",class:"imp-margin-left-0",name:"editChannelModalForm__photo",id:"editChannelModalForm__photo",callBack:function(t){return e.getImage(t)},imageSrc:this.props.channel.photo})),r.a.createElement(B.a.Group,{controlId:"editChannelModalForm__description"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Please provide a brief description about your channel.")},r.a.createElement(B.a.Label,{className:"text-x-default"},"About Us")),r.a.createElement(B.a.Control,{name:"description",as:"textarea",rows:"2",defaultValue:this.props.channel.description}),r.a.createElement("span",{className:"text-x-love text-md",id:"editChannelModalForm__description__msg"})),r.a.createElement(G.a,{variant:"x-dark-default",type:"submit",id:"editChannelModalForm__btnUpdateChannel",className:"right margin-left-5"},"Update Channel Details"),r.a.createElement(G.a,{variant:"outline-x-love",className:"right margin-right-5",onClick:this.handleCloseModal},"Close")))))}}]),t}(n.Component),gt=function(){this.setState({show:!0})},ft=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleCloseModal=function(e){e.preventDefault(),a.setState({show:!1})},a.handleDeleteChannel=function(e){e.preventDefault();var t=H.getFormData(_()("form#deleteChannelModalForm").serializeArray());"DELETE"===t[Object.keys(t)[0]]?P.delete(M.XPLAY_DELETE_CHANNEL(a.props.channelId),function(e){$("success","Channel deleted successfully"),window.location.replace(x[x.env].url+"/xplay/channel")},function(e){$("err","Some error occured")},{onComplete:function(){this.setState({show:!1})}.bind(Object(p.a)(a)),beforeSend:function(){_()("button#xPlay__btnConfirmDeleteChannel").html("Deleting Channel..."),_()("button#xPlay__btnConfirmDeleteChannel").prepend("<span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true'></span>"),_()("button#xPlay__btnConfirmDeleteChannel").attr("disabled","disabled")}}):$("err","Type 'DELETE' to delete the channel")},a.state={show:!1},gt=gt.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{id:"xPlay__deleteChannelModal",centered:!0,show:this.state.show,onHide:function(){return e.handleCloseModal()}},r.a.createElement(j.a.Header,null,r.a.createElement("h4",{className:"montserrat-light"},"Delete Channel")),r.a.createElement(j.a.Body,null,r.a.createElement(B.a,{id:"deleteChannelModalForm",name:"deleteChannelModalForm"},r.a.createElement(B.a.Group,{controlId:"deleteChannelModalForm"},r.a.createElement(B.a.Label,null,"Type 'DELETE' to delete this channel"),r.a.createElement(B.a.Control,{name:"deleteChannel",type:"text"})),r.a.createElement(G.a,{variant:"danger",type:"submit",className:"right",sm:"2",id:"xPlay__btnConfirmDeleteChannel",onClick:this.handleDeleteChannel},"Confirm"),r.a.createElement(G.a,{variant:"outline-x-dark-default",className:"right margin-right-5",onClick:this.handleCloseModal},"Cancel")))))}}]),t}(n.Component),vt=function(e){function t(e){var a;return Object(i.a)(this,t),a=Object(c.a)(this,Object(m.a)(t).call(this,e)),z("/xplay"),a.state={channel:{},photo:null},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){P.get(M.XPLAY_GET_CHANNEL_DETAILS(this.props.match.params.channel_id),function(e){$("log","Fetching information on this channel"),this.setState({channel:e})}.bind(this),function(e){$("err","Error. Please Try Again...")})}},{key:"render",value:function(){var e;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement(dt,{channelId:this.props.match.params.channel_id,imageSrc:this.state.channel.cover_photo}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-12",style:{zIndex:900}},r.a.createElement(ge.a,{className:"img-thumbnail channel-display-pic",src:this.state.channel.photo}),r.a.createElement(it.a,{id:"xPlay__channelEditDropdown",className:"margin-top-10 right",alignRight:!0,title:r.a.createElement("i",{className:"fas fa-cog"}),variant:"light"},r.a.createElement(g.a.Item,{onClick:function(){return ht()}},"Edit Channel"),r.a.createElement(g.a.Item,{onClick:function(){return gt()}},"Delete Channel")),r.a.createElement(G.a,(e={variant:"x-love",className:"right",id:"uploadVideoForm__btnUploadVideo"},Object(lt.a)(e,"className","margin-right-10 right margin-top-10"),Object(lt.a)(e,"href",this.props.match.params.channel_id+"/upload-video"),e),r.a.createElement("i",{className:"fas fa-plus margin-right-10"})," Upload Video")),r.a.createElement("div",{className:"col col-8"},r.a.createElement("h2",{className:"text-x-default margin-top-10 margin-bottom-20 montserrat-light strong"},this.state.channel.name),r.a.createElement("h5",null,"About"),r.a.createElement("p",null,this.state.channel.description))),r.a.createElement("div",{className:"row padding-bottom-50"},r.a.createElement("div",{className:"col col-12"},r.a.createElement("h4",{className:"text-x-default margin-bottom-20"},"Videos")),r.a.createElement("div",{className:"col col-12 padding-bottom-50"},r.a.createElement(st.a,{defaultActiveKey:"liveVideos",transition:!1,id:"uncontrolled-tab-example"},r.a.createElement(ct.a,{eventKey:"liveVideos",title:"Live Videos",className:"text-x-default"},r.a.createElement(ut,{channelId:this.props.match.params.channel_id,type:"live"})),r.a.createElement(ct.a,{eventKey:"reviewVideos",title:"Videos In Review",className:"text-x-default"},r.a.createElement(ut,{channelId:this.props.match.params.channel_id,type:"review"}))))),r.a.createElement(pt,{channelId:this.props.match.params.channel_id,channel:this.state.channel}),r.a.createElement(ft,{channelId:this.props.match.params.channel_id})))}}]),t}(n.Component),Et=function(e){e&&e.preventDefault(),this.setState({modalShow:!0})},bt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).hideModalToCreateChannel=function(e){e&&e.preventDefault(),a.setState({modalShow:!1})},a.getImage=function(e){a.setState({image:e})},a.handleCreateChannel=function(e){e.preventDefault();var t=a.prepareDataForUpload();!1!==t&&P.postImageData(M.XPLAY_CREATE_CHANNEL(),t,function(e){$("success","Channel created successfully"),this.setState({modalShow:!1}),setTimeout(function(){window.location.reload()},1500)}.bind(Object(p.a)(a)),function(e){$("err","Some error occured")},{onComplete:function(){_()("button#newChannelModalForm__btnCreateChannel").removeAttr("disabled"),_()("button#newChannelModalForm__btnCreateChannel").html("Create Channel")},beforeSend:function(){_()("button#newChannelModalForm__btnCreateChannel").html("Creating Channel..."),_()("button#newChannelModalForm__btnCreateChannel").prepend("<span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true'></span>"),_()("button#newChannelModalForm__btnCreateChannel").attr("disabled","disabled")}})},a.state={modalShow:!1},Et=Et.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"prepareDataForUpload",value:function(){var e=new FormData,t=H.getFormData(_()("form#newChannelModalForm").serializeArray()),a=t.channelName;if(null===a||void 0===a||""===a)return $("err","Error. Name must be between 10 to 30 characters."),!1;if((a=a.trim().replace(/\s\s+/g," ")).length<10&&a.length<31)return $("err","Error. Name must be between 10 to 30 characters."),!1;for(var n in t){var r=t[n].trim().replace(/\s\s+/g," ");if(r.length<=0)return $("err","All the information is required"),!1;e.append(n,r)}return e.append("photo",this.state.image),e}},{key:"render",value:function(){var e=this;return r.a.createElement(j.a,{id:"xPlay__newChannelModal",centered:!0,show:this.state.modalShow,onHide:function(){return e.hideModalToCreateChannel()}},r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement("h4",{className:"montserrat-light"},"Create a channel")),r.a.createElement(j.a.Body,{className:"padding-top-0"},r.a.createElement(B.a,{name:"newChannelModalForm",id:"newChannelModalForm",onSubmit:this.handleCreateChannel},r.a.createElement(B.a.Group,{controlId:"newChannelModalForm__channelName"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Provide the channel name. This name will be used")},r.a.createElement(B.a.Label,{className:"text-x-default"},"Channel Name")),r.a.createElement(B.a.Control,{name:"channelName",type:"text",maxLength:"30"}),r.a.createElement(B.a.Text,{className:"text-muted"},"Maximun 30 characters"),r.a.createElement("span",{className:"text-x-love text-md",id:"newChannelModalForm__createChannel__msg"})),r.a.createElement(B.a.Group,{controlId:"newChannelModalForm__photo"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Provide the channel logo.")},r.a.createElement(B.a.Label,{className:"text-x-default"},"Channel Photo ")),r.a.createElement(mt,{width:"224px",height:"224px",title:"Channel Logo",subtitle:"Width X Height (224px X 224px)",class:"imp-margin-left-0",name:"newChannelModalForm__photo",id:"newChannelModalForm__photo",callBack:function(t){return e.getImage(t)}})),r.a.createElement(B.a.Group,{controlId:"newChannelModalForm__description"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Please provide a brief description about your channel.")},r.a.createElement(B.a.Label,{className:"text-x-default"},"About Us")),r.a.createElement(B.a.Control,{name:"description",as:"textarea",rows:"2"})),r.a.createElement(G.a,{variant:"x-dark-default",type:"submit",id:"newChannelModalForm__btnCreateChannel",className:"right margin-left-5"},"Create Channel"),r.a.createElement(G.a,{variant:"outline-x-love",className:"right margin-right-5",onClick:function(t){return e.hideModalToCreateChannel(t)}},"Close"))))}}]),t}(n.Component),yt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){P.get(M.XPLAY_GET_CHANNEL_LIST(),function(e){this.setState({channelList:e})}.bind(Object(p.a)(a)),function(e){$("err","Some error occured while fetching your X-Play channels.")})},z("/xplay"),a.state={channelList:[],image:null},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid margin-top-5"},r.a.createElement("div",{className:"row padding-bottom-20"},r.a.createElement("div",{className:"col col-12 "},0===this.state.channelList.length?r.a.createElement(ne.a,{className:"text-center h-100"},r.a.createElement(ne.a.Body,null,r.a.createElement("h2",{className:"text-x-love margin-bottom-20"},"No Channels Created"),r.a.createElement("h6",{className:"text-x-default max-width-70 margin-auto"},"To start with X-Play you need to create a channel at X-Play. X-Play channel is a collection of videos hosted by a particular artist or entertainment media company."),r.a.createElement(G.a,{variant:"x-love",className:"margin-top-30",type:"submit",id:"xPlay_create_channel_button",sm:"4",onClick:function(e){return Et(e)}},r.a.createElement("i",{className:"fas fa-plus"}),"  Create new channel"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{variant:"x-love",type:"submit",id:"xPlay_create_channel_button",sm:"4",onClick:function(e){return Et(e)}},r.a.createElement("i",{className:"fas fa-plus"}),"  Create new channel"),r.a.createElement("h4",{className:"margin-top-20 margin-bottom-20"},"Your Channels"),r.a.createElement("div",{className:"row"},this.state.channelList.map(function(e){return r.a.createElement("div",{className:"col col-xs-12 col-sm-6 col-md-4 col-lg-3",key:e.id},r.a.createElement(u.b,{variant:"x-default",to:"channel/".concat(e.id)},r.a.createElement(ne.a,{className:"ChannelCard"},r.a.createElement(ne.a.Img,{variant:"top",src:e.photo,className:"img-thumbnail"}),r.a.createElement(ne.a.Body,{className:"center-align padding-10 text-x-default strong"},e.name))))}))))),r.a.createElement(bt,null))}}]),t}(n.Component),Ct=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).handleClose=function(t){t&&t.preventDefault(),e.setState({show:!1})},e.handleShow=function(t){t.preventDefault(),e.setState({show:!0})},e.sendRequest=function(t){t.preventDefault();var a=H.getFormData(_()("form#xPlayRequestModalForm").serializeArray());return null===a.description||""===a.description||null===a.description?($("err","Error. You must have description"),!1):null===a.emailId||""===a.emailId||null===a.emailId?($("err","Error. You must have emailId"),!1):null===a.phoneNumber||""===a.phoneNumber||null===a.phoneNumber?($("err","Error. You must have Phone Number"),!1):void P.post(M.XPLAY_REQUEST(),a,function(e){$("success","Request has been sent to the Administrator. Please check your email for response."),window.location.reload()},function(e){$("err","There was some error"),window.location.reload()},{onComplete:function(){_()("button#xPlayRequestModalForm__btnSendRequest").removeAttr("disabled"),_()("button#xPlayRequestModalForm__btnSendRequest").html("Send Request"),_()("button#xPlayRequestModalForm__btnSendRequest").attr("disabled","disabled"),this.setState({show:!1})}.bind(Object(p.a)(e)),beforeSend:function(){_()("button#xPlayRequestModalForm__btnSendRequest").html("Sending Request.."),_()("button#xPlayRequestModalForm__btnSendRequest").prepend("<span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true'></span>"),_()("button#xPlay_enable_button").attr("disabled","disabled")}})},z("/xplay"),e.state={show:!1},P.get(M.XPLAY_AUTH(),function(e){window.location.replace(x[x.env].url+"/xplay/channel")},function(e){switch(e.status){case 401:_()("button#xPlay_enable_button").attr("disabled","disabled"),_()("button#xPlay_enable_button").html("Already Requested");break;case 403:_()("button#xPlay_enable_button").attr("disabled","disabled"),_()("button#xPlay_enable_button").html("Your access to X-Play has been suspended.");break;case 404:_()("button#xPlay_enable_button").html("Request Access for X-Play");break;default:$("err","Unable to fetch information on your X-Play Account")}}),e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"flex-row align-items-center margin-top-5"},r.a.createElement(ne.a,{className:"text-center h-100"},r.a.createElement(ne.a.Body,null,r.a.createElement("h2",{className:"text-x-love margin-bottom-20"},"X-Play Account Not Activated"),r.a.createElement("h6",{className:"text-x-default max-width-70 margin-auto"},"X-Play is an entertainment video streaming facility inside Xplore Tablets. Entertainment media houses or individual artists can create and manage their X-Play channels here and upload videos."),r.a.createElement("h6",{className:"text-x-default max-width-70 margin-auto imp-margin-top-20"},"X-Play is a public screen and in order to regulate the standard of video contents going online, the access to X-Play is granted to exclusive partners on request. You can contact us to request an access."),r.a.createElement(G.a,{variant:"x-love",className:"margin-top-30",type:"submit",id:"xPlay_enable_button",onClick:function(t){return e.handleShow(t)}},"Request Access for X-Play"))),r.a.createElement("div",null,r.a.createElement(j.a,{id:"xPlay__requestModal",centered:!0,show:this.state.show,onHide:function(){return e.handleClose()}},r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement("h4",{className:"montserrat-light"},"Request for X-Play Access")),r.a.createElement(j.a.Body,{className:"padding-top-0"},r.a.createElement(B.a,{name:"xPlayRequestModalForm",id:"xPlayRequestModalForm",onSubmit:this.sendRequest},r.a.createElement(B.a.Group,{controlId:"xPlayRequestModalForm__description"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Please tell us something about yourself.")},r.a.createElement(B.a.Label,{className:"text-x-default"},"Description")),r.a.createElement(B.a.Control,{name:"description",as:"textarea",rows:"2"}),r.a.createElement("span",{className:"text-x-love text-md",id:"xPlayRequestModalForm__description__msg"})),r.a.createElement(B.a.Group,{controlId:"xPlayRequestModalForm__phoneNumber"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"We might need to call you.")},r.a.createElement(B.a.Label,{className:"text-x-default"},"Phone Number")),r.a.createElement(B.a.Control,{name:"phoneNumber",type:"number"}),r.a.createElement("span",{className:"text-x-love text-md",id:"xPlayRequestModalForm__phone_number__msg"})),r.a.createElement(B.a.Group,{controlId:"xPlayRequestModalForm__email"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Your email id.")},r.a.createElement(B.a.Label,{className:"text-x-default"},"Email ID")),r.a.createElement(B.a.Control,{name:"emailId",type:"email"}),r.a.createElement("span",{className:"text-x-love text-md",id:"xPlayRequestModalForm__email_id__msg"})),r.a.createElement(G.a,{variant:"x-dark-default",type:"submit",id:"xPlayRequestModalForm__btnSendRequest",className:"right margin-left-5",onClick:function(t){return e.sendRequest(t)}},"Request Access"),r.a.createElement(G.a,{variant:"outline-x-love",className:"right margin-right-5",onClick:function(t){return e.handleClose(t)}},"Close")))))))}}]),t}(n.Component),_t=a(101),Nt=a(38),xt=a(102),wt=a.n(xt),St=(a(197),[{name:"big",width:426,height:460,image:null},{name:"mid",width:426,height:345,image:null},{name:"thumbnail",width:504,height:282,image:null}]),kt={getImageSizes:function(){return St},getNonNullImages:function(){return St.filter(function(e){return null!=e.image})},saveXplayData:function(e){localStorage.setItem("xplayData",JSON.stringify(e))},getXplayData:function(){return JSON.parse(localStorage.getItem("xplayData"))},addImage:function(e,t){for(var a in St)St[a].name===e&&(St[a].image=t)},removeXplayData:function(){localStorage.removeItem("xplayData")}},Dt=function(){this.setState({show:!0})},Tt=function(e){function t(e){var a;return Object(i.a)(this,t),a=Object(c.a)(this,Object(m.a)(t).call(this,e)),Dt=Dt.bind(Object(p.a)(a)),a.state={hashtags:[],editorState:Nt.EditorState.createEmpty(),video:null,show:!1,img_full:null,img_mid:null,img_large:null,img_big:null},a.thumbnail={},z("/xplay"),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"hideModal",value:function(){this.setState({show:!1})}},{key:"addImages",value:function(e,t){var a=this,n=new Image,r=new FileReader;r.readAsDataURL(e),r.onload=function(e){n.src=e.srcElement.result,n.onload=function(){var r=e.srcElement.result;(new Image).src=r;var o=n.src.split(";"),l=o[0].split(":")[1],i=o[1].split(",")[1],s=H.b64toBlob(i,l);a.thumbnail["thumbnail_"+t]=s,kt.addImage(t,s)}}}},{key:"onImages",value:function(e,t){var a={};a["img_"+t]=e,this.setState(a)}},{key:"openModal",value:function(e){e.preventDefault(),this.setState({show:!0})}},{key:"componentDidMount",value:function(){var e=_()("#xVideoHolder").width(),t=720*e/1280;this.setState({videoUploadWidth:e+"px",videoUploadHeight:t+"px"}),_()("input[type='file']#newChannelModalForm__photo").hover(function(){_()("div#xPlay__btnUploadCoverPhoto").css("opacity","0.85")},function(){_()("div#xPlay__btnUploadCoverPhoto").css("opacity","0.1")})}},{key:"goBack",value:function(e){e.preventDefault();var t=this.props.match.params.channel_id;this.props.history.push("/xplay/channel/"+t)}},{key:"addHashtag",value:function(e){if(e.length>0){var t=e[e.length-1];t=t.trim().replace(/\s\s+/g," ").split(" ").join("_"),e[e.length-1]=t.trim()}if(e.length>25)return!1;this.setState({hashtags:e})}},{key:"onWriting",value:function(e){this.setState({editorState:e})}},{key:"maxFileSize",value:function(e){$("err","File is too big to upload.")}},{key:"getVideo",value:function(e){this.setState({video:e})}},{key:"errorVideoUploading",value:function(e){switch(e){case"MAX_FILE_SIZE":$("err","File is too big to upload.")}}},{key:"createDataForUploading",value:function(){var e=_()("#uploadVideoForm__videoTitle").val();if(null===e||void 0===e)return $("err","Error. Title must be between 10 to 60 characters."),!1;if((e=e.trim().replace(/\s\s+/g," ")).length<10&&e.length<61)return $("err","Error. Title must be between 10 to 60 characters."),!1;if(this.state.hashtags.length<4)return $("err","Error. You must have atleast 4 keywords."),!1;if(null===this.state.video)return $("err","Error. You must upload video"),!1;var t=this.state.editorState,a={videoTitle:e,description:wt()(Object(Nt.convertToRaw)(t.getCurrentContent())),keywords:this.state.hashtags,video:this.state.video},n=kt.getNonNullImages();for(var r in n){a[n[r].name]=n[r].image,delete n[r].image,a[n[r].name+"_data"]=n[r]}return a}},{key:"submitVideo",value:function(e){e.preventDefault();var t=this.createDataForUploading();if(!1===t)return!1;if(0===Object.keys(this.thumbnail).length)return $("err","Add atleast one thumbnail image for the video"),!1;var a=new FormData;for(var n in t)"object"==typeof t[n]&&n.includes("_data")?a.append(n,JSON.stringify(t[n])):a.append(n,t[n]);a&&(H.showLoader(),P.postImageData(M.XPLAY_UPLOAD_VIDEO(this.props.match.params.channel_id),a,function(e){var t=e;$("success","Successfully Created"),setTimeout(function(){window.location.replace(x[x.env].url+"/xplay/channel/"+t)},500)},function(e){$("err","Some error while saving data")},{timeout:1e7,onComplete:function(){_()("button#uploadVideoForm__btnUploadVideo").removeAttr("disabled"),_()("button#uploadVideoForm__backBtn").removeAttr("disabled"),_()("button#uploadVideoForm__btnUploadVideo").html('<i class="fas fa-cloud-upload-alt margin-right-10"></i> Upload ')},beforeSend:function(){_()("button#uploadVideoForm__btnUploadVideo").html("Uploading your video... it might take time."),_()("button#uploadVideoForm__btnUploadVideo").prepend("<span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true'></span>"),_()("button#uploadVideoForm__btnUploadVideo").attr("disabled","disabled"),_()("button#uploadVideoForm__backBtn").attr("disabled","disabled")}}))}},{key:"render",value:function(){var e=this,t=this.state.editorState;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row margin-top-5 margin-bottom-30"},r.a.createElement("div",{className:"col col-6"},r.a.createElement("h4",{className:"montserrat-light margin-bottom-20"},"Upload a New Video"),r.a.createElement(B.a,{name:"uploadVideoForm",id:"uploadVideoForm",className:"row",onSubmit:this.uploadVideo},r.a.createElement(B.a.Group,{className:"col col-12",controlId:"uploadVideoForm__videoTitle"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Your video must have a title.")},r.a.createElement(B.a.Label,{className:"text-x-default margin-left-5"},"Video Title")),r.a.createElement(B.a.Control,{name:"videoTitle",type:"text",placeholder:"Title",maxLength:"60"})),r.a.createElement(B.a.Group,{className:"col col-12",controlId:"uploadVideoForm__seoKeywords"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Choose perfect SEO Keywords for your content. This helps Xwards in pushing your content to the most relevant reader.")},r.a.createElement(B.a.Label,{className:"text-x-default margin-left-5"},"SEO Keywords (don't use #) - Use 'Tab' to seperate")),r.a.createElement(Je.a,{name:"seoKeywords",value:this.state.hashtags,onChange:function(t){return e.addHashtag(t)}})),r.a.createElement(B.a.Group,{className:"col col-12",controlId:"uploadVideoForm__videDescription"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Provide a short description about the video")},r.a.createElement(B.a.Label,{className:"text-x-default margin-left-5"},"Description")),r.a.createElement(_t.Editor,{name:"videDescription",editorState:t,toolbarHidden:!0,wrapperClassName:"editor-wrapper",editorClassName:"editing-preview-area",onEditorStateChange:function(t){return e.onWriting(t)},editorStyle:{minHeight:"300px"}})),r.a.createElement("div",{className:"col col-12 form-group"},r.a.createElement("button",{className:"btn btn-link text-x-upload",onClick:function(t){return e.openModal(t)}},"Upload Thumbnail Images")),r.a.createElement("div",{className:"col col-12 form-group"},r.a.createElement(G.a,{variant:"outline-x-love",id:"uploadVideoForm__backBtn",onClick:function(t){return e.goBack(t)},className:"margin-right-10"},r.a.createElement("i",{className:"fas fa-chevron-left margin-right-10"})," Go Back"),r.a.createElement(G.a,{variant:"x-default",type:"submit",id:"uploadVideoForm__btnUploadVideo",onClick:function(t){return e.submitVideo(t)}},r.a.createElement("i",{className:"fas fa-cloud-upload-alt margin-right-10"})," Upload")))),r.a.createElement("div",{className:"col col-6",id:"xVideoHolder"},r.a.createElement(Qe,{width:this.state.videoUploadWidth,height:this.state.videoUploadHeight,title:"Upload Video",subtitle:"Max 360dp MP4 Video Format (Max File Size: 400MB)",id:"uploadVideoForm__video",name:"uploadVideoForm__video",callBack:function(t){return e.getVideo(t)},maxFileSize:419430400,errCallBack:function(t){return e.errorVideoUploading(t)}}))),r.a.createElement(j.a,{show:this.state.show,id:"Xplay-ThumbnailImage",centered:!1,onHide:function(){return e.hideModal()}},r.a.createElement(B.a.Group,null,r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Upload different size thumbnail images for the corresponding video")},r.a.createElement(B.a.Label,{className:"text-x-default cursor-pointer"},"Upload Images of Different Sizes")))),r.a.createElement(j.a.Body,{className:"padding-top-0"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-6 form-group"},r.a.createElement(mt,{id:"big",name:"big",width:"426px",height:"460px",title:"Big Cover Image",subtitle:"Width X Height (426px X 460px)",class:"imp-margin-bottom-15",maxFileSize:4194304,errCallBack:function(t){return e.maxFileSize(t)},callBack:function(t){return e.addImages(t,"big")},onImage:function(t){return e.onImages(t,"big")},imageSrc:this.state.img_big})),r.a.createElement("div",{className:"col col-6 form-group"},r.a.createElement(mt,{id:"mid",name:"mid",width:"426px",height:"345px",title:"Mid Size Cover Image",subtitle:"Width X Height (426px X 345px)",maxFileSize:4194304,errCallBack:function(t){return e.maxFileSize(t)},callBack:function(t){return e.addImages(t,"mid")},onImage:function(t){return e.onImages(t,"mid")},imageSrc:this.state.img_mid})),r.a.createElement("div",{className:"col col-12"},r.a.createElement(mt,{id:"thumbnail",name:"thumbnail",width:"504px",height:"282px",title:"Thumbnail Size Cover Image",subtitle:"Width X Height (504px X 282px)",maxFileSize:4194304,errCallBack:function(t){return e.maxFileSize(t)},callBack:function(t){return e.addImages(t,"thumbnail")},onImage:function(t){return e.onImages(t,"thumbnail")},imageSrc:this.state.img_thumbnail}))),r.a.createElement(G.a,{variant:"x-default  margin-top-20",className:"right margin-right-5",onClick:function(){return e.hideModal()}},"Done"))))}}]),t}(n.Component),It=a(162),Ft=a.n(It),At=function(){this.setState({show:!0})},Ot=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleCloseModal=function(e){e.preventDefault(),a.setState({show:!1})},a.handleDeleteVideo=function(e){e.preventDefault();var t=H.getFormData(_()("form#deleteVideoModalForm").serializeArray());"DELETE"===t[Object.keys(t)[0]]&&(console.log(t),console.log(a.props),P.delete(M.XPLAY_DELETE_VIDEO(a.props.videoId,a.props.channelId),function(e){$("success","Successfully Deleted"),setTimeout(function(){window.location.replace(x[x.env].url+"/xplay/channel/")},500),window.location.replace(x[x.env].url+"/xplay/channel")},function(e){console.log(e),$("err","Error in deleting video")},{onComplete:function(){this.setState({show:!1})}.bind(Object(p.a)(a)),beforeSend:function(){_()("button#xPlay__btnConfirmDeleteVideo").html("Deleting Video..."),_()("button#xPlay__btnConfirmDeleteVideo").prepend("<span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true'></span>"),_()("button#xPlay__btnConfirmDeleteVideo").attr("disabled","disabled"),_()("button#xPlay__btnCancelDeleteVideo").attr("disabled","disabled")}}))},a.state={show:!1},At=At.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{id:"xPlay__deleteVideoModal",centered:!0,show:this.state.show,onHide:function(){return e.handleCloseModal()}},r.a.createElement(j.a.Header,null,r.a.createElement("h4",{className:"montserrat-light"},"Delete Video")),r.a.createElement(j.a.Body,null,r.a.createElement(B.a,{id:"deleteVideoModalForm",name:"deleteVideoModalForm"},r.a.createElement(B.a.Group,{controlId:"deleteVideoModalForm"},r.a.createElement(B.a.Label,null,"Type 'DELETE' to delete this video"),r.a.createElement(B.a.Control,{name:"deleteVideo",type:"text"})),r.a.createElement(G.a,{variant:"danger",type:"submit",className:"right",sm:"2",id:"xPlay__btnConfirmDeleteVideo",onClick:this.handleDeleteVideo},"Confirm"),r.a.createElement(G.a,{variant:"outline-x-dark-default",className:"right margin-right-5",id:"xPlay__btnCancelDeleteVideo",onClick:this.handleCloseModal},"Cancel")))))}}]),t}(n.Component),Mt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).updateVideoDetails=function(e){if(e.preventDefault(),null===a.state.videoTitle||void 0===a.state.videoTitle)return $("err","Error. Title must be between 10 to 60 characters."),!1;var t=a.state.videoTitle.trim().replace(/\s\s+/g," ");if(t.length<10&&t.length<61)return $("err","Error. Title must be between 10 to 60 characters."),!1;if(a.state.chips.length<4)return $("err","Error. You must have atleast 4 keywords."),!1;var n=a.state.editorState,r=wt()(Object(Nt.convertToRaw)(n.getCurrentContent())),o=a.state.chips.toString(),l={videoTitle:a.state.videoTitle,keywords:o,description:r};P.put(M.XPLAY_UPDATE_VIDEO_DETAILS(a.props.match.params.channel_id,a.props.match.params.video_id),l,function(e){window.location.replace(x[x.env].url+"/xplay/channel/"+e.channel_id),$("success","Updated your changes successfully")},function(e){$("err","Error. Please Try Again...")})},z("/xplay"),a.state={videoTitle:"",chips:[],editorState:Nt.EditorState.createEmpty(),video:null,images:[]},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){P.get(M.XPLAY_VIDEO_DETAIL(this.props.match.params.channel_id,this.props.match.params.video_id),function(e){var t=JSON.parse(e.data),a=null;for(var n in t.files.video)"video"===t.files.video[n].fieldname&&(a=t.files.video[n].location,this.setState({video:a}));var r=t.keywords.split(","),o=Ft()(t.description),l=o.contentBlocks,i=o.entityMap,s=Nt.ContentState.createFromBlockArray(l,i),c=Nt.EditorState.createWithContent(s);for(var m in t.files)"video"===t.files[m].fieldname&&this.setState({video:t.files[m].location});this.setState({videoTitle:t.videoTitle,chips:r,editorState:c});var d=_()("#xVideoHolder").width(),u=720*d/1280;this.setState({videoUploadWidth:d+"px",videoUploadHeight:u+"px"}),_()("input[type='file']#newChannelModalForm__photo").hover(function(){_()("div#xPlay__btnUploadCoverPhoto").css("opacity","0.85")},function(){_()("div#xPlay__btnUploadCoverPhoto").css("opacity","0.1")})}.bind(this),function(e){$("err","Error. Please Try Again...")})}},{key:"videoTitleChange",value:function(e){this.setState({videoTitle:e.target.value})}},{key:"addHashtag",value:function(e){if(e.length>0){var t=e[e.length-1];t=t.trim().replace(/\s\s+/g," ").split(" ").join("_"),e[e.length-1]=t.trim()}if(e.length>25)return!1;this.setState({chips:e})}},{key:"onWriting",value:function(e){this.setState({editorState:e})}},{key:"goBack",value:function(e){e.preventDefault(),this.props.history.push("/xplay/channel/"+this.props.match.params.channel_id)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row margin-top-30"},r.a.createElement("div",{className:"col col-8",id:"xVideoHolder"},r.a.createElement(Qe,{videoSrc:this.state.video,width:this.state.videoUploadWidth,height:this.state.videoUploadHeight,allowUpload:!1})),r.a.createElement("div",{className:"col col-4 right"},r.a.createElement(G.a,{variant:"danger",id:"btnDeleteVideo",sm:"4",className:"right margin-left-5",onClick:function(){return At()}},"Delete Video")),r.a.createElement("div",{className:"col col-8  margin-top-20 margin-bottom-20"},r.a.createElement(B.a,{name:"updateVideoDetailsForm",id:"updateVideoDetailsForm"},r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Label,null,"Title"),r.a.createElement(B.a.Control,{name:"videoTitle",type:"text",value:this.state.videoTitle,onChange:function(t){return e.videoTitleChange(t)},maxLength:"60"})),r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Label,null,"Description"),r.a.createElement(_t.Editor,{toolbarHidden:!0,editorState:this.state.editorState,toolbarClassName:"x-toolbar",wrapperClassName:"editor-wrapper",editorClassName:"editing-preview-area",onEditorStateChange:function(t){return e.onWriting(t)},editorStyle:{minHeight:"300px"},value:this.state.editorState})),r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Label,null,"Tags"),r.a.createElement("div",null,r.a.createElement(Je.a,{value:this.state.chips,onChange:function(t){return e.addHashtag(t)}}))),r.a.createElement(G.a,{variant:"x-dark-default",type:"submit",id:"updateVideoDetailsForm__btnUpdateVideoDetails",sm:"4",className:"right margin-left-5",onClick:function(t){return e.updateVideoDetails(t)}},"Update Details"),r.a.createElement(G.a,{variant:"outline-x-love",onClick:function(t){return e.goBack(t)},className:"margin-right-10"},r.a.createElement("i",{className:"fas fa-chevron-left margin-right-10"})," Go Back")))),r.a.createElement(Ot,{videoId:this.props.match.params.video_id,channelId:this.props.match.params.channel_id}))}}]),t}(n.Component),Pt=function(e){function t(e){var a;return Object(i.a)(this,t),a=Object(c.a)(this,Object(m.a)(t).call(this,e)),z("/xplay"),a.state={videoTitle:"",keywords:[],description:"",video:null,images:[],impressions:null},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){P.get(M.XPLAY_GET_LIVE_VIDEO_BY_ID(this.props.match.params.video_id),function(e){console.log(e),this.setState({videoTitle:e.videoTitle,keywords:e.keywords.split(","),description:e.description,images:e.images,video:e.videoUrl,impressions:e.impressions});var t=_()("#xVideoHolder").width(),a=720*t/1280;this.setState({videoUploadWidth:t+"px",videoUploadHeight:a+"px"}),_()("input[type='file']#newChannelModalForm__photo").hover(function(){_()("div#xPlay__btnUploadCoverPhoto").css("opacity","0.85")},function(){_()("div#xPlay__btnUploadCoverPhoto").css("opacity","0.1")})}.bind(this),function(e){$("err","Error in Fetching Details for Live Video")})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-8 margin-top-20"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-12",id:"xVideoHolder"},r.a.createElement(Qe,{videoSrc:this.state.video,width:this.state.videoUploadWidth,height:this.state.videoUploadHeight,allowUpload:!1})),r.a.createElement("div",{className:"col col-8 margin-top-30"},r.a.createElement("h5",{className:"text-x-default"},this.state.videoTitle)),r.a.createElement("div",{className:"col col-4 margin-top-30"},r.a.createElement("p",{className:"text-x-default"},"Impressions:  ",this.state.impressions)),r.a.createElement("div",{className:"col col-12 margin-top-10"},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:"".concat(this.state.description)}})),r.a.createElement("div",{className:"col col-12 margin-bottom-50 max-width-100"},this.state.keywords.map(function(e){return r.a.createElement("span",{key:e,className:"text-sm badge badge-pill badge-secondary margin-right-10 montserrat-light"},e)})))),r.a.createElement("div",{className:"col col-4"},r.a.createElement(je.a,{variant:"flush"},this.state.images.map(function(e){return r.a.createElement(je.a.Item,{key:e.name},r.a.createElement("img",{src:e.img_url,className:"margin-10",style:{width:"250px",height:"100px"}}))}))))))}}]),t}(n.Component),Ut=function(e){function t(){var e;return Object(i.a)(this,t),e=Object(c.a)(this,Object(m.a)(t).call(this)),P.get(M.XMUSIC_AUTH(),function(e){window.location.replace(x[x.env].url+"/xmusic/audios")},function(e){window.location.replace(x[x.env].url+"/xmusic/request")}),e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null)}}]),t}(n.Component),Lt=a(229),jt=a.n(Lt),Rt=function(e){this.setState({show:!0,audioId:e})},Bt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleCloseModal=function(e){e.preventDefault(),a.setState({show:!1})},a.handleDeleteVideo=function(e){e.preventDefault();var t=H.getFormData(_()("form#deleteAudioModalForm").serializeArray());"DELETE"===t[Object.keys(t)[0]]&&(console.log(t),console.log(a.state.audioId),P.delete(M.XMUSIC_DELETE_AUDIO(a.state.audioId),function(e){_()("#deleteAudioModalForm #success-message").html(e.message),_()("#deleteAudioModalForm #error-message").html(""),window.location.replace(x[x.env].url+"/xmusic/audios")},function(e){_()("#editAudioModalForm #error-message").html(e.responseJSON.message),_()("#editAudioModalForm #success-message").html(""),console.log(e)},{onComplete:function(){this.setState({show:!1})}.bind(Object(p.a)(a)),beforeSend:function(){_()("button#xMusic__btnConfirmDeleteAudio").html("Deleting Audio..."),_()("button#xMusic__btnConfirmDeleteAudio").prepend("<span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true'></span>"),_()("button#xMusic__btnConfirmDeleteAudio").attr("disabled","disabled"),_()("button#xMusic__btnCancelDeleteAudio").attr("disabled","disabled")}}))},a.state={show:!1,audioId:null},Rt=Rt.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{id:"xMusic__deleteAudioModal",centered:!0,show:this.state.show,onHide:function(){return e.handleCloseModal()}},r.a.createElement(j.a.Header,null,r.a.createElement("h4",{className:"montserrat-light"},"Delete Audio")),r.a.createElement(j.a.Body,null,r.a.createElement(B.a,{id:"deleteAudioModalForm",name:"deleteAudioModalForm"},r.a.createElement(B.a.Group,{controlId:"deleteAudioModalForm"},r.a.createElement(B.a.Label,null,"Type 'DELETE' to delete this audio"),r.a.createElement(B.a.Control,{name:"deleteAudio",type:"text"})),r.a.createElement(G.a,{variant:"danger",type:"submit",className:"right",sm:"2",id:"xMusic__btnConfirmDeleteAudio",onClick:this.handleDeleteVideo},"Confirm"),r.a.createElement(G.a,{variant:"outline-x-dark-default",className:"right margin-right-5",id:"xMusic__btnCancelDeleteVideo",onClick:this.handleCloseModal},"Cancel")))))}}]),t}(n.Component),Gt=function(e){this.setState({show:!0,audioId:e}),null!=e&&P.get(M.XMUSIC_GET_AUDIO_BY_ID(e),function(e){var t=JSON.parse(e.data),a=[];"object"==typeof t.keywords?a=t.keywords:"string"==typeof t.keywords&&(a=t.keywords.split(",")),this.setState({songTitle:t.songTitle,description:t.description,keywords:a})}.bind(this),function(e){console.log(e),$("err","Error. Some Error while fetching Informations")})},Ht=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleCloseModal=function(e){e.preventDefault(),a.setState({show:!1,audioId:null})},a.handleUpdateAudio=function(e){if(e.preventDefault(),null===a.state.songTitle||void 0===a.state.songTitle)return $("err","Error. Title must be between 10 to 60 characters."),!1;var t=a.state.songTitle.trim().replace(/\s\s+/g," ");if(t.length<10&&t.length<61)return $("err","Error. Title must be between 10 to 60 characters."),!1;if(a.state.keywords.length<4)return $("err","Error. You must have atleast 4 keywords."),!1;if(""===a.state.description||null===a.state.description)return $("err","Error. You must have a song description"),!1;var n=H.getFormData(_()("form#editAudioModalForm").serializeArray()),r={songTitle:n.songTitle,description:n.description,keywords:a.state.keywords};P.put(M.XMUSIC_UPDATE_AUDIO(a.state.audioId),r,function(e){this.setState({show:!1,keywords:[],songTitle:"",description:""}),$("success","Song updated successfully"),setTimeout(function(){window.location.reload()},1500)}.bind(Object(p.a)(a)),function(e){$("err","Error. "+e.responseJSON.message),console.log(e)},{onComplete:function(){_()("button#editAudioModalForm__btnConfirmUpdateAudio").removeAttr("disabled"),_()("button#editAudioModalForm__btnCancelEditAudio").removeAttr("disabled"),_()("button#editAudioModalForm__btnUplodSong").html("Update")}},{beforeSend:function(){_()("button#editAudioModalForm__btnConfirmUpdateAudio").html("Updating..."),_()("button#editAudioModalForm__btnConfirmUpdateAudio").prepend("<span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true'></span>"),_()("button#editAudioModalForm__btnConfirmUpdateAudio").attr("disabled","disabled"),_()("button#editAudioModalForm__btnCancelEditAudio").attr("disabled","disabled")}})},a.state={show:!1,audioId:null,keywords:[],songTitle:"",description:""},Gt=Gt.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"songTitleChange",value:function(){this.setState({songTitle:_()("#editAudioModalForm__songTitle").val(),keywords:this.state.keywords,description:this.state.description})}},{key:"songDescriptionChange",value:function(){this.setState({songTitle:this.state.songTitle,keywords:this.state.keywords,description:_()("#editAudioModalForm__description").val()})}},{key:"addHashtag",value:function(e){if(e.length>0){var t=e[e.length-1];t=t.trim().replace(/\s\s+/g," ").split(" ").join("_"),e[e.length-1]=t.trim()}if(e.length>25)return!1;this.setState({description:this.state.description,songTitle:this.state.songTitle,keywords:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{id:"xMusic__editAudioModal",centered:!0,show:this.state.show,onHide:function(){return e.handleCloseModal()}},r.a.createElement(j.a.Header,null,r.a.createElement("h4",{className:"montserrat-light"},"Edit Audio")),r.a.createElement(j.a.Body,null,r.a.createElement(B.a,{id:"editAudioModalForm",name:"editAudioModalForm"},r.a.createElement(B.a.Group,{controlId:"editAudioModalForm__songTitle"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Edit the song name")},r.a.createElement(B.a.Label,{className:"text-x-default margin-top-10"},"Song Title")),r.a.createElement(B.a.Control,{name:"songTitle",type:"text",maxLength:"60",value:this.state.songTitle,onChange:function(){return e.songTitleChange()}}),r.a.createElement(B.a.Text,{className:"text-muted"},"Maximun 60 characters")),r.a.createElement(B.a.Group,{controlId:"editAudioModalForm__keywords"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Edit your SEO Keywords for your song.")},r.a.createElement(B.a.Label,{className:"text-x-default"},"SEO Keywords (don't use #) - Use 'Tab' to seperate")),r.a.createElement(Je.a,{name:"seoKeywords",value:this.state.keywords,onChange:function(t){return e.addHashtag(t)}})),r.a.createElement(B.a.Group,{controlId:"editAudioModalForm__description"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Edit description about your song.")},r.a.createElement(B.a.Label,{className:"text-x-default"},"About The Song")),r.a.createElement(B.a.Control,{name:"description",as:"textarea",rows:"4",value:this.state.description,onChange:function(){return e.songDescriptionChange()}})),r.a.createElement(G.a,{variant:"danger",type:"submit",className:"right",sm:"2",id:"xMusic__btnConfirmUpdateAudio",onClick:this.handleUpdateAudio},"Update"),r.a.createElement(G.a,{variant:"outline-x-dark-default",className:"right margin-right-5",id:"xMusic__btnCancelEditAudio",onClick:this.handleCloseModal},"Cancel")))))}}]),t}(n.Component),Vt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={audioList:[],activePage:1,totalItemsCount:""},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.type;P.get(M.XMUSIC_GET_AUDIOS(e),function(e){console.log(e),this.setState({audioList:e.music,totalItemsCount:e.count})}.bind(this),function(e){console.log(e),$("err","Some Error in Fetching Informations")})}},{key:"handlePageChange",value:function(e){this.setState({activePage:e}),P.get(M.XMUSIC_GET_AUDIOS()+"?page="+e,function(e){this.setState({audioList:e.music,totalItemsCount:e.count})}.bind(this),function(e){$("err","Some error happened while fetching details")})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"padding-bottom-10"},this.state.audioList.length<=0&&r.a.createElement(ne.a,{className:"text-center margin-top-10"},r.a.createElement(ne.a.Body,null,r.a.createElement("h5",{className:"text-secondary"},"No audios uploaded on X-Music"))),this.state.audioList.map(function(t){return r.a.createElement("div",{key:t.id,className:"row margin-top-10"},r.a.createElement("div",{className:"col col-12"},"review"===e.props.type&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-4"},r.a.createElement("img",{src:t.photo_url,width:"300",height:"200"})),r.a.createElement("div",{className:"col col-6"},r.a.createElement("h5",null," ",t.title," "),r.a.createElement("p",{className:"text-black",style:{overflow:"hidden",maxHeight:"50"}}," ",t.description),r.a.createElement("div",{className:"left-align text-sm italic text-secondary margin-bottom-20"},"Last Updated: ",H.toDateFormat(t.updated_at)),r.a.createElement(jt.a,{src:t.url,controls:!0})),r.a.createElement("div",{className:"col col-2 right-align"},r.a.createElement("button",{className:"btn btn-info btn-sm margin-right-5",onClick:function(){return Gt(t.id)}},"Edit"),r.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:function(){return Rt(t.id)}},"Delete"))),"live"===e.props.type&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-4"},r.a.createElement("img",{src:t.photo_url,width:"300",height:"200"})),r.a.createElement("div",{className:"col col-8"},r.a.createElement("h5",null," ",t.title," "),r.a.createElement("p",{className:"text-black",style:{overflow:"hidden",maxHeight:"50"}}," ",t.description),r.a.createElement("div",{className:"left-align text-sm italic text-secondary margin-bottom-20"},"Last Updated: ",H.toDateFormat(t.updated_at)),r.a.createElement(jt.a,{src:t.url,controls:!0})))))})),this.state.audioList.length>0&&r.a.createElement("div",{className:"padding-bottom-50"},r.a.createElement(se.a,{activePage:this.state.activePage,itemsCountPerPage:10,totalItemsCount:this.state.totalItemsCount,pageRangeDisplayed:5,itemClass:"page-item",linkClass:"page-link",onChange:function(t){return e.handlePageChange(t)}})),r.a.createElement(Ht,null),r.a.createElement(Bt,null))}}]),t}(n.Component),Xt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){P.get(M.XMUSIC_GET_MUSIC_COUNT(),function(e){console.log(e.count),this.setState({xMusicLength:e.count})}.bind(Object(p.a)(a)),function(e){console.log(e),$("err","Some error occured while fetching your X-Music Songs.")})},a.uploadAudio=function(e){e.preventDefault(),a.props.history.push("/xmusic/audios/upload-audio")},z("/xmusic"),a.state={xMusicLength:null,image:null},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid margin-top-5"},r.a.createElement("div",{className:"row padding-bottom-20"},r.a.createElement("div",{className:"col col-12 "},0===this.state.xMusicLength?r.a.createElement(ne.a,{className:"text-center h-100"},r.a.createElement(ne.a.Body,null,r.a.createElement("h2",{className:"text-x-love margin-bottom-20"},"No Songs Uploaded"),r.a.createElement("h6",{className:"text-x-default max-width-70 margin-auto"},"To start with X-Music you need to upload a song at X-Music."),r.a.createElement(G.a,{variant:"x-love",className:"margin-top-30",type:"submit",id:"xMusic_upload_song_button",sm:"4",onClick:function(t){return e.uploadAudio(t)}},r.a.createElement("i",{className:"fas fa-plus"}),"  Upload New Song"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{variant:"x-love",type:"submit",id:"xMusic_upload_song_button",sm:"4",onClick:function(t){return e.uploadAudio(t)}},r.a.createElement("i",{className:"fas fa-plus"}),"  Upload New Song"),r.a.createElement("h4",{className:"margin-top-20 margin-bottom-20"},"Your Uploaded Songs"),r.a.createElement("div",{className:"col col-12 padding-bottom-50"},r.a.createElement(st.a,{defaultActiveKey:"liveMusic",transition:!1,id:"uncontrolled-tab-example"},r.a.createElement(ct.a,{eventKey:"liveMusic",title:"Live Music",className:"text-x-default"},r.a.createElement(Vt,{type:"live"})),r.a.createElement(ct.a,{eventKey:"reviewMusic",title:"Music In Review",className:"text-x-default"},r.a.createElement(Vt,{type:"review"}))))))))}}]),t}(n.Component),Yt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleClose=function(e){e&&e.preventDefault(),a.setState({show:!1})},a.handleShow=function(e){e.preventDefault(),a.setState({show:!0})},a.sendRequest=function(e){e.preventDefault();var t=H.getFormData(_()("form#xMusicRequestModalForm").serializeArray());return console.log(t),null===t.description||""===t.description||null===t.description?($("err","Error. You must have description"),!1):null===t.emailId||""===t.emailId||null===t.emailId?($("err","Error. You must have emailId"),!1):null===t.phoneNumber||""===t.phoneNumber||null===t.phoneNumber?($("err","Error. You must have Phone Number"),!1):void P.post(M.XMUSIC_REQUEST(),t,function(e){$("success","Request has been sent to the Administrator. Please check your email for response."),window.location.reload()},function(e){$("err","There was some error"),window.location.reload()},{onComplete:function(){_()("button#xMusicRequestModalForm__btnSendRequest").removeAttr("disabled"),_()("button#xMusicRequestModalForm__btnSendRequest").html("Send Request"),_()("button#xMusicRequestModalForm__btnSendRequest").attr("disabled","disabled"),this.setState({show:!1})}.bind(Object(p.a)(a)),beforeSend:function(){_()("button#xMusicRequestModalForm__btnSendRequest").html("Sending Request.."),_()("button#xMusicRequestModalForm__btnSendRequest").prepend("<span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true'></span>"),_()("button#xMusic_enable_button").attr("disabled","disabled")}})},z("/xmusic"),a.state={show:!1},P.get(M.XMUSIC_AUTH(),function(e){console.log(e),window.location.replace(x[x.env].url+"/xmusic/audios")},function(e){switch(console.log(e),e.status){case 401:_()("button#xMusic_enable_button").attr("disabled","disabled"),_()("button#xMusic_enable_button").html("Already Requested");break;case 403:_()("button#xMusic_enable_button").attr("disabled","disabled"),_()("button#xMusic_enable_button").html("Your access to X-Music has been suspended.");break;case 404:_()("button#xMusic_enable_button").html("Request Access for X-Music");break;default:$("err","Unable to fetch information on your X-Music Account")}}),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"flex-row align-items-center margin-top-5"},r.a.createElement(ne.a,{className:"text-center h-100"},r.a.createElement(ne.a.Body,null,r.a.createElement("h2",{className:"text-x-love margin-bottom-20"},"X-Music Account Not Activated"),r.a.createElement("h6",{className:"text-x-default max-width-70 margin-auto"},"X-Music is an entertainment song listening facility inside Xplore Tablets."),r.a.createElement("h6",{className:"text-x-default max-width-70 margin-auto imp-margin-top-20"},"X-Music is a public screen and in order to regulate the standard of video contents going online, the access to X-Music is granted to exclusive partners on request. You can contact us to request an access."),r.a.createElement(G.a,{variant:"x-love",className:"margin-top-30",type:"submit",id:"xMusic_enable_button",onClick:function(t){return e.handleShow(t)}},"Request Access for X-Music"))),r.a.createElement("div",null,r.a.createElement(j.a,{id:"xMusic__requestModal",centered:!0,show:this.state.show,onHide:function(){return e.handleClose()}},r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement("h4",{className:"montserrat-light"},"Request for X-Music Access")),r.a.createElement(j.a.Body,{className:"padding-top-0"},r.a.createElement(B.a,{name:"xMusicRequestModalForm",id:"xMusicRequestModalForm",onSubmit:this.sendRequest},r.a.createElement(B.a.Group,{controlId:"xMusicRequestModalForm__description"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Please tell us something about yourself.")},r.a.createElement(B.a.Label,{className:"text-x-default"},"Description")),r.a.createElement(B.a.Control,{name:"description",as:"textarea",rows:"2"}),r.a.createElement("span",{className:"text-x-love text-md",id:"xMusicRequestModalForm__description__msg"})),r.a.createElement(B.a.Group,{controlId:"xMusicRequestModalForm__phoneNumber"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"We might need to call you.")},r.a.createElement(B.a.Label,{className:"text-x-default"},"Phone Number")),r.a.createElement(B.a.Control,{name:"phoneNumber",type:"number"}),r.a.createElement("span",{className:"text-x-love text-md",id:"xMusicRequestModalForm__phone_number__msg"})),r.a.createElement(B.a.Group,{controlId:"xMusicRequestModalForm__email"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Your email id.")},r.a.createElement(B.a.Label,{className:"text-x-default"},"Email ID")),r.a.createElement(B.a.Control,{name:"emailId",type:"email"}),r.a.createElement("span",{className:"text-x-love text-md",id:"xMusicRequestModalForm__email_id__msg"})),r.a.createElement(G.a,{variant:"x-dark-default",type:"submit",id:"xMusicRequestModalForm__btnSendRequest",className:"right margin-left-5",onClick:function(t){return e.sendRequest(t)}},"Request Access"),r.a.createElement(G.a,{variant:"outline-x-love",className:"right margin-right-5",onClick:function(t){return e.handleClose(t)}},"Close")))))))}}]),t}(n.Component),qt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={audioSrc:null,playPause:!1,playerTime:0,audioDuration:0,audioLapseTime:0,toolbar:!0,upload:!0},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.audioSrc===this.state.audioSrc||"onFileUpload"in this.state||this.setState({audioSrc:e.audioSrc})}},{key:"componentDidMount",value:function(){var e=!0,t=!0,a=null;"allowUpload"in this.props&&(t=this.props.upload),"toolbar"in this.props&&(e=this.props.toolbar),"audioSrc"in this.props&&(a=this.props.audioSrc),this.setState({upload:t,toolbar:e,audioSrc:a})}},{key:"bindRef",value:function(e){this.player=e,"Xref"in this.props&&this.props.Xref(e)}},{key:"playAudio",value:function(e){e.preventDefault(),this.setState({playPause:!this.state.playPause})}},{key:"stopAudio",value:function(e){e.preventDefault(),this.setState({playPause:!1}),this.player.seekTo(0)}},{key:"seekPlayer",value:function(e){this.player.seekTo(parseFloat(e.target.value))}},{key:"playerOnProgress",value:function(e){this.setState({playerTime:parseFloat(e.played)}),this.setState({audioLapseTime:parseFloat(e.playedSeconds)})}},{key:"onDurationLoad",value:function(e){this.setState({audioDuration:e})}},{key:"onFileUpload",value:function(e){if(e.target.files[0]){var t=e.target.files[0],a=new FileReader;a.onload=function(){var e=new Blob([a.result],{type:t.type}),n=URL.createObjectURL(e);this.setState({audioSrc:n,onFileUpload:!0}),"callBack"in this.props&&this.props.callBack(e)}.bind(this),t.size<=this.props.maxFileSize?a.readAsArrayBuffer(t):"errCallBack"in this.props&&this.props.errCallBack("MAX_FILE_SIZE")}}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"x-audio-upload "+this.props.class,style:{height:"20",width:"100"},id:this.props.id+"__holder"},"undefined"===typeof this.state.audioSrc&&r.a.createElement("button",{className:"x-audio-upload-title btn "+this.props.titleClass,style:{height:this.props.height,width:this.props.width}},r.a.createElement("div",{className:""},this.props.title),r.a.createElement("div",{className:"text-xs"},this.props.subtitle)),r.a.createElement("input",{type:"file",disabled:"undefined"!==typeof this.state.audioSrc&&!this.state.upload,accept:"audio/mp3",id:this.props.id,name:this.props.name,className:"x-audio-upload-file",style:{height:"20",width:"100"},onChange:function(t){return e.onFileUpload(t)}}),"undefined"!==typeof this.state.audioSrc&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze.a,{onProgress:function(t){return e.playerOnProgress(t)},ref:function(t){return e.bindRef(t)},url:this.state.audioSrc,height:"20",width:"100",volume:1,playing:this.state.playPause,onDuration:function(t){return e.onDurationLoad(t)}}),this.state.toolbar&&r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{onChange:function(t){return e.seekPlayer(t)},type:"range",value:this.state.playerTime,min:"0",step:"0.01",max:"1",className:"width-100 cursor-pointer margin-top-20"}),r.a.createElement("div",{className:"display-inline"},r.a.createElement(G.a,{onClick:function(t){return e.playAudio(t)},variant:"success",className:"margin-right-10 btn-sm",id:this.props.id+"__tool__playBtn"},r.a.createElement("i",{className:"fas fa-play margin-right-10"})," ",r.a.createElement("i",{className:"fas fa-pause"})),r.a.createElement(G.a,{onClick:function(t){return e.stopAudio(t)},variant:"danger",className:"margin-right-10 btn-sm",id:this.props.id+"__tool__pauseBtn"},r.a.createElement("i",{className:"fas fa-stop"}))),r.a.createElement("div",{className:"display-inline right text-sm text-secondary margin-top-5"},""!==H.secondsToHms(this.state.audioLapseTime)&&H.secondsToHms(this.state.audioLapseTime)+" /","\xa0",H.secondsToHms(this.state.audioDuration))))))}}]),t}(n.Component),zt=[{name:"big",width:426,height:420,image:null},{name:"mid",width:426,height:315,image:null},{name:"thumbnail",width:504,height:282,image:null}],Wt={getImageSizes:function(){return zt},getNonNullImages:function(){return zt.filter(function(e){return null!=e.image})},saveXmusicData:function(e){localStorage.setItem("xmusicData",JSON.stringify(e))},getXmusicData:function(){return JSON.parse(localStorage.getItem("xmusicData"))},addImage:function(e,t){for(var a in zt)zt[a].name===e&&(zt[a].image=t)},removeXmusicData:function(){localStorage.removeItem("xmusicData")}},Jt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).uploadAudio=function(e){e.preventDefault();var t=a.createDataForUploading();if(console.log(t),!1===t)return!1;if(0===Object.keys(a.thumbnail).length)return $("err","Add atleast one image for the playlist"),!1;var n=new FormData;for(var r in t)"object"==typeof t[r]&&r.includes("_data")?n.append(r,JSON.stringify(t[r])):n.append(r,t[r]);var o=!0,l=!1,i=void 0;try{for(var s,c=n.entries()[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var m=s.value;console.log(m[0]+", "+m[1])}}catch(d){l=!0,i=d}finally{try{o||null==c.return||c.return()}finally{if(l)throw i}}n&&(H.showLoader(),P.postImageData(M.XMUSIC_UPLOAD_SONG(),n,function(e){$("success","Song uploaded successfully"),setTimeout(function(){window.location.replace(x[x.env].url+"/xmusic/audios/")},500)},function(e){console.log(e),$("err","Some error while saving data")},{timeout:1e7,onComplete:function(){_()("button#uploadAudioForm__btnUploadAudio").removeAttr("disabled"),_()("button#uploadAudioForm__btnGoBack").removeAttr("disabled"),_()("button#uploadAudioForm__btnUploadAudio").html('<i class="fas fa-cloud-upload-alt margin-right-10"></i> Upload ')},beforeSend:function(){_()("button#uploadAudioForm__btnUploadAudio").html("Uploading your playlist... it might take time."),_()("button#uploadAudioForm__btnUploadAudio").prepend("<span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true'></span>"),_()("button#uploadAudioForm__btnUploadAudio").attr("disabled","disabled"),_()("button#uploadAudioForm__btnGoBack").attr("disabled","disabled")}}))},a.state={img_thumbnail:null,img_mid:null,img_big:null,audio:null,hashtags:[]},a.thumbnail={},z("/xmusic"),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"getAudio",value:function(e){this.setState({audio:e})}},{key:"errorAudioUploading",value:function(e){switch(e){case"MAX_FILE_SIZE":$("err","File is too big to upload. Max Size 20Mb")}}},{key:"addImages",value:function(e,t){var a=this,n=new Image,r=new FileReader;r.readAsDataURL(e),r.onload=function(e){n.src=e.srcElement.result,n.onload=function(){var r=e.srcElement.result;(new Image).src=r;var o=n.src.split(";"),l=o[0].split(":")[1],i=o[1].split(",")[1],s=H.b64toBlob(i,l);a.thumbnail["thumbnail_"+t]=s,Wt.addImage(t,s)}}}},{key:"onImages",value:function(e,t){var a={};a["img_"+t]=e,this.setState(a)}},{key:"goBack",value:function(){this.props.history.push("/xmusic/audios")}},{key:"addHashtag",value:function(e){if(e.length>0){var t=e[e.length-1];t=t.trim().replace(/\s\s+/g," ").split(" ").join("_"),e[e.length-1]=t.trim()}if(e.length>25)return!1;this.setState({hashtags:e})}},{key:"createDataForUploading",value:function(){var e=_()("#uploadAudioForm__songTitle").val(),t=_()("#uploadAudioForm__description").val();if(null===this.state.audio||void 0===this.state.audio)return $("err","Error. Must Upload a audio of MP3 format"),!1;if(null===e||void 0===e||""===e)return $("err","Error. Title must be between 10 to 60 characters."),!1;if(null===t||void 0===t||""===t)return $("err","Error. Description cannot be empty."),!1;if((e=e.trim().replace(/\s\s+/g," ")).length<10&&e.length<61)return $("err","Error. Title must be between 10 to 30 characters."),!1;var a={songTitle:e,description:t,keywords:this.state.hashtags,audio:this.state.audio};console.log(a);var n=Wt.getNonNullImages();for(var r in n){a[n[r].name]=n[r].image,delete n[r].image,a[n[r].name+"_data"]=n[r]}return a}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid margin-top-5",id:"uploadAudioForm"},r.a.createElement("h3",null,"Upload Your Audio"),r.a.createElement(B.a,{className:"margin-top-15 margin-bottom-50",name:"uploadAudioForm",id:"uploadAudioForm"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-5"},r.a.createElement(qt,{width:"100",height:"20",id:"uploadAudioForm__audio",name:"uploadAudioForm__audio",callBack:function(t){return e.getAudio(t)},maxFileSize:20971520,errCallBack:function(t){return e.errorAudioUploading(t)}}),r.a.createElement(B.a.Group,{controlId:"uploadAudioForm__songTitle",className:"margin-top-10"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Choose the most suitable title for your audio.")},r.a.createElement(B.a.Label,{className:"text-x-default cursor-pointer"},"Title")),r.a.createElement(B.a.Control,{type:"text",placeholder:"Audio Title",name:"songTitle",maxLength:"60"}),r.a.createElement(B.a.Text,{className:"text-muted"},"Maximun 60 characters")),r.a.createElement(B.a.Group,{controlId:"uploadAudioForm__description"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Please provide a brief description about your audio.")},r.a.createElement(B.a.Label,{className:"text-x-default"},"Description")),r.a.createElement(B.a.Control,{name:"description",as:"textarea",rows:"3"})),r.a.createElement(B.a.Group,{controlId:"uploadAudioForm__hashtags"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Choose perfect SEO Keywords for your song. This helps Xwards in pushing your song to the most relevant user.")},r.a.createElement(B.a.Label,{className:"text-x-default"},"SEO Keywords (don't use #) - Use 'Tab' to seperate")),r.a.createElement(Je.a,{name:"seoKeywords",value:this.state.hashtags,onChange:function(t){return e.addHashtag(t)}}))),r.a.createElement("div",{className:"col col-7"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-12"},r.a.createElement(mt,{id:"thumbnail",name:"thumbnail",width:"504px",height:"282px",class:"imp-margin-bottom-15",title:"Thumbnail Image",subtitle:"Width X Height (504px X 282px)",maxFileSize:4194304,errCallBack:function(t){return e.maxFileSize(t)},callBack:function(t){return e.addImages(t,"thumbnail")},onImage:function(t){return e.onImages(t,"thumbnail")},imageSrc:this.state.img_thumbnail})),r.a.createElement("div",{className:"col col-6"},r.a.createElement(mt,{id:"big",name:"big",width:"315px",height:"250px",title:"Big Cover Image",subtitle:"Width X Height (426px X 420px)",class:"imp-margin-bottom-15 imp-margin-right-5",maxFileSize:4194304,errCallBack:function(t){return e.maxFileSize(t)},callBack:function(t){return e.addImages(t,"big")},onImage:function(t){return e.onImages(t,"big")},imageSrc:this.state.img_big})),r.a.createElement("div",{className:"col col-6"},r.a.createElement(mt,{id:"mid",name:"mid",width:"315px",height:"250px",class:"imp-margin-bottom-15 imp-margin-right-5",title:"Mid Size Cover Image",subtitle:"Width X Height (426px X 315px)",maxFileSize:4194304,errCallBack:function(t){return e.maxFileSize(t)},callBack:function(t){return e.addImages(t,"mid")},onImage:function(t){return e.onImages(t,"mid")},imageSrc:this.state.img_mid})))),r.a.createElement(G.a,{variant:"outline-x-love",className:"margin-right-10 margin-top-20",id:"uploadAudioForm__btnGoBack",onClick:function(){return e.goBack()}},r.a.createElement("i",{className:"fas fa-chevron-left margin-right-10"})," Back"),r.a.createElement(G.a,{variant:"x-dark-default",className:"margin-left-5 margin-top-20",id:"uploadAudioForm__btnUploadAudio",onClick:function(t){return e.uploadAudio(t)}},r.a.createElement("i",{className:"fas fa-cloud-upload-alt margin-right-10"}),"Upload Audio")))))}}]),t}(n.Component),Kt=[{name:"wide",width:852,height:210,image:null},{name:"small",width:426,height:210,image:null},{name:"mid",width:426,height:315,image:null}],Zt={getImageSizes:function(){return Kt},getNonNullImages:function(){return Kt.filter(function(e){return null!=e.image})},saveContentData:function(e){localStorage.setItem("contentData",JSON.stringify(e))},getContentData:function(){return JSON.parse(localStorage.getItem("contentData"))},removeContentData:function(){localStorage.removeItem("contentData")}},Qt=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"gotoCreateContent",value:function(e){e.preventDefault(),Zt.removeContentData(),window.location.replace(x[x.env].url+"/content-marketing/create")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row margin-top-5"},r.a.createElement("div",{className:"col col-12"},r.a.createElement(G.a,{onClick:function(t){return e.gotoCreateContent(t)},className:"btn btn-x-love"},r.a.createElement("i",{className:"fas fa-plus margin-right-10"})," Create Content"),this.props.toShow.map(function(e){return r.a.createElement("a",{key:e.name,className:"btn btn-link margin-left-20",href:e.route},e.label)})))}}]),t}(n.Component),$t=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={contentDetails:[],totalItemsCount:"",activePage:1},Zt.removeContentData(),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){P.get(M.GET_CONTENTS()+"?page="+this.state.activePage,function(e){console.log(e),this.setState({contentDetails:e.contents,totalItemsCount:e.count})}.bind(this),function(e){$("err","Some error happened while fetching details")})}},{key:"handlePageChange",value:function(e){this.setState({activePage:e}),P.get(M.GET_CONTENTS()+"?page="+e,function(e){this.setState({contentDetails:e.contents,totalItemsCount:e.count})}.bind(this),function(e){$("err","Some error happened while fetching details")})}},{key:"getPreview",value:function(e){P.get(M.GET_CONTENT(e),function(e){console.log(e.contents[0]),Zt.saveContentData(e.contents[0]),window.location.replace(x[x.env].url+"/content-marketing/preview")},function(e){$("err","Some Error! Please Try Again...")})}},{key:"changeContentStatus",value:function(e,t){var a={status:e.target.checked};P.put(M.CHANGE_CONTENT_STATUS(t),a,function(e){window.location.reload()},function(e){console.log(e),$("err","Some Error! You cannot live this content")})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid margin-bottom-50",id:"contents"},r.a.createElement(Qt,{toShow:[{label:"In Review",name:"review",route:"/content-marketing/in-review"},{label:"Show Drafts",name:"draft",route:"/content-marketing/drafts"}]}),0!=this.state.contentDetails.length&&r.a.createElement("div",{className:"row margin-top-20"},r.a.createElement("div",{className:"col col-12"},r.a.createElement("h4",{className:"margin-bottom-20"},"Summary of Live Contents"),r.a.createElement(ae.a,{striped:!0,bordered:!0,hover:!0,id:"campaign-summary"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"Type"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Approved On"),r.a.createElement("th",null,"Impressions"),r.a.createElement("th",null,"Viewing Time"))),r.a.createElement("tbody",null,this.state.contentDetails.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Pause or Resume your Content from live")},r.a.createElement("label",{className:"switch margin-top-5"},r.a.createElement("input",{type:"checkbox",checked:!0===t.liveStatus,onChange:function(a){return e.changeContentStatus(a,t.id)}}),r.a.createElement("span",{className:"slider round"})))),r.a.createElement("td",null,t.contentType),r.a.createElement("td",null,r.a.createElement("a",{className:"text-x-default cursor-pointer margin-left-15",onClick:function(){return e.getPreview(t.id)}},t.contentTitle)),!0===t.liveStatus&&r.a.createElement("td",null,"Running"),!1===t.liveStatus&&r.a.createElement("td",null,"Paused"),r.a.createElement("td",null,H.toDateFormat(t.createdAt)),r.a.createElement("td",null,t.impressions),r.a.createElement("td",null,t.totalViewingTime))})))),r.a.createElement("div",{className:"col col-12 margin-top-30"},r.a.createElement(se.a,{activePage:this.state.activePage,itemsCountPerPage:10,totalItemsCount:this.state.totalItemsCount,pageRangeDisplayed:5,itemClass:"page-item",linkClass:"page-link",onChange:function(t){return e.handlePageChange(t)}}))),0==this.state.contentDetails.length&&r.a.createElement(ne.a,{className:"text-center margin-top-20"},r.a.createElement(ne.a.Body,null,r.a.createElement("h5",{className:"text-secondary"},"No content created. Create a content"))))}}]),t}(n.Component),ea=function(e){function t(e){var a;return Object(i.a)(this,t),a=Object(c.a)(this,Object(m.a)(t).call(this,e)),z("/content-marketing"),a.state={formData:{id:null!=Zt.getContentData()?Zt.getContentData().id:null,editorState:Nt.EditorState.createEmpty(),contentTitle:null!=Zt.getContentData()?Zt.getContentData().contentTitle:_()("#createContentForm__contentTitle").val(),contentType:null!=Zt.getContentData()?Zt.getContentData().contentType:"",expiryDate:null!=Zt.getContentData()?H.toDateFormatForInput(Zt.getContentData().expiryDate):"",hashtags:null!=Zt.getContentData()?Zt.getContentData().keywords:[]}},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){if(null!=Zt.getContentData()){var e=Ft()(Zt.getContentData().contentHtml),t=e.contentBlocks,a=e.entityMap,n=Nt.ContentState.createFromBlockArray(t,a),r=Nt.EditorState.createWithContent(n);this.setState({formData:{id:this.state.formData.id,contentTitle:this.state.formData.contentTitle,contentType:this.state.formData.contentType,expiryDate:this.state.formData.expiryDate,hashtags:this.state.formData.hashtags,editorState:r}})}else this.setState({formData:{id:this.state.formData.id,contentTitle:this.state.formData.contentTitle,contentType:this.state.formData.contentType,expiryDate:this.state.formData.expiryDate,hashtags:this.state.formData.hashtags,editorState:Nt.EditorState.createEmpty()}})}},{key:"componentWillMount",value:function(){this.unlisten=this.props.history.listen(function(e,t){"/content-marketing/create"!==e.pathname&&"/content-marketing/create/images"!==e.pathname&&Zt.removeContentData()})}},{key:"onWriting",value:function(e){this.setState({formData:{id:this.state.formData.id,editorState:e,contentTitle:this.state.formData.contentTitle,contentType:this.state.formData.contentType,expiryDate:this.state.formData.expiryDate,hashtags:this.state.formData.hashtags}})}},{key:"addHashtag",value:function(e){if(e.length>0){var t=e[e.length-1];t=t.trim().replace(/\s\s+/g," ").split(" ").join("_"),e[e.length-1]=t.trim()}if(e.length>25)return!1;this.setState({formData:{id:this.state.formData.id,editorState:this.state.formData.editorState,contentTitle:this.state.formData.contentTitle,contentType:this.state.formData.contentType,expiryDate:this.state.formData.expiryDate,hashtags:e}})}},{key:"contentTitleChange",value:function(){this.setState({formData:{id:this.state.formData.id,editorState:this.state.formData.editorState,contentTitle:_()("#createContentForm__contentTitle").val(),contentType:this.state.formData.contentType,expiryDate:this.state.formData.expiryDate,hashtags:this.state.formData.hashtags}})}},{key:"contentTypeChange",value:function(){this.setState({formData:{id:this.state.formData.id,editorState:this.state.formData.editorState,contentTitle:this.state.formData.contentTitle,contentType:_()("#createContentForm__contentType").val(),expiryDate:this.state.formData.expiryDate,hashtags:this.state.formData.hashtags}})}},{key:"expiryDateChange",value:function(){this.setState({formData:{id:this.state.formData.id,editorState:this.state.formData.editorState,contentTitle:this.state.formData.contentTitle,contentType:this.state.contentType,expiryDate:_()("#createContentForm__expiryDate").val(),hashtags:this.state.formData.hashtags}})}},{key:"createDataForDraft",value:function(){var e=H.getFormData(_()("form#createContentForm").serializeArray()),t=this.state.formData.editorState,a=wt()(Object(Nt.convertToRaw)(t.getCurrentContent()));return e.keywords=this.state.formData.hashtags,e.contentHtml=a,e.expiryDate=H.dateToEpoch(e.expiryDate),e}},{key:"uploadImages",value:function(e){if(e.preventDefault(),null===this.state.formData.contentTitle||void 0===this.state.formData.contentTitle)return $("err","Error. Title must be between 10 to 60 characters."),!1;var t=this.state.formData.contentTitle.trim().replace(/\s\s+/g," ");return t.length<10&&t.length<61?($("err","Error. Title must be between 10 to 60 characters."),!1):this.state.formData.hashtags.length<4?($("err","Error. You must have atleast 4 keywords."),!1):""===this.state.formData.expiryDate||void 0===this.state.formData.expiryDate||"NaN"===this.state.formData.expiryDate?($("err","Error. You must select a future date"),!1):void this.saveAsDraft(!0,function(){this.props.history.push("/content-marketing/create/images")}.bind(this))}},{key:"saveAsDraft",value:function(e,t){var a=this.createDataForDraft(),n=null,r=null;null!==Zt.getContentData()&&"id"in Zt.getContentData()?(r="put",n=M.SAVE_CONTENT_AS_DRAFT(Zt.getContentData().id)):(r="post",n=M.SAVE_CONTENT_AS_DRAFT()),P[r](n,a,function(a){var n=JSON.parse(a.data);n.id=a.id,Zt.saveContentData(n),e&&t(),$("success","Saved your changes")},function(e){$("err","Some Error! Please Try Again...")},{onComplete:function(){_()("button#createContentForm__btnDraftAddContent").removeAttr("disabled"),_()("button#createContentForm__btnDraftAddContent").html("Save As Draft"),_()("button#createContentForm__btnDraftAddContent").prepend("<i class='fas fa-plus margin-right-10'></i>")},beforeSend:function(){_()("button#createContentForm__btnDraftAddContent").html("Saving Draft..."),_()("button#createContentForm__btnDraftAddContent").prepend("<span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true'></span>"),_()("button#createContentForm__btnDraftAddContent").attr("disabled","disabled")}})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid margin-top-5",id:"createContentForm"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-12 margin-bottom-10"},r.a.createElement("h3",null,"Content Marketing - Create Content")),r.a.createElement("div",{className:"col col-12 margin-bottom-50"},r.a.createElement(B.a,{name:"createContentForm",id:"createContentForm"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-8"},r.a.createElement(B.a.Group,{controlId:"createContentForm__contentTitle"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Choose the most suitable click-baiting title for your content.")},r.a.createElement(B.a.Label,{className:"text-x-default cursor-pointer"},"Title")),r.a.createElement(B.a.Control,{type:"text",placeholder:"Content Title",name:"contentTitle",value:this.state.formData.contentTitle||"",maxLength:"60",onChange:function(){return e.contentTitleChange()}}),r.a.createElement(B.a.Text,{className:"text-muted"},"Maximun 60 characters"))),r.a.createElement("div",{className:"col col-4"},r.a.createElement(B.a.Group,{controlId:"createContentForm__contentType"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"What type of content is it?")},r.a.createElement(B.a.Label,{className:"text-x-default cursor-pointer"},"Content Type")),r.a.createElement(B.a.Control,{as:"select",name:"contentType",value:this.state.formData.contentType,onChange:function(){return e.contentTypeChange()}},r.a.createElement("option",null,"News"),r.a.createElement("option",null,"Article"),r.a.createElement("option",null,"Extras")))),r.a.createElement("div",{className:"col col-12"},r.a.createElement(B.a.Group,{controlId:"createContentForm__editorpane"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Design and write your content here. Good reads are always less than 100 words.")},r.a.createElement(B.a.Label,{className:"text-x-default cursor-pointer"},"Content Writing Place")),r.a.createElement(_t.Editor,{editorState:this.state.formData.editorState,toolbarClassName:"x-toolbar",wrapperClassName:"editor-wrapper",editorClassName:"editing-preview-area",onEditorStateChange:function(t){return e.onWriting(t)},editorStyle:{minHeight:"300px"},value:this.state.editorState}))),r.a.createElement("div",{className:"col col-8"},r.a.createElement(B.a.Group,{controlId:"createContentForm__keywords"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Choose perfect SEO Keywords for your content. This helps Xwards in pushing your content to the most relevant reader.")},r.a.createElement(B.a.Label,{className:"text-x-default cursor-pointer"},"SEO Keywords (don't use #) - Use 'Tab' to seperate")),r.a.createElement(Je.a,{name:"keywords",value:this.state.formData.hashtags,onChange:function(t){return e.addHashtag(t)}}))),r.a.createElement("div",{className:"col col-4"},r.a.createElement(B.a.Group,{controlId:"createContentForm__expiryDate"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"The content will be removed from the system after this date.")},r.a.createElement(B.a.Label,{className:"text-x-default cursor-pointer"},"Expiry Date")),r.a.createElement(B.a.Control,{type:"date",placeholder:"Expiry Date",name:"expiryDate",max:H.addDays(H.curday(),820),min:H.curday(),value:this.state.formData.expiryDate,onChange:function(){return e.expiryDateChange()}})))),r.a.createElement(h.a,{message:"Are you sure you want to leave this page?"}),r.a.createElement(G.a,{variant:"outline-x-love",className:"margin-right-20",id:"createContentForm__btnDraftAddContent",onClick:function(){return e.saveAsDraft()}},r.a.createElement("i",{className:"far fa-clipboard margin-right-10"}),"Save As Draft"),r.a.createElement(G.a,{variant:"x-dark-default",id:"createContentForm__btnAddContent",onClick:function(t){return e.uploadImages(t)}},"Continue to Upload Images ",r.a.createElement("i",{className:"fas fa-chevron-right margin-left-5"})))))))}}]),t}(n.Component),ta=(a(640),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={imageSrc:null,gradiantPopup:!1,layoverColor:"x-transparent",defaultFontSize:null},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=_()("#"+this.props.id+"_titleHolder h2").css("font-size");_()("#"+this.props.id).css("opacity","0.7"),this.setState({defaultFontSize:e})}},{key:"openGradiantPanel",value:function(e){e.preventDefault(),this.setState({gradiantPopup:!0})}},{key:"hideModal",value:function(){this.setState({gradiantPopup:!1})}},{key:"changeOpacity",value:function(e){var t=.01*e.target.value;_()("#"+this.props.id).css("opacity",t)}},{key:"changeHeight",value:function(e){var t=this.props.height;t=(t=parseInt(t.replace("px","")))*e.target.value*.01,_()("#"+this.props.id).css("height",t+"px"),_()("#"+this.props.id+"_titleHolder").css("height",t+"px")}},{key:"changeWidth",value:function(e){var t=this.props.width;t=(t=parseInt(t.replace("px","")))*e.target.value*.01,_()("#"+this.props.id).css("width",t+"px"),_()("#"+this.props.id+"_titleHolder").css("width",t+"px")}},{key:"backgroundShiftTop",value:function(e){e.preventDefault(),_()("#"+this.props.id).css("bottom","auto").css("top","0px"),_()("#"+this.props.id+"_titleHolder").css("bottom","auto").css("top","0px")}},{key:"backgroundShiftBottom",value:function(e){e.preventDefault(),_()("#"+this.props.id).css("top","auto").css("bottom","0px"),_()("#"+this.props.id+"_titleHolder").css("top","auto").css("bottom","0px")}},{key:"backgroundShiftLeft",value:function(e){e.preventDefault(),_()("#"+this.props.id).css("right","auto").css("left","0px"),_()("#"+this.props.id+"_titleHolder").css("right","auto").css("left","0px")}},{key:"backgroundShiftRight",value:function(e){e.preventDefault(),_()("#"+this.props.id).css("left","auto").css("right","0px"),_()("#"+this.props.id+"_titleHolder").css("left","auto").css("right","0px")}},{key:"showHideTitle",value:function(e){e.preventDefault(),"block"===_()("#"+this.props.id+"_titleHolder").css("left","auto").css("display")?(_()("#"+this.props.id+"_titleHolder").css("display","none"),_()("#"+this.props.id+"_titleHolder_eye").removeClass("fa-eye").addClass("fa-eye-slash")):(_()("#"+this.props.id+"_titleHolder").css("display","block"),_()("#"+this.props.id+"_titleHolder_eye").removeClass("fa-eye-slash").addClass("fa-eye"))}},{key:"changeFontSize",value:function(e){e.preventDefault();var t=this.state.defaultFontSize;t=(t=parseInt(t.replace("px","")))*e.target.value*.01,_()("#"+this.props.id+"_titleHolder h2").css("font-size",t)}},{key:"alignText",value:function(e,t){e.preventDefault(),_()("#"+this.props.id+"_titleHolder h2").css("text-align",t)}},{key:"changeFontColor",value:function(e){e.preventDefault(),_()("#"+this.props.id+"_titleHolder h2").css("color",e.target.value)}},{key:"chooseColor",value:function(e){this.setState({gradiantPopup:!1,layoverColor:e})}},{key:"removeColor",value:function(e){e.preventDefault(),this.setState({gradiantPopup:!1,layoverColor:""})}},{key:"onImageLoad",value:function(e){this.setState({imageSrc:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"position-relative",style:{height:this.props.height,width:this.props.width,margin:"0px auto",marginTop:"20px",marginBottom:"20px"}},r.a.createElement("div",{id:this.props.id+"_imageContent"},r.a.createElement(mt,{width:this.props.width,height:this.props.height,title:this.props.title,subtitle:this.props.subtitle,imageSrc:this.state.imageSrc,onImage:function(t){return e.onImageLoad(t)}}),r.a.createElement("div",{id:this.props.id,className:"titleLayover "+this.state.layoverColor,style:{height:this.props.height,width:this.props.width,bottom:"0px"}}),r.a.createElement("div",{id:this.props.id+"_titleHolder",className:"titleLayover padding-15",style:{height:this.props.height,width:this.props.width,bottom:"0px"}},r.a.createElement("h2",{className:""},this.props.imgTitle)))),r.a.createElement("div",{className:"row",style:{width:this.props.width,margin:"0px auto"}},r.a.createElement("div",{className:"col col-12"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Change font size")},r.a.createElement(B.a.Control,{as:"select",value:1,className:"margin-right-20",style:{width:"auto",display:"inline"},onChange:function(t){return e.changeFontSize(t)}},r.a.createElement("option",{disabled:!0,value:1},"Font Size"),r.a.createElement("option",{value:"170"},"Extra Large"),r.a.createElement("option",{value:"120"},"Large"),r.a.createElement("option",{value:"100"},"Normal"),r.a.createElement("option",{value:"80"},"Small"),r.a.createElement("option",{value:"50"},"Extra Small"))),r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Change font color")},r.a.createElement(B.a.Control,{as:"select",value:1,className:"margin-right-20",style:{width:"auto",display:"inline"},onChange:function(t){return e.changeFontColor(t)}},r.a.createElement("option",{disabled:!0,value:1},"Font Color"),r.a.createElement("option",{value:"white"},"White"),r.a.createElement("option",{value:"black"},"Black"),r.a.createElement("option",{value:"grey"},"Grey"))),r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Show/Hide Title")},r.a.createElement("button",{className:"btn btn-outline-x-default margin-right-20",onClick:function(t){return e.showHideTitle(t)}},r.a.createElement("i",{className:"fas fa-eye",id:this.props.id+"_titleHolder_eye"}))),r.a.createElement("div",{className:"display-inline-block margin-top-20"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Align text to left")},r.a.createElement("button",{className:"btn btn-outline-x-default margin-right-20",onClick:function(t){return e.alignText(t,"left")}},r.a.createElement("i",{className:"fas fa-align-left"}))),r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Align text to right")},r.a.createElement("button",{className:"btn btn-outline-x-default margin-right-20",onClick:function(t){return e.alignText(t,"right")}},r.a.createElement("i",{className:"fas fa-align-right"})))),r.a.createElement("div",{className:"display-inline-block margin-top-20"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Add gradiant color to background")},r.a.createElement("button",{className:"btn btn-outline-x-default margin-right-20",onClick:function(t){return e.openGradiantPanel(t)}},r.a.createElement("i",{className:"fas fa-palette"}))),r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Move background to top")},r.a.createElement("button",{className:"btn btn-outline-x-default",onClick:function(t){return e.backgroundShiftTop(t)}},r.a.createElement("i",{className:"fas fa-level-up-alt"}))),r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Move background to bottom")},r.a.createElement("button",{className:"btn btn-outline-x-default margin-left-20",onClick:function(t){return e.backgroundShiftBottom(t)}},r.a.createElement("i",{className:"fas fa-level-down-alt"}))),r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Move background to left")},r.a.createElement("button",{className:"btn btn-outline-x-default margin-left-20",onClick:function(t){return e.backgroundShiftLeft(t)}},r.a.createElement("i",{className:"fas fa-level-down-alt",style:{transform:"rotate(90deg)"}}))),r.a.createElement(oe.a,{placement:"left",overlay:r.a.createElement(le.a,null,"Move background to right")},r.a.createElement("button",{className:"btn btn-outline-x-default margin-left-20",onClick:function(t){return e.backgroundShiftRight(t)}},r.a.createElement("i",{className:"fas fa-level-up-alt",style:{transform:"rotate(90deg)"}}))))),r.a.createElement("div",{className:"col col-6"},r.a.createElement(B.a.Group,{controlId:"createContentForm__backgroundOpacity",className:"margin-top-10"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Control the background layover opacity for the image")},r.a.createElement(B.a.Label,{className:"text-x-default cursor-pointer"},"Background Opacity")),r.a.createElement(B.a.Control,{type:"range",name:"backgroundOpacity",min:"0",max:"100",defaultValue:"70",onChange:function(t){return e.changeOpacity(t)}}))),r.a.createElement("div",{className:"col col-3"},r.a.createElement(B.a.Group,{controlId:"createContentForm__backgroundHeight",className:"margin-top-10"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Control the background layover height.")},r.a.createElement(B.a.Label,{className:"text-x-default cursor-pointer"},"Height")),r.a.createElement(B.a.Control,{type:"range",name:"backgroundHeight",step:"5",min:"0",max:"100",defaultValue:"100",onChange:function(t){return e.changeHeight(t)}}))),r.a.createElement("div",{className:"col col-3"},r.a.createElement(B.a.Group,{controlId:"createContentForm__backgroundWidth",className:"margin-top-10"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Control the background layover width.")},r.a.createElement(B.a.Label,{className:"text-x-default cursor-pointer"},"Width")),r.a.createElement(B.a.Control,{type:"range",name:"backgroundWidth",step:"5",min:"0",max:"100",defaultValue:"100",onChange:function(t){return e.changeWidth(t)}})))),r.a.createElement(j.a,{show:this.state.gradiantPopup,id:"gradiantPopupWindow",centered:!0,onHide:function(){return e.hideModal()}},r.a.createElement(R.a,{closeButton:!0},r.a.createElement("h4",{className:"montserrat-light"},"Select a Background")),r.a.createElement(j.a.Body,{className:"center-align"},r.a.createElement("div",{className:"x-gradiant vertical-purple-blue color-pallet",onClick:function(){return e.chooseColor("x-gradiant vertical-purple-blue")}}),r.a.createElement("div",{className:"x-gradiant horizontal-purple-blue color-pallet",onClick:function(){return e.chooseColor("x-gradiant horizontal-purple-blue")}}),r.a.createElement("div",{className:"x-gradiant vertical-purple-orange color-pallet",onClick:function(){return e.chooseColor("x-gradiant vertical-purple-orange")}}),r.a.createElement("div",{className:"x-gradiant horizontal-purple-orange color-pallet",onClick:function(){return e.chooseColor("x-gradiant horizontal-purple-orange")}}),r.a.createElement("div",{className:"x-gradiant vertical-multicolor color-pallet margin-bottom-10",onClick:function(){return e.chooseColor("x-gradiant vertical-multicolor")}}),r.a.createElement("div",{className:"x-gradiant horizontal-multicolor color-pallet margin-bottom-10",onClick:function(){return e.chooseColor("x-gradiant horizontal-multicolor")}}),r.a.createElement("div",{className:"right-align"},r.a.createElement("button",{className:"btn btn-link",onClick:function(t){return e.removeColor(t)}},"Remove Background")))))}}]),t}(n.Component)),aa=a(383),na=a.n(aa),ra=function(e){function t(e){var a;Object(i.a)(this,t),a=Object(c.a)(this,Object(m.a)(t).call(this,e)),z("/content-marketing");var n=Zt.getContentData();return a.state={success:!1,imgTitle:null!=localStorage.getItem("contentData")?n.contentTitle:""},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("contentData"))||this.props.history.push("/content-marketing/create")}},{key:"componentWillMount",value:function(){this.state.success||(this.unlisten=this.props.history.listen(function(e,t){"/content-marketing/create"!==e.pathname&&"/content-marketing/create/images"!==e.pathname&&Zt.removeContentData()}))}},{key:"titleChange",value:function(){this.setState({imgTitle:_()("#createContentForm__contentTitle").val()})}},{key:"goBack",value:function(){this.props.history.push("/content-marketing/create")}},{key:"getImage",value:function(e){var t=document.getElementById(e+"_imageContent");return new Promise(function(e,a){na.a.toPng(t).then(function(t){var a=new Image;a.src=t;var n=a.src.split(";"),r=n[0].split(":")[1],o=n[1].split(",")[1],l=H.b64toBlob(o,r);e(l)}).catch(function(e){a(e)})})}},{key:"prepareImages",value:function(e){var t=Zt.getImageSizes(),a=0;t.forEach(function(n){this.getImage(n.name).then(function(r){a++,n.image=r,a>=t.length&&e()}).catch(function(n){++a>=t.length&&e()})}.bind(this))}},{key:"saveContent",value:function(e){H.showLoader(),e.preventDefault(),this.prepareImages(function(){var e=this,t={contentHtml:Zt.getContentData().contentHtml,contentTitle:Zt.getContentData().contentTitle,contentType:Zt.getContentData().contentType,expiryDate:Zt.getContentData().expiryDate,id:Zt.getContentData().id,keywords:Zt.getContentData().keywords},a=Zt.getNonNullImages();for(var n in a){t[a[n].name]=a[n].image,delete a[n].image,t[a[n].name+"_data"]=a[n]}var r=new FormData;for(var o in t)"object"==typeof t[o]&&o.includes("_data")?r.append(o,JSON.stringify(t[o])):r.append(o,t[o]);var l=Zt.getContentData().id;P.postImageData(M.SAVE_FINAL_CONTENT(l),r,function(t){Zt.removeContentData(),e.setState({success:!0}),window.location.replace(x[x.env].url+"/content-marketing"),$("success","Successfully Created")}.bind(e),function(e){$("err","Some error while saving data")},{onComplete:function(){_()("button#createContentForm__btnAddContent").removeAttr("disabled"),_()("button#createContentForm__btnAddContent").html('<i class="fas fa-plus margin-right-10"></i>Save')},beforeSend:function(){_()("button#createContentForm__btnAddContent").html("Saving your images... it might take time."),_()("button#createContentForm__btnAddContent").prepend("<span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true'></span>"),_()("button#createContentForm__btnAddContent").attr("disabled","disabled")}})}.bind(this))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{message:"Are you sure you want to leave this page?"}),r.a.createElement("div",{className:"container-fluid margin-top-5",id:"createContentForm"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-12 margin-bottom-10"},r.a.createElement("h3",null,"Add Cover Images"),r.a.createElement("h6",{className:"max-width-70"},"You can add images of different sizes for your content. Adding images of different dimensions boosts your contents and thus gets more visibility and impressions.")),r.a.createElement("div",{className:"col col-12 margin-bottom-50"},r.a.createElement(B.a,{name:"createContentForm",id:"createContentForm"},r.a.createElement("div",{className:"row margin-bottom-30"},r.a.createElement("div",{className:"col col-12"},r.a.createElement(B.a.Group,{controlId:"createContentForm__contentTitle"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Choose the most suitable click-baiting title for your content.")},r.a.createElement(B.a.Label,{className:"text-x-default cursor-pointer"},"Title")),r.a.createElement(B.a.Control,{type:"text",placeholder:"Content Title",name:"contentTitle",maxLength:"60",value:this.state.imgTitle,onChange:function(){return e.titleChange()}}),r.a.createElement(B.a.Text,{className:"text-muted"},"Maximun 60 characters"))),r.a.createElement("div",{className:"col col-12"},r.a.createElement(B.a.Group,{controlId:"createContentForm__contentLabel"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Upload different size images. These images will be placed on the digital screen based on the availability of space on the screen.")},r.a.createElement(B.a.Label,{className:"text-x-default cursor-pointer"},"Upload Images of Different Sizes")))),r.a.createElement("div",{className:"col col-12"},r.a.createElement(ta,{id:"wide",width:"852px",height:"210px",title:"Wide Panel Cover Image",subtitle:"Width X Height (852px X 210px)",imgTitle:this.state.imgTitle})),r.a.createElement("div",{className:"col col-6"},r.a.createElement(ta,{id:"small",width:"426px",height:"210px",title:"Small Cover Image",subtitle:"Width X Height (426px X 210px)",imgTitle:this.state.imgTitle})),r.a.createElement("div",{className:"col col-6"},r.a.createElement(ta,{id:"mid",width:"426px",height:"315px",title:"Mid Size Cover Image",subtitle:"Width X Height (426px X 315px)",imgTitle:this.state.imgTitle}))),r.a.createElement(G.a,{variant:"outline-x-dark-default",className:"margin-right-20",id:"createContentForm__btnGoBack",onClick:function(){return e.goBack()}},r.a.createElement("i",{className:"fas fa-chevron-left margin-right-10"})," Back"),r.a.createElement(G.a,{variant:"x-dark-default",id:"createContentForm__btnAddContent",onClick:function(t){return e.saveContent(t)}},r.a.createElement("i",{className:"fas fa-plus margin-right-10"}),"Save"))))))}}]),t}(n.Component),oa=function(e){function t(e){var a;return Object(i.a)(this,t),a=Object(c.a)(this,Object(m.a)(t).call(this,e)),z("/content-marketing"),Zt.removeContentData(),a.state={draftDetails:[],totalItemsCount:"",activePage:1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){P.get(M.GET_DRAFT_CONTENTS()+"?page="+this.state.activePage,function(e){console.log(e),this.setState({draftDetails:e.drafts,totalItemsCount:e.count})}.bind(this),function(e){$("err","Some Error! Unable to fetch drafts")})}},{key:"handlePageChange",value:function(e){this.setState({activePage:e}),P.get(M.GET_DRAFT_CONTENTS()+"?page="+e,function(e){this.setState({draftDetails:e.drafts,totalItemsCount:e.count})}.bind(this),function(e){$("err","Some error happened while fetching details")})}},{key:"getDraftPreview",value:function(e){console.log(e),P.get(M.GET_DRAFT_BY_ID(e),function(e){var t=JSON.parse(e.data);t.id=e.id,Zt.saveContentData(t),window.location.replace(x[x.env].url+"/content-marketing/create")},function(e){$("err","Some Error! Please Try Again...")})}},{key:"deleteDraft",value:function(e){window.confirm("Do you really want to discard the draft?")&&P.delete(M.DELETE_DRAFT_CONTENT(e),function(e){$("success","Draft is successfully deleted."),window.location.reload()},function(e){$("err","Some Error! Please try again")})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid margin-bottom-50",id:"contents"},r.a.createElement("div",{className:"row margin-top-5"},r.a.createElement("div",{className:"col col-12"},r.a.createElement(Qt,{toShow:[{label:"Live Contents",name:"live",route:"/content-marketing"},{label:"In Review",name:"review",route:"/content-marketing/in-review"}]}),0!=this.state.draftDetails.length&&r.a.createElement("div",{className:"row margin-top-20"},r.a.createElement("div",{className:"col col-12"},r.a.createElement("h4",{className:"margin-bottom-20"},"Summary of Draft Contents"),r.a.createElement(ae.a,{striped:!0,bordered:!0,hover:!0,id:"campaign-summary"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Content Type"),r.a.createElement("th",null,"Content Title"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Expiry Date"),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.state.draftDetails.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,r.a.createElement("div",{className:"text-x-default cursor-pointer",onClick:function(){return e.getDraftPreview(t.id)}},JSON.parse(t.data).contentTitle)),r.a.createElement("td",null,JSON.parse(t.data).contentType),r.a.createElement("td",null,"Saved as Draft"),r.a.createElement("td",null,H.toDateFormat(t.expiry_on)),r.a.createElement("td",null,r.a.createElement("div",{className:"btn btn-x-love cursor-pointer display-inline",onClick:function(){return e.deleteDraft(t.id)}},r.a.createElement("i",{className:"fas fa-trash-alt"}))))})))),r.a.createElement("div",{className:"col col-12 margin-top-30"},r.a.createElement(se.a,{activePage:this.state.activePage,itemsCountPerPage:10,totalItemsCount:this.state.totalItemsCount,pageRangeDisplayed:5,itemClass:"page-item",linkClass:"page-link",onChange:function(t){return e.handlePageChange(t)}}))),0==this.state.draftDetails.length&&r.a.createElement(ne.a,{className:"text-center margin-top-20"},r.a.createElement(ne.a.Body,null,r.a.createElement("h5",{className:"text-secondary"},"No drafts saved."))))))}}]),t}(n.Component),la=function(e){function t(e){var a;return Object(i.a)(this,t),a=Object(c.a)(this,Object(m.a)(t).call(this,e)),z("/content-marketing"),Zt.removeContentData(),a.state={draftDetails:[],totalItemsCount:"",activePage:1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){P.get(M.GET_INREVIEW_CONTENTS()+"?page="+this.state.activePage,function(e){console.log(e),this.setState({draftDetails:e.drafts,totalItemsCount:e.count})}.bind(this),function(e){$("err","Some Error! Unable to fetch drafts")})}},{key:"handlePageChange",value:function(e){this.setState({activePage:e}),P.get(M.GET_INREVIEW_CONTENTS()+"?page="+e,function(e){this.setState({draftDetails:e.drafts,totalItemsCount:e.count})}.bind(this),function(e){$("err","Some error happened while fetching details")})}},{key:"getContentPreview",value:function(e){P.get(M.GET_INREVIEW_BY_ID(e),function(e){console.log(e);var t=JSON.parse(e.data);t.id=e.id,t.neo_id=e.neo_id,Zt.saveContentData(t),window.location.replace(x[x.env].url+"/content-marketing/preview?back=review")},function(e){$("err","Some Error! Please Try Again...")})}},{key:"deleteContent",value:function(e){window.confirm("Do you really want to discard the draft?")&&P.delete(M.DELETE_INREVIEW_CONTENT(e),function(e){$("success","Draft is successfully deleted."),window.location.reload()},function(e){$("err","Some Error! Please try again")})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid margin-bottom-50",id:"contents"},r.a.createElement("div",{className:"row margin-top-5"},r.a.createElement("div",{className:"col col-12"},r.a.createElement(Qt,{toShow:[{label:"Live Contents",name:"live",route:"/content-marketing"},{label:"Draft Contents",name:"draft",route:"/content-marketing/drafts"}]}),0!=this.state.draftDetails.length&&r.a.createElement("div",{className:"row margin-top-20"},r.a.createElement("div",{className:"col col-12"},r.a.createElement("h4",{className:"margin-bottom-20"},"Summary of Contents in Review"),r.a.createElement(ae.a,{striped:!0,bordered:!0,hover:!0,id:"campaign-summary"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Content Type"),r.a.createElement("th",null,"Content Title"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Expiry Date"),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.state.draftDetails.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,JSON.parse(t.data).contentType),r.a.createElement("td",null,r.a.createElement("div",{className:"text-x-default cursor-pointer",onClick:function(){return e.getContentPreview(t.id)}},JSON.parse(t.data).contentTitle)),r.a.createElement("td",{className:"strong text-x-default"},"In Review"),r.a.createElement("td",null,H.toDateFormat(t.expiry_on)),r.a.createElement("td",null,r.a.createElement("div",{className:"btn btn-x-love cursor-pointer display-inline",onClick:function(){return e.deleteContent(t.id)}},r.a.createElement("i",{className:"fas fa-trash-alt"}))))})))),r.a.createElement("div",{className:"col col-12 margin-top-30"},r.a.createElement(se.a,{activePage:this.state.activePage,itemsCountPerPage:10,totalItemsCount:this.state.totalItemsCount,pageRangeDisplayed:5,itemClass:"page-item",linkClass:"page-link",onChange:function(t){return e.handlePageChange(t)}}))),0==this.state.draftDetails.length&&r.a.createElement(ne.a,{className:"text-center margin-top-20"},r.a.createElement(ne.a.Body,null,r.a.createElement("h5",{className:"text-secondary"},"No Final Contents Created."))))))}}]),t}(n.Component),ia=function(e){function t(e){var a;return Object(i.a)(this,t),a=Object(c.a)(this,Object(m.a)(t).call(this,e)),z("/content-marketing"),a.state={keywords:Zt.getContentData().keywords.split(","),page:H.getUrlParams().back},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"goBack",value:function(e){e.preventDefault(),Zt.removeContentData(),"review"===this.state.page&&window.location.replace(x[x.env].url+"/content-marketing/in-review"),window.location.replace(x[x.env].url+"/content-marketing")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid margin-bottom-50"},r.a.createElement("div",{className:"row margin-top-5"},r.a.createElement("div",{className:"col col-12"},r.a.createElement("button",{onClick:function(t){return e.goBack(t)},className:"btn btn-outline-x-love margin-right-10"},r.a.createElement("i",{className:"fas fa-chevron-left margin-right-10"}),"Back")),r.a.createElement("div",{className:"col col-12 margin-top-20"},r.a.createElement("h2",{className:"text-x-default"},Zt.getContentData().contentTitle)),r.a.createElement("div",{className:"col col-12 margin-top-20"},null!==Zt.getContentData().files&&Zt.getContentData().files.length>0&&Zt.getContentData().files.map(function(e){return r.a.createElement("img",{key:e.name,src:e.imgUrl,className:"margin-10",style:{width:e.width/2+"px",height:e.height/2+"px"}})}),null===Zt.getContentData().files&&r.a.createElement("h5",{className:"text-x-love"},"Images has been deleted for a rejected content.")),r.a.createElement("div",{className:"col col-12 margin-top-10"},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:"".concat(Zt.getContentData().contentHtml)}})),r.a.createElement("div",{className:"col col-8 margin-top-10 max-width-70"},this.state.keywords.map(function(e){return r.a.createElement("span",{key:e,className:"text-sm badge badge-pill badge-secondary margin-right-10 montserrat-light"},e)})),r.a.createElement("div",{className:"col col-4 margin-top-10"},r.a.createElement("div",{className:"text-x-default"},"Expiry Date of this content is: ",r.a.createElement("strong",null,H.toDateFormat(Zt.getContentData().expiryDate)))),r.a.createElement("div",{className:"col col-12 margin-top-20"},r.a.createElement("button",{onClick:function(t){return e.goBack(t)},className:"btn btn-outline-x-love margin-right-10"},r.a.createElement("i",{className:"fas fa-chevron-left margin-right-10"}),"Back"))))}}]),t}(n.Component),sa=function(e){e&&e.preventDefault(),this.setState({modalShow:!0})},ca=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).hideModalToCreateCollection=function(e){e&&e.preventDefault(),a.setState({modalShow:!1})},a.handleCollectionNameChange=function(e){a.setState({collectionName:e.target.value})},a.createCollection=function(e){e.preventDefault();var t=a.state.collectionName;if(null===t||void 0===t||""===t)return $("err","Error. Collection Name is Empty."),!1;var n={name:t};H.showLoader(),P.post(M.Create_Collection(a.state.selectedBrandId),n,function(e){$("success","Collection created successfully"),this.setState({modalShow:!1}),window.location.reload()}.bind(Object(p.a)(a)),function(e){console.log(e),$("err","Some error while saving data")},{timeout:1e7,onComplete:function(){_()("button#createNewCollectionForm__btnCreateCollection").removeAttr("disabled"),_()("button#createNewCollectionForm__btnCloseModal").removeAttr("disabled"),_()("button#createNewCollectionForm__btnCreateCollection").html("Create ")},beforeSend:function(){_()("button#createNewCollectionForm__btnCreateCollection").html("Creating your collection... it might take time."),_()("button#createNewCollectionForm__btnCreateCollection").prepend("<span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true'></span>"),_()("button#createNewCollectionForm__btnCreateCollection").attr("disabled","disabled"),_()("button#createNewCollectionForm__btnCloseModal").attr("disabled","disabled")}})},a.state={modalShow:!1,collectionName:"",selectedBrandId:E.getSelectedBrand().id},sa=sa.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-12"},r.a.createElement(j.a,{id:"createNewCollection",centered:!0,show:this.state.modalShow,onHide:function(){return e.hideModalToCreateCollection()}},r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement("h4",{className:"montserrat-light"},"Create a Collection")),r.a.createElement(j.a.Body,{className:"padding-top-0"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-12"},r.a.createElement(B.a,{className:"margin-top-10",name:"createNewCollectionForm",id:"createNewCollectionForm",onSubmit:function(t){return e.createCollection(t)}},r.a.createElement(B.a.Group,{controlId:"createNewCollectionForm__collectionName"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Provide the collection name. This name will be used")},r.a.createElement(B.a.Label,{className:"text-x-default"},"Name")),r.a.createElement(B.a.Control,{name:"collectionName",value:this.state.collectionName||"",type:"text",onChange:function(t){return e.handleCollectionNameChange(t)}})))),r.a.createElement("div",{className:"col col-12 margin-top-10 margin-bottom-10"},r.a.createElement(G.a,{variant:"x-dark-default",type:"submit",id:"createNewCollectionForm__btnCreateCollection",onClick:function(t){return e.createCollection(t)},className:"right margin-left-5"},"Create"),r.a.createElement(G.a,{variant:"outline-x-love",className:"right margin-right-5",id:"createNewCollectionForm__btnCloseModal",onClick:function(t){return e.hideModalToCreateCollection(t)}},"Close"))))))))}}]),t}(n.Component),ma=function(e,t){e&&e.preventDefault(),P.get(M.Get_Collection_By_Id(this.state.selectedBrandId,t),function(e){this.setState({modalShow:!0,collectionId:t,selectedBrandId:E.getSelectedBrand().id,collectionName:e.collection_name})}.bind(this),function(e){console.log(e),$("err","Some error occured while fetching your collections.")}),this.setState({modalShow:!0,collectionId:t})},da=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).hideModalToEditCollection=function(e){e&&e.preventDefault(),a.setState({modalShow:!1})},a.handleCollectionNameChange=function(e){a.setState({collectionName:e.target.value})},a.updateCollection=function(e){e.preventDefault();var t=a.state.collectionName;if(null===t||void 0===t||""===t)return $("err","Error. Collection Name is Empty."),!1;var n={name:t};H.showLoader(),P.put(M.Update_Collection(a.state.selectedBrandId,a.state.collectionId),n,function(e){$("success","Collection updated successfully"),this.setState({modalShow:!1}),window.location.reload()}.bind(Object(p.a)(a)),function(e){console.log(e),$("err","Some error while saving data")},{timeout:1e7,onComplete:function(){_()("button#updateCollectionForm__btnUpdateCollection").removeAttr("disabled"),_()("button#updateCollectionForm__btnCloseModal").removeAttr("disabled"),_()("button#updateCollectionForm__btnUpdateCollection").html('<i class="fas fa-cloud-upload-alt margin-right-10"></i> Update ')},beforeSend:function(){_()("button#updateCollectionForm__btnUpdateCollection").html("Updating your collection... it might take time."),_()("button#updateCollectionForm__btnUpdateCollection").prepend("<span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true'></span>"),_()("button#updateCollectionForm__btnUpdateCollection").attr("disabled","disabled"),_()("button#updateCollectionForm__btnCloseModal").attr("disabled","disabled")}})},a.state={modalShow:!1,collectionName:"",collectionId:null,selectedBrandId:E.getSelectedBrand().id},ma=ma.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-12"},r.a.createElement(j.a,{id:"updateCollection",centered:!0,show:this.state.modalShow,onHide:function(){return e.hideModalToEditCollection()}},r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement("h4",{className:"montserrat-light"},"Update a Collection")),r.a.createElement(j.a.Body,{className:"padding-top-0"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-12"},r.a.createElement(B.a,{className:"margin-top-10",name:"updateCollectionForm",id:"updateCollectionForm",onSubmit:function(t){return e.updateCollection(t)}},r.a.createElement(B.a.Group,{controlId:"updateCollectionForm__collectionName"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Provide the collection name. This name will be used")},r.a.createElement(B.a.Label,{className:"text-x-default"},"Name")),r.a.createElement(B.a.Control,{name:"collectionName",value:this.state.collectionName||"",type:"text",onChange:function(t){return e.handleCollectionNameChange(t)}})))),r.a.createElement("div",{className:"col col-12 margin-top-10 margin-bottom-10"},r.a.createElement(G.a,{variant:"x-dark-default",type:"submit",id:"updateCollectionForm__btnUpdateCollection",onClick:function(t){return e.updateCollection(t)},className:"right margin-left-5"},"Update"),r.a.createElement(G.a,{variant:"outline-x-love",className:"right margin-right-5",id:"updateCollectionForm__btnCloseModal",onClick:function(t){return e.hideModalToEditCollection(t)}},"Close"))))))))}}]),t}(n.Component),ua=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).deleteCollection=function(e,t){if(e.preventDefault(),"DELETE"!==window.prompt("Type 'DELETE' to delete this collection."))return $("err",'ERR. Please type "DELETE"...'),!1;P.delete(M.Delete_Collection(a.state.brandId,t),function(e){console.log(e),window.location.reload(),$("success"," Deleted Successfully")},function(e){console.log(e),403===e.status?$("err",e.responseText):$("err","Some error occured while deleting your collections.")})},a.getCreatives=function(e,t){e.preventDefault(),a.props.history.push({pathname:"/brands/campaigns/creative-managements/"+t+"/creatives"})},z("/brands/campaigns"),a.state={collectionList:[],brandId:E.getSelectedBrand().id},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){P.get(M.Get_All_Collections(this.state.brandId),function(e){console.log(e),this.setState({collectionList:e})}.bind(this),function(e){console.log(e),$("err","Some error occured while fetching your collections.")})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid margin-top-5"},r.a.createElement("div",{className:"row padding-bottom-20"},r.a.createElement("div",{className:"col col-12 "},0===this.state.collectionList.length?r.a.createElement(ne.a,{className:"text-center h-100"},r.a.createElement(ne.a.Body,null,r.a.createElement("h2",{className:"text-x-love margin-bottom-20"},"No Collections Created"),r.a.createElement("h6",{className:"text-x-default max-width-70 margin-auto"},"To start with Creative Management you need to create a collection. Collection will contain a Collection Name."),r.a.createElement(G.a,{variant:"x-love",className:"margin-top-30",type:"submit",id:"create_collection_button",sm:"4",onClick:function(e){return sa(e)}},r.a.createElement("i",{className:"fas fa-plus"}),"  Create new Collection"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{variant:"x-love",type:"submit",id:"create_collection_button",sm:"4",onClick:function(e){return sa(e)}},r.a.createElement("i",{className:"fas fa-plus"}),"  Create new Collection"),r.a.createElement("h4",{className:"margin-top-20 margin-bottom-20"},"Your Collections"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-12 padding-bottom-50 center-align"},r.a.createElement(ae.a,{striped:!0,bordered:!0,hover:!0,id:"collections"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Created At"),r.a.createElement("th",null),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.state.collectionList.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,r.a.createElement("a",{className:"text-x-default cursor-pointer margin-left-15",onClick:function(a){return e.getCreatives(a,t.id)}},t.collection_name)),r.a.createElement("td",null,H.toDateFormat(t.created_at)),r.a.createElement("td",null,r.a.createElement("a",{className:"text-x-love cursor-pointer margin-left-15",onClick:function(a){return e.deleteCollection(a,t.id)}},r.a.createElement("i",{className:"fas fa-trash"}))),r.a.createElement("td",null,r.a.createElement("a",{className:"text-x-love cursor-pointer margin-left-15",onClick:function(e){return ma(e,t.id)}},r.a.createElement("i",{className:"fas fa-edit"}))))})))))))),r.a.createElement(ca,null),r.a.createElement(da,null)))}}]),t}(n.Component),ha=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).addCreative=function(e){e.preventDefault(),a.props.history.push({pathname:"/brands/campaigns/creative-managements/"+a.state.collectionId+"/creatives/add/"})},a.getCreativeById=function(e,t){e.preventDefault(),a.props.history.push({pathname:"/brands/campaigns/creative-managements/"+a.state.collectionId+"/creatives/edit/"+t})},a.deleteCreative=function(e,t){if(e.preventDefault(),"DELETE"!==window.prompt("Type 'DELETE' to delete this creative."))return $("err",'ERR. Please type "DELETE"...'),!1;P.delete(M.Delete_Creative(a.state.brandId,a.state.collectionId,t),function(e){console.log(e),window.location.reload(),$("success"," Deleted Successfully")},function(e){console.log(e),$("err","Some error occured while deleting your creative.")})},z("/brands/campaigns"),a.state={creativeList:[],brandId:E.getSelectedBrand().id,collectionId:a.props.match.params.collectionId},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){P.get(M.Get_All_Creatives(this.state.brandId,this.state.collectionId),function(e){console.log(e),this.setState({creativeList:e})}.bind(this),function(e){console.log(e),$("err","Some error occured while fetching your creatives.")})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid margin-top-5"},r.a.createElement("div",{className:"row padding-bottom-20"},r.a.createElement("div",{className:"col col-12 "},0===this.state.creativeList.length?r.a.createElement(ne.a,{className:"text-center h-100"},r.a.createElement(ne.a.Body,null,r.a.createElement("h2",{className:"text-x-love margin-bottom-20"},"No Creatives Added"),r.a.createElement("h6",{className:"text-x-default max-width-70 margin-auto"},"Add a Creative for the respective collection and the selected brand."),r.a.createElement(G.a,{variant:"x-love",className:"margin-top-30",type:"submit",id:"add_creative_button",sm:"4",onClick:function(t){return e.addCreative(t)}},r.a.createElement("i",{className:"fas fa-plus"}),"  Add Creative"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{variant:"x-love",type:"submit",id:"create_creative_button",sm:"4",onClick:function(t){return e.addCreative(t)}},r.a.createElement("i",{className:"fas fa-plus"}),"  Add Creative"),r.a.createElement("h4",{className:"margin-top-20 margin-bottom-20"},"Your Creatives"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-12 padding-bottom-50 center-align"},r.a.createElement(ae.a,{striped:!0,bordered:!0,hover:!0,id:"collections"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Created At"),r.a.createElement("th",null),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.state.creativeList.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,r.a.createElement("a",{className:"text-x-default font-weight-700 margin-left-15"},t.title)),r.a.createElement("td",{className:"font-weight-700"},null===t.is_blocked?"Active":"Blocked"),r.a.createElement("td",null,H.toDateFormat(t.created_at)),r.a.createElement("td",null,r.a.createElement("a",{className:"text-x-love cursor-pointer margin-left-15",onClick:function(a){return e.deleteCreative(a,t.id)}},r.a.createElement("i",{className:"fas fa-trash"}))),r.a.createElement("td",null,r.a.createElement("a",{className:"text-x-love cursor-pointer margin-left-15",onClick:function(a){return e.getCreativeById(a,t.id)}},r.a.createElement("i",{className:"fas fa-edit"}))))}))))))))))}}]),t}(n.Component),pa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleCreativeNameChange=function(e){a.setState({creativeTitle:e.target.value})},a.addCreatives=function(e){e.preventDefault();var t=a.createDataForUploading();if(!1===t)return!1;var n=new FormData;for(var r in t)n.append(r,t[r]);var o=!0,l=!1,i=void 0;try{for(var s,c=n.entries()[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var m=s.value;console.log(m[0]+", "+m[1])}}catch(d){l=!0,i=d}finally{try{o||null==c.return||c.return()}finally{if(l)throw i}}n&&(H.showLoader(),P.postImageData(M.Create_Creative(a.state.brandId,a.state.collectionId),n,function(e){$("success","Successfully Created"),this.props.history.push({pathname:"/brands/campaigns/creative-managements/"+this.state.collectionId+"/creatives/"})}.bind(Object(p.a)(a)),function(e){$("err","Some error while saving data")},{timeout:1e7,onComplete:function(){_()("button#addCreativeForm__btnAddCreative").removeAttr("disabled"),_()("button#addCreativeForm__backBtn").removeAttr("disabled"),_()("button#addCreativeForm__btnAddCreative").html("Create ")},beforeSend:function(){_()("button#addCreativeForm__btnAddCreative").html("Uploading your creative... it might take time."),_()("button#addCreativeForm__btnAddCreative").prepend("<span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true'></span>"),_()("button#addCreativeForm__btnAddCreative").attr("disabled","disabled"),_()("button#addCreativeForm__backBtn").attr("disabled","disabled")}}))},a.state={video:null,creativeTitle:"",brandId:E.getSelectedBrand().id,collectionId:a.props.match.params.collectionId},z("/brands/campaigns"),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=_()("#xVideoHolder").width(),t=720*e/1280;this.setState({videoUploadWidth:e+"px",videoUploadHeight:t+"px"}),_()("input[type='file']#newChannelModalForm__photo").hover(function(){_()("div#xPlay__btnUploadCoverPhoto").css("opacity","0.85")},function(){_()("div#xPlay__btnUploadCoverPhoto").css("opacity","0.1")})}},{key:"goBack",value:function(e){e.preventDefault();this.props.match.params.channel_id;this.props.history.push({pathname:"/brands/campaigns/creative-managements/"+this.state.collectionId+"/creatives/"})}},{key:"maxFileSize",value:function(e){$("err","File is too big to upload.")}},{key:"getVideo",value:function(e){this.setState({video:e})}},{key:"errorVideoUploading",value:function(e){switch(e){case"MAX_FILE_SIZE":$("err","File is too big to upload.")}}},{key:"createDataForUploading",value:function(){var e=this.state.creativeTitle;this.state.video;return null===e||void 0===e||""===e?($("err","Error. Title Cannot be Empty"),!1):null===this.state.video?($("err","Error. You must upload video"),!1):{title:e,file:this.state.video}}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row margin-top-5 margin-bottom-30"},r.a.createElement("div",{className:"col col-6"},r.a.createElement("h4",{className:"montserrat-light margin-bottom-20"},"Add a Creative"),r.a.createElement(B.a,{name:"addCreativeForm",id:"addCreativeForm",className:"row",onSubmit:function(t){return e.addCreatives(t)}},r.a.createElement(B.a.Group,{className:"col col-12",controlId:"addCreativeForm__creativeTitle"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Your creative must have a title.")},r.a.createElement(B.a.Label,{className:"text-x-default margin-left-5"},"Title")),r.a.createElement(B.a.Control,{name:"creativeTitle",type:"text",placeholder:"Title",value:this.state.creativeTitle||"",onChange:function(t){return e.handleCreativeNameChange(t)}})))),r.a.createElement("div",{className:"col col-6",id:"xVideoHolder"},r.a.createElement(Qe,{width:this.state.videoUploadWidth,height:this.state.videoUploadHeight,title:"Upload Video",subtitle:"Max 360dp MP4 Video Format (Max File Size: 400MB)",id:"addCreativeForm__video",name:"addCreativeForm__video",callBack:function(t){return e.getVideo(t)},maxFileSize:419430400,errCallBack:function(t){return e.errorVideoUploading(t)}}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-12 form-group"},r.a.createElement(G.a,{variant:"outline-x-love",id:"addCreativeForm__backBtn",onClick:function(t){return e.goBack(t)},className:"margin-right-10"},r.a.createElement("i",{className:"fas fa-chevron-left margin-right-10"})," Go Back"),r.a.createElement(G.a,{variant:"x-default",type:"submit",id:"addCreativeForm__btnAddCreative",onClick:function(t){return e.addCreatives(t)}},r.a.createElement("i",{className:"fas fa-cloud-upload-alt margin-right-10"})," Create")))))}}]),t}(n.Component),ga=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleCreativeNameChange=function(e){a.setState({creativeTitle:e.target.value})},a.updateCreative=function(e){e.preventDefault();var t=a.createDataForUpdating();if(!1===t)return!1;var n=new FormData;for(var r in t)n.append(r,t[r]);var o=!0,l=!1,i=void 0;try{for(var s,c=n.entries()[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var m=s.value;console.log(m[0]+", "+m[1])}}catch(d){l=!0,i=d}finally{try{o||null==c.return||c.return()}finally{if(l)throw i}}n&&(H.showLoader(),P.putImageData(M.Update_Creative(a.state.brandId,a.state.collectionId,a.state.creativeId),n,function(e){$("success","Successfully Updated"),this.props.history.push({pathname:"/brands/campaigns/creative-managements/"+this.state.collectionId+"/creatives/"})}.bind(Object(p.a)(a)),function(e){$("err","Some error while updating data")},{timeout:1e7,onComplete:function(){_()("button#updateCreativeForm__btnUpdateCreative").removeAttr("disabled"),_()("button#updateCreativeForm__backBtn").removeAttr("disabled"),_()("button#updateCreativeForm__btnUpdateCreative").html("Update")},beforeSend:function(){_()("button#updateCreativeForm__btnUpdateCreative").html("Updating your creative... it might take time."),_()("button#updateCreativeForm__btnUpdateCreative").prepend("<span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true'></span>"),_()("button#updateCreativeForm__btnUpdateCreative").attr("disabled","disabled"),_()("button#updateCreativeForm__backBtn").attr("disabled","disabled")}}))},a.state={video:null,creativeTitle:"",brandId:E.getSelectedBrand().id,collectionId:a.props.match.params.collectionId,creativeId:a.props.match.params.creativeId},z("/brands/campaigns"),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){P.get(M.Get_Creative_By_Id(this.state.brandId,this.state.collectionId,this.state.creativeId),function(e){console.log(e),this.setState({video:"http://"+e.url,creativeTitle:e.title})}.bind(this),function(e){console.log(e),$("err","Some error occured while fetching your creatives.")});var e=_()("#xVideoHolder").width(),t=720*e/1280;this.setState({videoUploadWidth:e+"px",videoUploadHeight:t+"px"}),_()("input[type='file']#newChannelModalForm__photo").hover(function(){_()("div#xPlay__btnUploadCoverPhoto").css("opacity","0.85")},function(){_()("div#xPlay__btnUploadCoverPhoto").css("opacity","0.1")})}},{key:"goBack",value:function(e){e.preventDefault(),this.props.history.push({pathname:"/brands/campaigns/creative-managements/"+this.state.collectionId+"/creatives/"})}},{key:"maxFileSize",value:function(e){$("err","File is too big to upload.")}},{key:"getVideo",value:function(e){this.setState({video:e})}},{key:"errorVideoUploading",value:function(e){switch(e){case"MAX_FILE_SIZE":$("err","File is too big to upload.")}}},{key:"createDataForUpdating",value:function(){var e=this.state.creativeTitle;this.state.video;return null===e||void 0===e||""===e?($("err","Error. Title Cannot be Empty"),!1):null===this.state.video?($("err","Error. You must upload video"),!1):{title:e,file:this.state.video}}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row margin-top-5 margin-bottom-30"},r.a.createElement("div",{className:"col col-6"},r.a.createElement("h4",{className:"montserrat-light margin-bottom-20"},"Update your Creative"),r.a.createElement(B.a,{name:"updateCreativeForm",id:"updateCreativeForm",className:"row",onSubmit:function(t){return e.updateCreative(t)}},r.a.createElement(B.a.Group,{className:"col col-12",controlId:"updateCreativeForm__creativeTitle"},r.a.createElement(oe.a,{placement:"right",overlay:r.a.createElement(le.a,null,"Your creative must have a title.")},r.a.createElement(B.a.Label,{className:"text-x-default margin-left-5"},"Title")),r.a.createElement(B.a.Control,{name:"creativeTitle",type:"text",placeholder:"Title",value:this.state.creativeTitle||"",onChange:function(t){return e.handleCreativeNameChange(t)}})))),r.a.createElement("div",{className:"col col-6",id:"xVideoHolder"},r.a.createElement(Qe,{videoSrc:this.state.video,width:this.state.videoUploadWidth,height:this.state.videoUploadHeight,title:"Upload Video",subtitle:"Max 360dp MP4 Video Format (Max File Size: 400MB)",id:"updateCreativeForm__video",name:"updateCreativeForm__video",callBack:function(t){return e.getVideo(t)},maxFileSize:419430400,errCallBack:function(t){return e.errorVideoUploading(t)}}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-12 form-group"},r.a.createElement(G.a,{variant:"outline-x-love",id:"updateCreativeForm__backBtn",onClick:function(t){return e.goBack(t)},className:"margin-right-10"},r.a.createElement("i",{className:"fas fa-chevron-left margin-right-10"})," Go Back"),r.a.createElement(G.a,{variant:"x-default",type:"submit",id:"updateCreativeForm__btnUpdateCreative",onClick:function(t){return e.updateCreative(t)}},r.a.createElement("i",{className:"fas fa-cloud-upload-alt margin-right-10"})," Update")))))}}]),t}(n.Component),fa=function(e){function t(){var e;Object(i.a)(this,t),e=Object(c.a)(this,Object(m.a)(t).call(this));var a=H.getUrlParams(),n=null;return"token"in a?(n=M.LOGIN_VERIFY_URL(a.token),console.log("params:",a)):localStorage.getItem("userId")&&localStorage.getItem("token")?n=M.LOGIN_VERIFY_LOCAL(localStorage.getItem("userId"),localStorage.getItem("token")):(y.logout(),window.location.replace(x[x.env].MAINSITE)),null!=n?_.a.ajax({url:n,method:"GET",error:function(e,t,a){window.location.replace(x[x.env].MAINSITE)},success:function(e,t,a){y.setLoggedInUser(e.user),U(),Y()}}):(localStorage.removeItem("userId"),localStorage.removeItem("token"),window.location.replace(x[x.env].MAINSITE)),e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,null,r.a.createElement(ee,null),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-md-4 col-lg-3 col-xl-2 d-none d-md-block padding-left-0 padding-right-0 dashboard-menuholder"},r.a.createElement(W,null)),r.a.createElement("div",{className:"col col-md-8 col-lg-9 col-xl-10 main-body-holder"},r.a.createElement("div",{id:"main-spinner-content-holder"},r.a.createElement("div",{className:"center-align",id:"spinner-holder"},r.a.createElement("div",{id:"main-spinner",className:"spinner-border text-x-default",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))),r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",component:te}),r.a.createElement(h.b,{exact:!0,path:"/developer-options",component:de}),r.a.createElement(h.b,{exact:!0,path:"/help-and-support",component:ue}),r.a.createElement(h.b,{exact:!0,path:"/content-marketing",component:$t}),r.a.createElement(h.b,{exact:!0,path:"/content-marketing/create",component:ea}),r.a.createElement(h.b,{exact:!0,path:"/content-marketing/create/images",component:ra}),r.a.createElement(h.b,{exact:!0,path:"/content-marketing/drafts",component:oa}),r.a.createElement(h.b,{exact:!0,path:"/content-marketing/in-review",component:la}),r.a.createElement(h.b,{exact:!0,path:"/content-marketing/preview",component:ia}),r.a.createElement(h.b,{exact:!0,path:"/brands",component:re}),r.a.createElement(h.b,{exact:!0,path:"/brands/campaigns",component:ce}),r.a.createElement(h.b,{exact:!0,path:"/user/billing",component:me}),r.a.createElement(h.b,{exact:!0,path:"/user/profile",component:Te}),r.a.createElement(h.b,{exact:!0,path:"/user/team",component:Be}),r.a.createElement(h.b,{exact:!0,path:"/campaign/create/",component:rt}),r.a.createElement(h.b,{exact:!0,path:"/xplay",component:ot}),r.a.createElement(h.b,{exact:!0,path:"/xplay/request",component:Ct}),r.a.createElement(h.b,{exact:!0,path:"/xplay/channel",component:yt}),r.a.createElement(h.b,{exact:!0,path:"/xplay/channel/:channel_id",component:vt}),r.a.createElement(h.b,{exact:!0,path:"/xplay/channel/:channel_id/upload-video",component:Tt}),r.a.createElement(h.b,{exact:!0,path:"/xplay/channel/:channel_id/video/:video_id",component:Mt}),r.a.createElement(h.b,{exact:!0,path:"/xplay/channel/:channel_id/live-video/:video_id",component:Pt}),r.a.createElement(h.b,{exact:!0,path:"/xmusic",component:Ut}),r.a.createElement(h.b,{exact:!0,path:"/xmusic/request",component:Yt}),r.a.createElement(h.b,{exact:!0,path:"/xmusic/audios",component:Xt}),r.a.createElement(h.b,{exact:!0,path:"/xmusic/audios/upload-audio",component:Jt}),r.a.createElement(h.b,{exact:!0,path:"/brands/campaigns/creative-managements/collections/",component:ua}),r.a.createElement(h.b,{exact:!0,path:"/brands/campaigns/creative-managements/:collectionId/creatives",component:ha}),r.a.createElement(h.b,{exact:!0,path:"/brands/campaigns/creative-managements/:collectionId/creatives/add/",component:pa}),r.a.createElement(h.b,{exact:!0,path:"/brands/campaigns/creative-managements/:collectionId/creatives/edit/:creativeId",component:ga}),r.a.createElement(h.b,{component:Ge})))))))}}]),t}(n.Component),va=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ea(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all "),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(r.a.createElement(fa,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");va?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Ea(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service ")})):Ea(t,e)})}}()}},[[388,1,2]]]);
//# sourceMappingURL=main.b2685e9f.chunk.js.map